(self.webpackChunkplotter=self.webpackChunkplotter||[]).push([[179],{4514:(te,Pt,$)=>{"use strict";function J(t){return"function"==typeof t}function tt(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const yt=tt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ft(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class wt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(J(i))try{i()}catch(o){n=o instanceof yt?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Mt(o)}catch(s){n=n??[],s instanceof yt?n=[...n,...s.errors]:n.push(s)}}if(n)throw new yt(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Mt(n);else{if(n instanceof wt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ft(e,n)}remove(n){const{_finalizers:e}=this;e&&ft(e,n),n instanceof wt&&n._removeParent(this)}}wt.EMPTY=(()=>{const t=new wt;return t.closed=!0,t})();const rt=wt.EMPTY;function xt(t){return t instanceof wt||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Mt(t){J(t)?t():t.unsubscribe()}const At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gt={setTimeout(t,n,...e){const{delegate:i}=Gt;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Gt;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ft(t){Gt.setTimeout(()=>{const{onUnhandledError:n}=At;if(!n)throw t;n(t)})}function Nt(){}const Rt=ot("C",void 0,void 0);function ot(t,n,e){return{kind:t,value:n,error:e}}let B=null;function Y(t){if(At.useDeprecatedSynchronousErrorHandling){const n=!B;if(n&&(B={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=B;if(B=null,e)throw i}}else t()}class ht extends wt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,xt(n)&&n.add(this)):this.destination=K}static create(n,e,i){return new k(n,e,i)}next(n){this.isStopped?bt(function H(t){return ot("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?bt(function ie(t){return ot("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?bt(Rt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function Z(t,n){return G.call(t,n)}class et{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){It(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){It(i)}else It(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){It(e)}}}class k extends ht{constructor(n,e,i){let r;if(super(),J(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Z(n.next,o),error:n.error&&Z(n.error,o),complete:n.complete&&Z(n.complete,o)}):r=n}this.destination=new et(r)}}function It(t){At.useDeprecatedSynchronousErrorHandling?function j(t){At.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=t)}(t):Ft(t)}function bt(t,n){const{onStoppedNotification:e}=At;e&&Gt.setTimeout(()=>e(t,n))}const K={closed:!0,next:Nt,error:function dt(t){throw t},complete:Nt},Jt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lt(t){return t}function vt(t){return 0===t.length?Lt:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}let at=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function nt(t){return t&&t instanceof ht||function Ct(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}(t)&&xt(t)}(e)?e:new k(e,i,r);return Y(()=>{const{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=gt(i))((r,o)=>{const s=new k({next:u=>{try{e(u)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Jt](){return this}pipe(...e){return vt(e)(this)}toPromise(e){return new(e=gt(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function gt(t){var n;return null!==(n=t??At.Promise)&&void 0!==n?n:Promise}const Et=tt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let V=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ot(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Et}next(e){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Y(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?rt:(this.currentObservers=null,o.push(e),new wt(()=>{this.currentObservers=null,ft(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return t.create=(n,e)=>new Ot(n,e),t})();class Ot extends V{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:rt}}function ut(t){return J(t?.lift)}function Bt(t){return n=>{if(ut(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(t,n,e,i,r){return new Kt(t,n,e,i,r)}class Kt extends ht{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(u){try{e(u)}catch(c){n.error(c)}}:super._next,this._error=r?function(u){try{r(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function jt(t,n){return Bt((e,i)=>{let r=0;e.subscribe(Wt(i,o=>{i.next(t.call(n,o,r++))}))})}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function dn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Xt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(u,c){!function r(o,s,u,c){Promise.resolve(c).then(function(h){o({value:h,done:u})},s)}(u,c,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const sn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Js(t){return J(t?.then)}function Fs(t){return J(t[Jt])}function ys(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function ou(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ac=function Td(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Uh(t){return J(t?.[ac])}function Kr(t){return function bi(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(v){i[v]&&(r[v]=function(b){return new Promise(function(E,D){o.push([v,b,E,D])>1||u(v,b)})})}function u(v,b){try{!function c(v){v.value instanceof ke?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}(i[v](b))}catch(E){m(o[0][3],E)}}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,b){v(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield ke(e.read());if(r)return yield ke(void 0);yield yield ke(i)}}finally{e.releaseLock()}})}function Ge(t){return J(t?.getReader)}function Dr(t){if(t instanceof at)return t;if(null!=t){if(Fs(t))return function La(t){return new at(n=>{const e=t[Jt]();if(J(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(sn(t))return function Nn(t){return new at(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(Js(t))return function rs(t){return new at(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Ft)})}(t);if(ys(t))return jo(t);if(Uh(t))return function os(t){return new at(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Ge(t))return function Sr(t){return jo(Kr(t))}(t)}throw ou(t)}function jo(t){return new at(n=>{(function ka(t,n){var e,i,r,o;return function Q(t,n,e,i){return new(e||(e=Promise))(function(o,s){function u(p){try{h(i.next(p))}catch(m){s(m)}}function c(p){try{h(i.throw(p))}catch(m){s(m)}}function h(p){p.done?o(p.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(p.value).then(u,c)}h((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=dn(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Ar(t,n,e,i=0,r=!1){const o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function wi(t,n,e=1/0){return J(n)?wi((i,r)=>jt((o,s)=>n(i,o,r,s))(Dr(t(i,r))),e):("number"==typeof n&&(e=n),Bt((i,r)=>function uc(t,n,e,i,r,o,s,u){const c=[];let h=0,p=0,m=!1;const v=()=>{m&&!c.length&&!h&&n.complete()},b=D=>h<i?E(D):c.push(D),E=D=>{o&&n.next(D),h++;let I=!1;Dr(e(D,p++)).subscribe(Wt(n,T=>{r?.(T),o?b(T):n.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(h--;c.length&&h<i;){const T=c.shift();s?Ar(n,s,()=>E(T)):E(T)}v()}catch(T){n.error(T)}}))};return t.subscribe(Wt(n,b,()=>{m=!0,v()})),()=>{u?.()}}(i,r,t,e)))}function su(t=1/0){return wi(Lt,t)}const Fn=new at(t=>t.complete());function Do(t){return t&&J(t.schedule)}function Ks(t){return t[t.length-1]}function Qi(t){return J(Ks(t))?t.pop():void 0}function ga(t){return Do(Ks(t))?t.pop():void 0}function ss(t,n=0){return Bt((e,i)=>{e.subscribe(Wt(i,r=>Ar(i,t,()=>i.next(r),n),()=>Ar(i,t,()=>i.complete(),n),r=>Ar(i,t,()=>i.error(r),n)))})}function ro(t,n=0){return Bt((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function ln(t,n){if(!t)throw new Error("Iterable cannot be null");return new at(e=>{Ar(e,n,()=>{const i=t[Symbol.asyncIterator]();Ar(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function lr(t,n){return n?function Ro(t,n){if(null!=t){if(Fs(t))return function Il(t,n){return Dr(t).pipe(ro(n),ss(n))}(t,n);if(sn(t))return function Fa(t,n){return new at(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(Js(t))return function Ju(t,n){return Dr(t).pipe(ro(n),ss(n))}(t,n);if(ys(t))return ln(t,n);if(Uh(t))return function Vn(t,n){return new at(e=>{let i;return Ar(e,n,()=>{i=t[ac](),Ar(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>J(i?.return)&&i.return()})}(t,n);if(Ge(t))return function Tl(t,n){return ln(Kr(t),n)}(t,n)}throw ou(t)}(t,n):Dr(t)}class _e extends V{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function Pe(...t){return lr(t,ga(t))}function Ho(t={}){const{connector:n=(()=>new V),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,u,c,h=0,p=!1,m=!1;const v=()=>{u?.unsubscribe(),u=void 0},b=()=>{v(),s=c=void 0,p=m=!1},E=()=>{const D=s;b(),D?.unsubscribe()};return Bt((D,I)=>{h++,!m&&!p&&v();const T=c=c??n();I.add(()=>{h--,0===h&&!m&&!p&&(u=uu(E,r))}),T.subscribe(I),!s&&h>0&&(s=new k({next:M=>T.next(M),error:M=>{m=!0,v(),u=uu(b,e,M),T.error(M)},complete:()=>{p=!0,v(),u=uu(b,i),T.complete()}}),Dr(D).subscribe(s))})(o)}}function uu(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new k({next:()=>{i.unsubscribe(),t()}});return Dr(n(...e)).subscribe(i)}function Ve(t,n){return Bt((e,i)=>{let r=null,o=0,s=!1;const u=()=>s&&!r&&i.complete();e.subscribe(Wt(i,c=>{r?.unsubscribe();let h=0;const p=o++;Dr(t(c,p)).subscribe(r=Wt(i,m=>i.next(n?n(c,m,p,h++):m),()=>{r=null,u()}))},()=>{s=!0,u()}))})}function lc(t,n){return t===n}function Pn(t){for(let n in t)if(t[n]===Pn)return n;throw Error("Could not find renamed property on target object.")}function mi(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function _i(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_i).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ba(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ku=Pn({__forward_ref__:Pn});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return _i(this())},t}function en(t){return Lo(t)?t():t}function Lo(t){return"function"==typeof t&&t.hasOwnProperty(Ku)&&t.__forward_ref__===Zt}function as(t){return t&&!!t.\u0275providers}class Qt extends Error{constructor(n,e){super(function Cn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Le(t){return"string"==typeof t?t:null==t?"":String(t)}function In(t,n){throw new Qt(-201,!1)}function Uo(t,n){null==t&&function $e(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function we(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ei(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pl(t){return ma(t,us)||ma(t,tr)}function ma(t,n){return t.hasOwnProperty(n)?t[n]:null}function _a(t){return t&&(t.hasOwnProperty(ja)||t.hasOwnProperty(Te))?t[ja]:null}const us=Pn({\u0275prov:Pn}),ja=Pn({\u0275inj:Pn}),tr=Pn({ngInjectableDef:Pn}),Te=Pn({ngInjectorDef:Pn});var On=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(On||{});let lu;function er(t){const n=lu;return lu=t,n}function va(t,n,e){const i=Pl(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&On.Optional?null:void 0!==n?n:void In(_i(t))}const ji=globalThis;class Ne{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=we({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ws={},Tn="__NG_DI_FLAG__",uo="ngTempTokenPath",ea=/\n/gm,Ur="__source";let nl;function Gr(t){const n=nl;return nl=t,n}function xs(t,n=On.Default){if(void 0===nl)throw new Qt(-203,!1);return null===nl?va(t,void 0,n):nl.get(t,n&On.Optional?null:void 0,n)}function ye(t,n=On.Default){return(function vr(){return lu}()||xs)(en(t),n)}function fe(t,n=On.Default){return ye(t,ls(n))}function ls(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cs(t){const n=[];for(let e=0;e<t.length;e++){const i=en(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Qt(900,!1);let r,o=On.Default;for(let s=0;s<i.length;s++){const u=i[s],c=Ir(u);"number"==typeof c?-1===c?r=u.token:o|=c:r=u}n.push(ye(r,o))}else n.push(ye(i))}return n}function $o(t,n){return t[Tn]=n,t.prototype[Tn]=n,t}function Ir(t){return t[Tn]}function Ri(t){return{toString:t}.toString()}var zs=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zs||{}),yr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yr||{});const ia={},Je=[],Al=Pn({\u0275cmp:Pn}),js=Pn({\u0275dir:Pn}),hu=Pn({\u0275pipe:Pn}),ra=Pn({\u0275mod:Pn}),Es=Pn({\u0275fac:Pn}),Hs=Pn({__NG_ELEMENT_ID__:Pn}),hs=Pn({__NG_ENV_ID__:Pn});function br(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function ya(t,n,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],u=e[i++];t.setAttribute(n,s,u,o)}else{const o=r,s=e[++i];Mo(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function Rr(t){return 3===t||4===t||6===t}function Mo(t){return 64===t.charCodeAt(0)}function qo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||il(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function il(t,n,e,i,r){let o=0,s=t.length;if(-1===n)s=-1;else for(;o<t.length;){const u=t[o++];if("number"==typeof u){if(u===n){s=-1;break}if(u>n){s=o-1;break}}}for(;o<t.length;){const u=t[o];if("number"==typeof u)break;if(u===e){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const Ua="ng-template";function Ga(t,n,e){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if("string"==typeof o&&r){const s=t[i++];if(e&&"class"===o&&-1!==br(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function fs(t){return 4===t.type&&t.value!==Ua}function to(t,n,e){return n===(4!==t.type||e?t.value:Ua)}function ds(t,n,e){let i=4;const r=t.attrs||[],o=function Tr(t){for(let n=0;n<t.length;n++)if(Rr(t[n]))return n;return t.length}(r);let s=!1;for(let u=0;u<n.length;u++){const c=n[u];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!to(t,c,e)||""===c&&1===n.length){if(Ui(i))return!1;s=!0}}else{const h=8&i?c:n[++u];if(8&i&&null!==t.attrs){if(!Ga(t.attrs,h,e)){if(Ui(i))return!1;s=!0}continue}const m=Yc(8&i?"class":c,r,fs(t),e);if(-1===m){if(Ui(i))return!1;s=!0;continue}if(""!==h){let v;v=m>o?"":r[m+1].toLowerCase();const b=8&i?v:null;if(b&&-1!==br(b,h,0)||2&i&&h!==v){if(Ui(i))return!1;s=!0}}}}else{if(!s&&!Ui(i)&&!Ui(c))return!1;if(s&&Ui(c))continue;s=!1,i=c|1&i}}return Ui(i)||s}function Ui(t){return 0==(1&t)}function Yc(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){const s=n[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let u=n[++r];for(;"string"==typeof u;)u=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function lo(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function ba(t,n,e=!1){for(let i=0;i<n.length;i++)if(ds(t,n[i],e))return!0;return!1}function Wo(t,n){t:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function Yo(t,n){return t?":not("+n.trim()+")":n}function fc(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&i){const u=t[++e];r+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Ui(s)&&(n+=Yo(o,r),r=""),i=s,o=o||!Ui(i);e++}return""!==r&&(n+=Yo(o,r)),n}function Gi(t){return Ri(()=>{const n=Zc(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yr.Emulated,styles:t.styles||Je,_:null,schemas:t.schemas||null,tView:null,id:""};pc(e);const i=t.dependencies;return e.directiveDefs=Lr(i,!1),e.pipeDefs=Lr(i,!0),e.id=function gc(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function $r(t){return pn(t)||nr(t)}function dc(t){return null!==t}function Dn(t){return Ri(()=>({type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zo(t,n){if(null==t)return ia;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,n&&(n[r]=o)}return e}function pe(t){return Ri(()=>{const n=Zc(t);return pc(n),n})}function pn(t){return t[Al]||null}function nr(t){return t[js]||null}function jn(t){return t[hu]||null}function An(t,n){const e=t[ra]||null;if(!e&&!0===n)throw new Error(`Type ${_i(t)} does not have '\u0275mod' property.`);return e}function Zc(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||ia,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zo(t.inputs,n),outputs:Zo(t.outputs)}}function pc(t){t.features?.forEach(n=>n(t))}function Lr(t,n){if(!t)return null;const e=n?jn:$r;return()=>("function"==typeof t?t():t).map(i=>e(i)).filter(dc)}const ki=0,xe=1,ze=2,wn=3,Xo=4,f=5,_=6,w=7,C=8,N=9,W=10,_t=11,zt=12,Yt=13,se=14,ce=15,Ze=16,cn=17,ir=18,Yi=19,eo=20,cr=21,co=22,Us=23,Qe=24,gn=25,xa=1,To=2,Ni=7,Fi=9,Wr=11;function l(t){return Array.isArray(t)&&"object"==typeof t[xa]}function d(t){return Array.isArray(t)&&!0===t[xa]}function g(t){return 0!=(4&t.flags)}function y(t){return t.componentOffset>-1}function x(t){return 1==(1&t.flags)}function S(t){return!!t.template}function F(t){return 0!=(512&t[ze])}function Xc(t,n){return t.hasOwnProperty(Es)?t[Es]:null}let Ds=null,Zg=!1;function pu(t){const n=Ds;return Ds=t,n}const PC={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function AC(t){if(!Pd(t)||t.dirty){if(!t.producerMustRecompute(t)&&!kC(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function LC(t){t.dirty=!0,function RC(t){if(void 0===t.liveConsumerNode)return;const n=Zg;Zg=!0;try{for(const e of t.liveConsumerNode)e.dirty||LC(e)}finally{Zg=n}}(t),t.consumerMarkedDirty?.(t)}function Zy(t){return t&&(t.nextProducerIndex=0),pu(t)}function Xy(t,n){if(pu(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Pd(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Xg(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function kC(t){Wh(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(AC(e),i!==e.version))return!0}return!1}function FC(t){if(Wh(t),Pd(t))for(let n=0;n<t.producerNode.length;n++)Xg(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xg(t,n){if(function VC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Wh(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)Xg(t.producerNode[i],t.producerIndexOfThis[i]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];Wh(r),r.producerIndexOfThis[i]=n}}function Pd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let zC=null;const GC=()=>{},yV=(()=>({...PC,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:GC}))();class bV{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ss(){return $C}function $C(t){return t.type.prototype.ngOnChanges&&(t.setInput=xV),wV}function wV(){const t=WC(this),n=t?.current;if(n){const e=t.previous;if(e===ia)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function xV(t,n,e,i){const r=this.declaredInputs[e],o=WC(t)||function EV(t,n){return t[qC]=n}(t,{previous:ia,current:null}),s=o.current||(o.current={}),u=o.previous,c=u[r];s[r]=new bV(c&&c.currentValue,n,u===ia),t[i]=n}Ss.ngInherit=!0;const qC="__ngSimpleChanges__";function WC(t){return t[qC]||null}const al=function(t,n,e){};function kr(t){for(;Array.isArray(t);)t=t[ki];return t}function Jg(t,n){return kr(n[t])}function Ea(t,n){return kr(n[t.index])}function XC(t,n){return t.data[n]}function $a(t,n){const e=n[t];return l(e)?e:e[ki]}function _c(t,n){return null==n?null:t[n]}function JC(t){t[cn]=0}function TV(t){1024&t[ze]||(t[ze]|=1024,QC(t,1))}function KC(t){1024&t[ze]&&(t[ze]&=-1025,QC(t,-1))}function QC(t,n){let e=t[wn];if(null===e)return;e[f]+=n;let i=e;for(e=e[wn];null!==e&&(1===n&&1===i[f]||-1===n&&0===i[f]);)e[f]+=n,i=e,e=e[wn]}const _n={lFrame:cD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nD(){return _n.bindingsEnabled}function Zh(){return null!==_n.skipHydrationRootTNode}function ae(){return _n.lFrame.lView}function Pi(){return _n.lFrame.tView}function Di(t){return _n.lFrame.contextLView=t,t[C]}function Si(t){return _n.lFrame.contextLView=null,t}function Ms(){let t=iD();for(;null!==t&&64===t.type;)t=t.parent;return t}function iD(){return _n.lFrame.currentTNode}function ul(t,n){const e=_n.lFrame;e.currentTNode=t,e.isParent=n}function e0(){return _n.lFrame.isParent}function n0(){_n.lFrame.isParent=!1}function Xh(){return _n.lFrame.bindingIndex++}function Ll(t){const n=_n.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function jV(t,n){const e=_n.lFrame;e.bindingIndex=e.bindingRootIndex=t,r0(n)}function r0(t){_n.lFrame.currentDirectiveIndex=t}function aD(){return _n.lFrame.currentQueryIndex}function s0(t){_n.lFrame.currentQueryIndex=t}function UV(t){const n=t[xe];return 2===n.type?n.declTNode:1===n.type?t[_]:null}function uD(t,n,e){if(e&On.SkipSelf){let r=n,o=t;for(;!(r=r.parent,null!==r||e&On.Host||(r=UV(o),null===r||(o=o[se],10&r.type))););if(null===r)return!1;n=r,t=o}const i=_n.lFrame=lD();return i.currentTNode=n,i.lView=t,!0}function a0(t){const n=lD(),e=t[xe];_n.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function lD(){const t=_n.lFrame,n=null===t?null:t.child;return null===n?cD(t):n}function cD(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function hD(){const t=_n.lFrame;return _n.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fD=hD;function u0(){const t=hD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sa(){return _n.lFrame.selectedIndex}function Jc(t){_n.lFrame.selectedIndex=t}function ho(){const t=_n.lFrame;return XC(t.tView,t.selectedIndex)}let pD=!0;function Kg(){return pD}function vc(t){pD=t}function Qg(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-e,s),u&&((t.contentHooks??=[]).push(e,u),(t.contentCheckHooks??=[]).push(e,u)),c&&(t.viewHooks??=[]).push(-e,c),h&&((t.viewHooks??=[]).push(e,h),(t.viewCheckHooks??=[]).push(e,h)),null!=p&&(t.destroyHooks??=[]).push(e,p)}}function tm(t,n,e){gD(t,n,3,e)}function em(t,n,e,i){(3&t[ze])===e&&gD(t,n,e,i)}function l0(t,n){let e=t[ze];(3&e)===n&&(e&=8191,e+=1,t[ze]=e)}function gD(t,n,e,i){const o=i??-1,s=n.length-1;let u=0;for(let c=void 0!==i?65535&t[cn]:0;c<s;c++)if("number"==typeof n[c+1]){if(u=n[c],null!=i&&u>=i)break}else n[c]<0&&(t[cn]+=65536),(u<o||-1==o)&&(JV(t,e,n,c),t[cn]=(4294901760&t[cn])+c+2),c++}function mD(t,n){al(4,t,n);const e=pu(null);try{n.call(t)}finally{pu(e),al(5,t,n)}}function JV(t,n,e,i){const r=e[i]<0,o=e[i+1],u=t[r?-e[i]:e[i]];r?t[ze]>>13<t[cn]>>16&&(3&t[ze])===n&&(t[ze]+=8192,mD(u,o)):mD(u,o)}const Jh=-1;class Ad{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function h0(t){return t!==Jh}function Rd(t){return 32767&t}function Ld(t,n){let e=function ez(t){return t>>16}(t),i=n;for(;e>0;)i=i[se],e--;return i}let f0=!0;function nm(t){const n=f0;return f0=t,n}const _D=255,vD=5;let nz=0;const ll={};function im(t,n){const e=yD(t,n);if(-1!==e)return e;const i=n[xe];i.firstCreatePass&&(t.injectorIndex=n.length,d0(i.data,t),d0(n,null),d0(i.blueprint,null));const r=rm(t,n),o=t.injectorIndex;if(h0(r)){const s=Rd(r),u=Ld(r,n),c=u[xe].data;for(let h=0;h<8;h++)n[o+h]=u[s+h]|c[s+h]}return n[o+8]=r,o}function d0(t,n){t.push(0,0,0,0,0,0,0,0,n)}function yD(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function rm(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){if(i=SD(r),null===i)return Jh;if(e++,r=r[se],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Jh}function p0(t,n,e){!function iz(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Hs)&&(i=e[Hs]),null==i&&(i=e[Hs]=nz++);const r=i&_D;n.data[t+(r>>vD)]|=1<<r}(t,n,e)}function bD(t,n,e){if(e&On.Optional||void 0!==t)return t;In()}function wD(t,n,e,i){if(e&On.Optional&&void 0===i&&(i=null),!(e&(On.Self|On.Host))){const r=t[N],o=er(void 0);try{return r?r.get(n,i,e&On.Optional):va(n,i,e&On.Optional)}finally{er(o)}}return bD(i,0,e)}function xD(t,n,e,i=On.Default,r){if(null!==t){if(2048&n[ze]&&!(i&On.Self)){const s=function lz(t,n,e,i,r){let o=t,s=n;for(;null!==o&&null!==s&&2048&s[ze]&&!(512&s[ze]);){const u=ED(o,s,e,i|On.Self,ll);if(u!==ll)return u;let c=o.parent;if(!c){const h=s[eo];if(h){const p=h.get(e,ll,i);if(p!==ll)return p}c=SD(s),s=s[se]}o=c}return r}(t,n,e,i,ll);if(s!==ll)return s}const o=ED(t,n,e,i,ll);if(o!==ll)return o}return wD(n,e,i,r)}function ED(t,n,e,i,r){const o=function sz(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Hs)?t[Hs]:void 0;return"number"==typeof n?n>=0?n&_D:uz:n}(e);if("function"==typeof o){if(!uD(n,t,i))return i&On.Host?bD(r,0,i):wD(n,e,i,r);try{let s;if(s=o(i),null!=s||i&On.Optional)return s;In()}finally{fD()}}else if("number"==typeof o){let s=null,u=yD(t,n),c=Jh,h=i&On.Host?n[ce][_]:null;for((-1===u||i&On.SkipSelf)&&(c=-1===u?rm(t,n):n[u+8],c!==Jh&&DD(i,!1)?(s=n[xe],u=Rd(c),n=Ld(c,n)):u=-1);-1!==u;){const p=n[xe];if(CD(o,u,p.data)){const m=oz(u,n,e,s,i,h);if(m!==ll)return m}c=n[u+8],c!==Jh&&DD(i,n[xe].data[u+8]===h)&&CD(o,u,n)?(s=p,u=Rd(c),n=Ld(c,n)):u=-1}}return r}function oz(t,n,e,i,r,o){const s=n[xe],u=s.data[t+8],p=om(u,s,e,null==i?y(u)&&f0:i!=s&&0!=(3&u.type),r&On.Host&&o===u);return null!==p?Kc(n,s,p,u):ll}function om(t,n,e,i,r){const o=t.providerIndexes,s=n.data,u=1048575&o,c=t.directiveStart,p=o>>20,v=r?u+p:t.directiveEnd;for(let b=i?u:u+p;b<v;b++){const E=s[b];if(b<c&&e===E||b>=c&&E.type===e)return b}if(r){const b=s[c];if(b&&S(b)&&b.type===e)return c}return null}function Kc(t,n,e,i){let r=t[e];const o=n.data;if(function KV(t){return t instanceof Ad}(r)){const s=r;s.resolving&&function Nd(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Qt(-200,`Circular dependency in DI detected for ${t}${e}`)}(function xi(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Le(t)}(o[e]));const u=nm(s.canSeeViewProviders);s.resolving=!0;const h=s.injectImpl?er(s.injectImpl):null;uD(t,i,On.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&function XV(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=$C(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}(e,o[e],n)}finally{null!==h&&er(h),nm(u),s.resolving=!1,fD()}}return r}function CD(t,n,e){return!!(e[n+(t>>vD)]&1<<t)}function DD(t,n){return!(t&On.Self||t&On.Host&&n)}class aa{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return xD(this._tNode,this._lView,n,ls(i),e)}}function uz(){return new aa(Ms(),ae())}function No(t){return Ri(()=>{const n=t.prototype.constructor,e=n[Es]||g0(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[Es]||g0(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function g0(t){return Lo(t)?()=>{const n=g0(en(t));return n&&n()}:Xc(t)}function SD(t){const n=t[xe],e=n.type;return 2===e?n.declTNode:1===e?t[_]:null}const Qh="__parameters__";function ef(t,n,e){return Ri(()=>{const i=function m0(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return u.annotation=s,u;function u(c,h,p){const m=c.hasOwnProperty(Qh)?c[Qh]:Object.defineProperty(c,Qh,{value:[]})[Qh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function rf(t,n){t.forEach(e=>Array.isArray(e)?rf(e,n):n(e))}function ID(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function sm(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Bd(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function qa(t,n,e){let i=sf(t,n);return i>=0?t[1|i]=e:(i=~i,function mz(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function _0(t,n){const e=sf(t,n);if(e>=0)return t[1|e]}function sf(t,n){return function TD(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}(t,n,1)}const um=$o(ef("Optional"),8),lm=$o(ef("SkipSelf"),4);function pm(t){return 128==(128&t.flags)}var yc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yc||{});const x0=new Map;let zz=0;const C0="__ngContext__";function Gs(t,n){l(n)?(t[C0]=n[Yi],function Hz(t){x0.set(t[Yi],t)}(n)):t[C0]=n}let D0;function S0(t,n){return D0(t,n)}function jd(t){const n=t[wn];return d(n)?n[wn]:n}function ZD(t){return JD(t[zt])}function XD(t){return JD(t[Xo])}function JD(t){for(;null!==t&&!d(t);)t=t[Xo];return t}function lf(t,n,e,i,r){if(null!=i){let o,s=!1;d(i)?o=i:l(i)&&(s=!0,i=i[ki]);const u=kr(i);0===t&&null!==e?null==r?eS(n,e,u):th(n,e,u,r||null,!0):1===t&&null!==e?th(n,e,u,r||null,!0):2===t?function wm(t,n,e){const i=ym(t,n);i&&function aj(t,n,e,i){t.removeChild(n,e,i)}(t,i,n,e)}(n,u,s):3===t&&n.destroyNode(u),null!=o&&function cj(t,n,e,i,r){const o=e[Ni];o!==kr(e)&&lf(n,t,i,o,r);for(let u=Wr;u<e.length;u++){const c=e[u];Ud(c[xe],c,t,n,i,o)}}(n,t,o,e,r)}}function _m(t,n,e){return t.createElement(n,e)}function QD(t,n){const e=t[Fi],i=e.indexOf(n);KC(n),e.splice(i,1)}function vm(t,n){if(t.length<=Wr)return;const e=Wr+n,i=t[e];if(i){const r=i[Ze];null!==r&&r!==t&&QD(r,i),n>0&&(t[e-1][Xo]=i[Xo]);const o=sm(t,Wr+n);!function Qz(t,n){Ud(t,n,n[_t],2,null,null),n[ki]=null,n[_]=null}(i[xe],i);const s=o[ir];null!==s&&s.detachView(o[xe]),i[wn]=null,i[Xo]=null,i[ze]&=-129}return i}function I0(t,n){if(!(256&n[ze])){const e=n[_t];n[Us]&&FC(n[Us]),n[Qe]&&FC(n[Qe]),e.destroyNode&&Ud(t,n,e,3,null,null),function nj(t){let n=t[zt];if(!n)return T0(t[xe],t);for(;n;){let e=null;if(l(n))e=n[zt];else{const i=n[Wr];i&&(e=i)}if(!e){for(;n&&!n[Xo]&&n!==t;)l(n)&&T0(n[xe],n),n=n[wn];null===n&&(n=t),l(n)&&T0(n[xe],n),e=n&&n[Xo]}n=e}}(n)}}function T0(t,n){if(!(256&n[ze])){n[ze]&=-129,n[ze]|=256,function sj(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof Ad)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const u=r[o[s]],c=o[s+1];al(4,u,c);try{c.call(u)}finally{al(5,u,c)}}else{al(4,r,o);try{o.call(r)}finally{al(5,r,o)}}}}}(t,n),function oj(t,n){const e=t.cleanup,i=n[w];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(n[w]=null);const r=n[cr];if(null!==r){n[cr]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,n),1===n[xe].type&&n[_t].destroy();const e=n[Ze];if(null!==e&&d(n[wn])){e!==n[wn]&&QD(e,n);const i=n[ir];null!==i&&i.detachView(t)}!function Uz(t){x0.delete(t[Yi])}(n)}}function N0(t,n,e){return function tS(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[ki];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===yr.None||o===yr.Emulated)return null}return Ea(i,e)}}(t,n.parent,e)}function th(t,n,e,i,r){t.insertBefore(n,e,i,r)}function eS(t,n,e){t.appendChild(n,e)}function nS(t,n,e,i,r){null!==i?th(t,n,e,i,r):eS(t,n,e)}function ym(t,n){return t.parentNode(n)}function iS(t,n,e){return oS(t,n,e)}let P0,L0,oS=function rS(t,n,e){return 40&t.type?Ea(t,e):null};function bm(t,n,e,i){const r=N0(t,i,n),o=n[_t],u=iS(i.parent||n[_],i,n);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)nS(o,r,e[c],u,!1);else nS(o,r,e,u,!1);void 0!==P0&&P0(o,i,n,e,r)}function Hd(t,n){if(null!==n){const e=n.type;if(3&e)return Ea(n,t);if(4&e)return O0(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Hd(t,i);{const r=t[n.index];return d(r)?O0(-1,r):kr(r)}}if(32&e)return S0(n,t)()||kr(t[n.index]);{const i=aS(t,n);return null!==i?Array.isArray(i)?i[0]:Hd(jd(t[ce]),i):Hd(t,n.next)}}return null}function aS(t,n){return null!==n?t[ce][_].projection[n.projection]:null}function O0(t,n){const e=Wr+t+1;if(e<n.length){const i=n[e],r=i[xe].firstChild;if(null!==r)return Hd(i,r)}return n[Ni]}function A0(t,n,e,i,r,o,s){for(;null!=e;){const u=i[e.index],c=e.type;if(s&&0===n&&(u&&Gs(kr(u),i),e.flags|=2),32!=(32&e.flags))if(8&c)A0(t,n,e.child,i,r,o,!1),lf(n,t,r,u,o);else if(32&c){const h=S0(e,i);let p;for(;p=h();)lf(n,t,r,p,o);lf(n,t,r,u,o)}else 16&c?lS(t,n,i,e,r,o):lf(n,t,r,u,o);e=s?e.projectionNext:e.next}}function Ud(t,n,e,i,r,o){A0(e,i,t.firstChild,n,r,o,!1)}function lS(t,n,e,i,r,o){const s=e[ce],c=s[_].projection[i.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)lf(n,t,r,c[h],o);else{let h=c;const p=s[wn];pm(i)&&(h.flags|=128),A0(t,n,h,p,r,o,!0)}}function cS(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function hS(t,n,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&ya(t,n,i),null!==r&&cS(t,n,r),null!==o&&function fj(t,n,e){t.setAttribute(n,"style",e)}(t,n,o)}class gS{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bc(t){return t instanceof gS?t.changingThisBreaksApplicationSecurity:t}const Wd=new Ne("ENVIRONMENT_INITIALIZER"),DS=new Ne("INJECTOR",-1),SS=new Ne("INJECTOR_DEF_TYPES");class j0{get(n,e=ws){if(e===ws){const i=new Error(`NullInjectorError: No provider for ${_i(n)}!`);throw i.name="NullInjectorError",i}return e}}function Vj(...t){return{\u0275providers:IS(0,t),\u0275fromNgModule:!0}}function IS(t,...n){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return rf(n,s=>{const u=s;Dm(u,o,[],i)&&(r||=[],r.push(u))}),void 0!==r&&TS(r,o),e}function TS(t,n){for(let e=0;e<t.length;e++){const{ngModule:i,providers:r}=t[e];H0(r,o=>{n(o,i)})}}function Dm(t,n,e,i){if(!(t=en(t)))return!1;let r=null,o=_a(t);const s=!o&&pn(t);if(o||s){if(s&&!s.standalone)return!1;r=t}else{const c=t.ngModule;if(o=_a(c),!o)return!1;r=c}const u=i.has(r);if(s){if(u)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const h of c)Dm(h,n,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!u){let h;i.add(r);try{rf(o.imports,p=>{Dm(p,n,e,i)&&(h||=[],h.push(p))})}finally{}void 0!==h&&TS(h,n)}if(!u){const h=Xc(r)||(()=>new r);n({provide:r,useFactory:h,deps:Je},r),n({provide:SS,useValue:r,multi:!0},r),n({provide:Wd,useValue:()=>ye(r),multi:!0},r)}const c=o.providers;if(null!=c&&!u){const h=t;H0(c,p=>{n(p,h)})}}}return r!==t&&void 0!==t.providers}function H0(t,n){for(let e of t)as(e)&&(e=e.\u0275providers),Array.isArray(e)?H0(e,n):n(e)}const zj=Pn({provide:String,useValue:Pn});function U0(t){return null!==t&&"object"==typeof t&&zj in t}function eh(t){return"function"==typeof t}const G0=new Ne("Set Injector scope."),Sm={},Hj={};let $0;function Mm(){return void 0===$0&&($0=new j0),$0}class Da{}class df extends Da{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,W0(n,s=>this.processProvider(s)),this.records.set(DS,pf(void 0,this)),r.has("environment")&&this.records.set(Da,pf(void 0,this));const o=this.records.get(G0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(SS.multi,Je,On.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Gr(this),i=er(void 0);try{return n()}finally{Gr(e),er(i)}}get(n,e=ws,i=On.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(hs))return n[hs](this);i=ls(i);const o=Gr(this),s=er(void 0);try{if(!(i&On.SkipSelf)){let c=this.records.get(n);if(void 0===c){const h=function Wj(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ne}(n)&&Pl(n);c=h&&this.injectableDefInScope(h)?pf(q0(n),Sm):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(i&On.Self?Mm():this.parent).get(n,e=i&On.Optional&&e===ws?null:e)}catch(u){if("NullInjectorError"===u.name){if((u[uo]=u[uo]||[]).unshift(_i(n)),o)throw u;return function qh(t,n,e,i){const r=t[uo];throw n[Ur]&&r.unshift(n[Ur]),t.message=function na(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=_i(n);if(Array.isArray(n))r=n.map(_i).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let u=n[s];o.push(s+":"+("string"==typeof u?JSON.stringify(u):_i(u)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(ea,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[uo]=null,t}(u,n,"R3InjectorError",this.source)}throw u}finally{er(s),Gr(o)}}resolveInjectorInitializers(){const n=Gr(this),e=er(void 0);try{const r=this.get(Wd.multi,Je,On.Self);for(const o of r)o()}finally{Gr(n),er(e)}}toString(){const n=[],e=this.records;for(const i of e.keys())n.push(_i(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(n){let e=eh(n=en(n))?n:en(n&&n.provide);const i=function Gj(t){return U0(t)?pf(void 0,t.useValue):pf(OS(t),Sm)}(n);if(eh(n)||!0!==n.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=pf(void 0,Sm,!0),r.factory=()=>cs(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){return e.value===Sm&&(e.value=Hj,e.value=e.factory()),"object"==typeof e.value&&e.value&&function qj(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=en(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function q0(t){const n=Pl(t),e=null!==n?n.factory:Xc(t);if(null!==e)return e;if(t instanceof Ne)throw new Qt(204,!1);if(t instanceof Function)return function Uj(t){const n=t.length;if(n>0)throw Bd(n,"?"),new Qt(204,!1);const e=function ao(t){return t&&(t[us]||t[tr])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Qt(204,!1)}function OS(t,n,e){let i;if(eh(t)){const r=en(t);return Xc(r)||q0(r)}if(U0(t))i=()=>en(t.useValue);else if(function PS(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...cs(t.deps||[]));else if(function NS(t){return!(!t||!t.useExisting)}(t))i=()=>ye(en(t.useExisting));else{const r=en(t&&(t.useClass||t.provide));if(!function $j(t){return!!t.deps}(t))return Xc(r)||q0(r);i=()=>new r(...cs(t.deps))}return i}function pf(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function W0(t,n){for(const e of t)Array.isArray(e)?W0(e,n):e&&as(e)?W0(e.\u0275providers,n):n(e)}const Im=new Ne("AppId",{providedIn:"root",factory:()=>Yj}),Yj="ng",AS=new Ne("Platform Initializer"),gf=new Ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RS=new Ne("CSP nonce",{providedIn:"root",factory:()=>function hf(){if(void 0!==L0)return L0;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let LS=(t,n,e)=>null;function e1(t,n,e=!1){return LS(t,n,e)}class r8{}class BS{}class s8{resolveComponentFactory(n){throw function o8(t){const n=Error(`No component factory found for ${_i(t)}.`);return n.ngComponent=t,n}(n)}}let Rm=(()=>{class t{static#t=this.NULL=new s8}return t})();function a8(){return vf(Ms(),ae())}function vf(t,n){return new rr(Ea(t,n))}let rr=(()=>{class t{constructor(e){this.nativeElement=e}static#t=this.__NG_ELEMENT_ID__=a8}return t})();function u8(t){return t instanceof rr?t.nativeElement:t}class r1{}let Wa=(()=>{class t{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function l8(){const t=ae(),e=$a(Ms().index,t);return(l(e)?e:t)[_t]}()}return t})(),c8=(()=>{class t{static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:()=>null})}return t})();class Xd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const h8=new Xd("16.2.12"),o1={};function US(t,n=null,e=null,i){const r=GS(t,n,e,i);return r.resolveInjectorInitializers(),r}function GS(t,n=null,e=null,i,r=new Set){const o=[e||Je,Vj(t)];return i=i||("object"==typeof t?void 0:_i(t)),new df(o,n||Mm(),i||null,r)}let Is=(()=>{class t{static#t=this.THROW_IF_NOT_FOUND=ws;static#e=this.NULL=new j0;static create(e,i){if(Array.isArray(e))return US({name:""},i,e,"");{const r=e.name??"";return US({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=we({token:t,providedIn:"any",factory:()=>ye(DS)});static#i=this.__NG_ELEMENT_ID__=-1}return t})();function s1(t){return t.ngOriginalError}class Fl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&s1(n);for(;e&&s1(e);)e=s1(e);return e||null}}function a1(t){return n=>{setTimeout(t,void 0,n)}}const on=class y8 extends V{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&"object"==typeof n){const c=n;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=a1(o),r&&(r=a1(r)),s&&(s=a1(s)));const u=super.subscribe({next:r,error:o,complete:s});return n instanceof wt&&n.add(u),u}};function qS(...t){}class Ii{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function b8(){const t="function"==typeof ji.requestAnimationFrame;let n=ji[t?"requestAnimationFrame":"setTimeout"],e=ji[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function E8(t){const n=()=>{!function x8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ji,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,l1(t),t.isCheckStableRunning=!0,u1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),l1(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,u)=>{if(function D8(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(u))return e.invokeTask(r,o,s,u);try{return WS(t),e.invokeTask(r,o,s,u)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),YS(t)}},onInvoke:(e,i,r,o,s,u,c)=>{try{return WS(t),e.invoke(r,o,s,u,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),YS(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,l1(t),u1(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ii.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(Ii.isInAngularZone())throw new Qt(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,w8,qS,qS);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const w8={};function u1(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function l1(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function WS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YS(t){t._nesting--,u1(t)}class C8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}const ZS=new Ne("",{providedIn:"root",factory:XS});function XS(){const t=fe(Ii);let n=!0;return function Nl(...t){const n=ga(t),e=function Qs(t,n){return"number"==typeof Ks(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Dr(i[0]):su(e)(lr(i,n)):Fn}(new at(r=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(n),r.complete()})}),new at(r=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Ii.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const s=t.onUnstable.subscribe(()=>{Ii.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ho()))}function Bl(t){return t instanceof Function?t():t}let c1=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();function Jd(t){for(;t;){t[ze]|=64;const n=jd(t);if(F(t)&&!n)return t;t=n}return null}const eM=new Ne("",{providedIn:"root",factory:()=>!1});let Fm=null;function oM(t,n){return t[n]??uM()}function sM(t,n){const e=uM();e.producerNode?.length&&(t[n]=Fm,e.lView=t,Fm=aM())}const L8={...PC,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Jd(t.lView)},lView:null};function aM(){return Object.create(L8)}function uM(){return Fm??=aM(),Fm}const Sn={};function Ce(t){lM(Pi(),ae(),sa()+t,!1)}function lM(t,n,e,i){if(!i)if(3==(3&n[ze])){const o=t.preOrderCheckHooks;null!==o&&tm(n,o,e)}else{const o=t.preOrderHooks;null!==o&&em(n,o,0,e)}Jc(e)}function Vt(t,n=On.Default){const e=ae();return null===e?ye(t,n):xD(Ms(),e,en(t),n)}function Bm(t,n,e,i,r,o,s,u,c,h,p){const m=n.blueprint.slice();return m[ki]=r,m[ze]=140|i,(null!==h||t&&2048&t[ze])&&(m[ze]|=2048),JC(m),m[wn]=m[se]=t,m[C]=e,m[W]=s||t&&t[W],m[_t]=u||t&&t[_t],m[N]=c||t&&t[N]||null,m[_]=o,m[Yi]=function jz(){return zz++}(),m[co]=p,m[eo]=h,m[ce]=2==n.type?t[ce]:m,m}function xf(t,n,e,i,r){let o=t.data[n];if(null===o)o=function h1(t,n,e,i,r){const o=iD(),s=e0(),c=t.data[n]=function U8(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,u=0;return Zh()&&(u|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(t,n,e,i,r),function zV(){return _n.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Od(){const t=_n.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ul(o,!0),o}function Kd(t,n,e,i){if(0===e)return-1;const r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function hM(t,n,e,i,r){const o=oM(n,Us),s=sa(),u=2&i;try{Jc(-1),u&&n.length>gn&&lM(t,n,gn,!1),al(u?2:0,r);const h=u?o:null,p=Zy(h);try{null!==h&&(h.dirty=!1),e(i,r)}finally{Xy(h,p)}}finally{u&&null===n[Us]&&sM(n,Us),Jc(s),al(u?3:1,r)}}function f1(t,n,e){if(g(n)){const i=pu(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const u=t.data[s];u.contentQueries&&u.contentQueries(1,e[s],s)}}finally{pu(i)}}}function d1(t,n,e){nD()&&(function X8(t,n,e,i){const r=e.directiveStart,o=e.directiveEnd;y(e)&&function iH(t,n,e){const i=Ea(n,t),r=fM(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const u=Vm(t,Bm(t,r,null,s,i,n,null,t[W].rendererFactory.createRenderer(i,e),null,null,null));t[n.index]=u}(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||im(e,n),Gs(i,n);const s=e.initialInputs;for(let u=r;u<o;u++){const c=t.data[u],h=Kc(n,t,u,e);Gs(h,n),null!==s&&rH(0,u-r,h,c,0,s),S(c)&&($a(e.index,n)[C]=Kc(n,t,u,e))}}(t,n,e,Ea(e,n)),64==(64&e.flags)&&_M(t,n,e))}function p1(t,n,e=Ea){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],u=-1===s?e(n,t):t[s];t[r++]=u}}}function fM(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=g1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function g1(t,n,e,i,r,o,s,u,c,h,p){const m=gn+i,v=m+r,b=function F8(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:Sn);return e}(m,v),E="function"==typeof h?h():h;return b[xe]={type:t,blueprint:b,template:e,queries:null,viewQuery:u,declTNode:n,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:p}}let dM=t=>null;function pM(t,n,e,i){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const o=t[r];null===i?gM(e,n,r,o):i.hasOwnProperty(r)&&gM(e,n,i[r],o)}return e}function gM(t,n,e,i){t.hasOwnProperty(e)?t[e].push(n,i):t[e]=[n,i]}function m1(t,n,e,i){if(nD()){const r=null===i?null:{"":-1},o=function K8(t,n){const e=t.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(ba(n,s.selectors,!1))if(i||(i=[]),S(s))if(null!==s.findHostDirectiveDefs){const u=[];r=r||new Map,s.findHostDirectiveDefs(s,u,r),i.unshift(...u,s),_1(t,n,u.length)}else i.unshift(s),_1(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(t,e);let s,u;null===o?s=u=null:[s,u]=o,null!==s&&mM(t,n,e,s,r,u),r&&function Q8(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const o=e[n[r+1]];if(null==o)throw new Qt(-301,!1);i.push(n[r],o)}}}(e,i,r)}e.mergedAttrs=qo(e.mergedAttrs,e.attrs)}function mM(t,n,e,i,r,o){for(let h=0;h<i.length;h++)p0(im(e,n),t,i[h].type);!function eH(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,i.length);for(let h=0;h<i.length;h++){const p=i[h];p.providersResolver&&p.providersResolver(p)}let s=!1,u=!1,c=Kd(t,n,i.length,null);for(let h=0;h<i.length;h++){const p=i[h];e.mergedAttrs=qo(e.mergedAttrs,p.hostAttrs),nH(t,e,n,c,p),tH(c,p,r),null!==p.contentQueries&&(e.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=64);const m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),u=!0),c++}!function G8(t,n,e){const r=n.directiveEnd,o=t.data,s=n.attrs,u=[];let c=null,h=null;for(let p=n.directiveStart;p<r;p++){const m=o[p],v=e?e.get(m):null,E=v?v.outputs:null;c=pM(m.inputs,p,c,v?v.inputs:null),h=pM(m.outputs,p,h,E);const D=null===c||null===s||fs(n)?null:oH(c,p,s);u.push(D)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=u,n.inputs=c,n.outputs=h}(t,e,o)}function _M(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function HV(){return _n.lFrame.currentDirectiveIndex}();try{Jc(o);for(let u=i;u<r;u++){const c=t.data[u],h=n[u];r0(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&J8(c,h)}}finally{Jc(-1),r0(s)}}function J8(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _1(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function tH(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;S(n)&&(e[""]=t)}}function nH(t,n,e,i,r){t.data[i]=r;const o=r.factory||(r.factory=Xc(r.type)),s=new Ad(o,S(r),Vt);t.blueprint[i]=s,e[i]=s,function Y8(t,n,e,i,r){const o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const u=~n.index;(function Z8(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=u&&s.push(u),s.push(e,i,o)}}(t,n,i,Kd(t,e,r.hostVars,Sn),r)}function cl(t,n,e,i,r,o){const s=Ea(t,n);!function v1(t,n,e,i,r,o,s){if(null==o)t.removeAttribute(n,r,e);else{const u=null==s?Le(o):s(o,i||"",r);t.setAttribute(n,r,u,e)}}(n[_t],s,o,t.value,e,i,r)}function rH(t,n,e,i,r,o){const s=o[n];if(null!==s)for(let u=0;u<s.length;)vM(i,e,s[u++],s[u++],s[u++])}function vM(t,n,e,i,r){const o=pu(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(n,r)),null!==t.setInput?t.setInput(n,r,e,i):n[i]=r}finally{pu(o)}}function oH(t,n,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const s=t[o];for(let u=0;u<s.length;u+=2)if(s[u]===n){i.push(o,s[u+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function yM(t,n,e,i){return[t,!0,!1,n,null,0,i,e,null,null,null]}function bM(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=t.data[o];s0(e[i]),s.contentQueries(2,n[o],o)}}}function Vm(t,n){return t[zt]?t[Yt][Xo]=n:t[zt]=n,t[Yt]=n,n}function y1(t,n,e){s0(0);const i=pu(null);try{n(t,e)}finally{pu(i)}}function wM(t){return t[w]||(t[w]=[])}function xM(t){return t.cleanup||(t.cleanup=[])}function CM(t,n){const e=t[N],i=e?e.get(Fl,null):null;i&&i.handleError(n)}function b1(t,n,e,i,r){for(let o=0;o<e.length;){const s=e[o++],u=e[o++];vM(t.data[s],n[s],i,u,r)}}function sH(t,n){const e=$a(n,t),i=e[xe];!function aH(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(i,e);const r=e[ki];null!==r&&null===e[co]&&(e[co]=e1(r,e[N])),w1(i,e,e[C])}function w1(t,n,e){a0(n);try{const i=t.viewQuery;null!==i&&y1(1,i,e);const r=t.template;null!==r&&hM(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bM(t,n),t.staticViewQueries&&y1(2,t.viewQuery,e);const o=t.components;null!==o&&function uH(t,n){for(let e=0;e<n.length;e++)sH(t,n[e])}(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[ze]&=-5,u0()}}let DM=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function vV(t,n,e){const i=Object.create(yV);e&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=n;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>LC(i),run:()=>{if(i.dirty=!1,i.hasRun&&!kC(i))return;i.hasRun=!0;const s=Zy(i);try{i.cleanupFn(),i.cleanupFn=GC,i.fn(r)}finally{Xy(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,h=>{this.all.has(h)&&this.queue.set(h,o)},r);let u;this.all.add(s),s.notify();const c=()=>{s.cleanup(),u?.(),this.all.delete(s),this.queue.delete(s)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:()=>new t})}return t})();function zm(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const u=n[s];"number"==typeof u?o=u:1==o?r=Ba(r,u):2==o&&(i=Ba(i,u+": "+n[++s]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}function Qd(t,n,e,i,r=!1){for(;null!==e;){const o=n[e.index];null!==o&&i.push(kr(o)),d(o)&&SM(o,i);const s=e.type;if(8&s)Qd(t,n,e.child,i);else if(32&s){const u=S0(e,n);let c;for(;c=u();)i.push(c)}else if(16&s){const u=aS(n,e);if(Array.isArray(u))i.push(...u);else{const c=jd(n[ce]);Qd(c[xe],c,u,i,!0)}}e=r?e.projectionNext:e.next}return i}function SM(t,n){for(let e=Wr;e<t.length;e++){const i=t[e],r=i[xe].firstChild;null!==r&&Qd(i[xe],i,r,n)}t[Ni]!==t[ki]&&n.push(t[Ni])}function jm(t,n,e,i=!0){const r=n[W],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{MM(t,n,t.template,e)}catch(c){throw i&&CM(n,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function MM(t,n,e,i){const r=n[ze];if(256!=(256&r)){n[W].effectManager?.flush(),a0(n);try{JC(n),function oD(t){return _n.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&hM(t,n,e,2,i);const s=3==(3&r);if(s){const h=t.preOrderCheckHooks;null!==h&&tm(n,h,null)}else{const h=t.preOrderHooks;null!==h&&em(n,h,0,null),l0(n,0)}if(function hH(t){for(let n=ZD(t);null!==n;n=XD(n)){if(!n[To])continue;const e=n[Fi];for(let i=0;i<e.length;i++){TV(e[i])}}}(n),IM(n,2),null!==t.contentQueries&&bM(t,n),s){const h=t.contentCheckHooks;null!==h&&tm(n,h)}else{const h=t.contentHooks;null!==h&&em(n,h,1),l0(n,1)}!function k8(t,n){const e=t.hostBindingOpCodes;if(null===e)return;const i=oM(n,Qe);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Jc(~o);else{const s=o,u=e[++r],c=e[++r];jV(u,s),i.dirty=!1;const h=Zy(i);try{c(2,n[s])}finally{Xy(i,h)}}}}finally{null===n[Qe]&&sM(n,Qe),Jc(-1)}}(t,n);const u=t.components;null!==u&&NM(n,u,0);const c=t.viewQuery;if(null!==c&&y1(2,c,i),s){const h=t.viewCheckHooks;null!==h&&tm(n,h)}else{const h=t.viewHooks;null!==h&&em(n,h,2),l0(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[ze]&=-73,KC(n)}finally{u0()}}}function IM(t,n){for(let e=ZD(t);null!==e;e=XD(e))for(let i=Wr;i<e.length;i++)TM(e[i],n)}function fH(t,n,e){TM($a(n,t),e)}function TM(t,n){if(!function MV(t){return 128==(128&t[ze])}(t))return;const e=t[xe],i=t[ze];if(80&i&&0===n||1024&i||2===n)MM(e,t,e.template,t[C]);else if(t[f]>0){IM(t,1);const r=e.components;null!==r&&NM(t,r,1)}}function NM(t,n,e){for(let i=0;i<n.length;i++)fH(t,n[i],e)}class tp{get rootNodes(){const n=this._lView,e=n[xe];return Qd(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[C]}set context(n){this._lView[C]=n}get destroyed(){return 256==(256&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[wn];if(d(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(vm(n,i),sm(e,i))}this._attachedToViewContainer=!1}I0(this._lView[xe],this._lView)}onDestroy(n){!function tD(t,n){if(256==(256&t[ze]))throw new Qt(911,!1);null===t[cr]&&(t[cr]=[]),t[cr].push(n)}(this._lView,n)}markForCheck(){Jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-129}reattach(){this._lView[ze]|=128}detectChanges(){jm(this._lView[xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ej(t,n){Ud(t,n,n[_t],2,null,null)}(this._lView[xe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=n}}class dH extends tp{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;jm(n[xe],n,n[C],!1)}checkNoChanges(){}get context(){return null}}class PM extends Rm{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=pn(n);return new ep(e,this.ngModule)}}function OM(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class gH{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=ls(i);const r=this.injector.get(n,o1,i);return r!==o1||e===o1?r:this.parentInjector.get(n,e,i)}}class ep extends BS{get inputs(){const n=this.componentDef,e=n.inputTransforms,i=OM(n.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return OM(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Au(t){return t.map(fc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=(r=r||this.ngModule)instanceof Da?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new gH(n,o):n,u=s.get(r1,null);if(null===u)throw new Qt(407,!1);const m={rendererFactory:u,sanitizer:s.get(c8,null),effectManager:s.get(DM,null),afterRenderEventManager:s.get(c1,null)},v=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",E=i?function B8(t,n,e,i){const o=i.get(eM,!1)||e===yr.ShadowDom,s=t.selectRootElement(n,o);return function V8(t){dM(t)}(s),s}(v,i,this.componentDef.encapsulation,s):_m(v,b,function pH(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(b)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==E&&(M=e1(E,s,!0));const A=g1(0,null,null,1,0,null,null,null,null,null,null),U=Bm(null,A,null,T,null,null,m,v,s,null,M);let z,ct;a0(U);try{const pt=this.componentDef;let mt,it=null;pt.findHostDirectiveDefs?(mt=[],it=new Map,pt.findHostDirectiveDefs(pt,mt,it),mt.push(pt)):mt=[pt];const re=function _H(t,n){const e=t[xe],i=gn;return t[i]=n,xf(e,i,2,"#host",null)}(U,E),ee=function vH(t,n,e,i,r,o,s){const u=r[xe];!function yH(t,n,e,i){for(const r of t)n.mergedAttrs=qo(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(zm(n,n.mergedAttrs,!0),null!==e&&hS(i,e,n))}(i,t,n,s);let c=null;null!==n&&(c=e1(n,r[N]));const h=o.rendererFactory.createRenderer(n,e);let p=16;e.signals?p=4096:e.onPush&&(p=64);const m=Bm(r,fM(e),null,p,r[t.index],t,o,h,null,null,c);return u.firstCreatePass&&_1(u,t,i.length-1),Vm(r,m),r[t.index]=m}(re,E,pt,mt,U,m,v);ct=XC(A,gn),E&&function wH(t,n,e,i){if(i)ya(t,e,["ng-version",h8.full]);else{const{attrs:r,classes:o}=function Cs(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&n.push(o,t[++i]):8===r&&e.push(o);else{if(!Ui(r))break;r=o}i++}return{attrs:n,classes:e}}(n.selectors[0]);r&&ya(t,e,r),o&&o.length>0&&cS(t,e,o.join(" "))}}(v,pt,E,i),void 0!==e&&function xH(t,n,e){const i=t.projection=[];for(let r=0;r<n.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(ct,this.ngContentSelectors,e),z=function bH(t,n,e,i,r,o){const s=Ms(),u=r[xe],c=Ea(s,r);mM(u,r,s,e,null,i);for(let p=0;p<e.length;p++)Gs(Kc(r,u,s.directiveStart+p,s),r);_M(u,r,s),c&&Gs(c,r);const h=Kc(r,u,s.directiveStart+s.componentOffset,s);if(t[C]=r[C]=h,null!==o)for(const p of o)p(h,n);return f1(u,s,t),h}(ee,pt,mt,it,U,[EH]),w1(A,U,null)}finally{u0()}return new mH(this.componentType,z,vf(ct,U),U,ct)}}class mH extends r8{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new dH(r),this.componentType=n}setInput(n,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const o=this._rootLView;b1(o[xe],o,r,n,e),this.previousInputValues.set(n,e),Jd($a(this._tNode.index,o))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function EH(){const t=Ms();Qg(ae()[xe],t)}function or(t){let n=function AM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(S(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Qt(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);const s=t;s.inputs=Hm(t.inputs),s.inputTransforms=Hm(t.inputTransforms),s.declaredInputs=Hm(t.declaredInputs),s.outputs=Hm(t.outputs);const u=r.hostBindings;u&&MH(t,u);const c=r.viewQuery,h=r.contentQueries;if(c&&DH(t,c),h&&SH(t,h),mi(t.inputs,r.inputs),mi(t.declaredInputs,r.declaredInputs),mi(t.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),mi(s.inputTransforms,r.inputTransforms)),S(r)&&r.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const u=o[s];u&&u.ngInherit&&u(t),u===or&&(e=!1)}}n=Object.getPrototypeOf(n)}!function CH(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=qo(r.hostAttrs,e=qo(e,r.hostAttrs))}}(i)}function Hm(t){return t===ia?{}:t===Je?[]:t}function DH(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function SH(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,o)=>{n(i,r,o),e(i,r,o)}:n}function MH(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}function Um(t){return!!x1(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function x1(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $s(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function sr(t,n,e,i){const r=ae();return $s(r,Xh(),n)&&(Pi(),cl(ho(),r,t,n,e,i)),sr}function We(t,n,e,i,r,o,s,u){const c=ae(),h=Pi(),p=t+gn,m=h.firstCreatePass?function JH(t,n,e,i,r,o,s,u,c){const h=n.consts,p=xf(n,t,4,s||null,_c(h,u));m1(n,e,p,_c(h,c)),Qg(n,p);const m=p.tView=g1(2,p,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return null!==n.queries&&(n.queries.template(n,p),m.queries=n.queries.embeddedTView(p)),p}(p,h,c,n,e,i,r,o,s):h.data[p];ul(m,!1);const v=XM(h,c,m,t);Kg()&&bm(h,c,v,m),Gs(v,c),Vm(c,c[p]=yM(v,c,v,m)),x(m)&&d1(h,c,m),null!=s&&p1(c,m,u)}let XM=function JM(t,n,e,i){return vc(!0),n[_t].createComment("")};function Ee(t,n,e){const i=ae();return $s(i,Xh(),n)&&function Ya(t,n,e,i,r,o,s,u){const c=Ea(n,e);let p,h=n.inputs;!u&&null!=h&&(p=h[i])?(b1(t,e,p,i,r),y(n)&&function q8(t,n){const e=$a(n,t);16&e[ze]||(e[ze]|=64)}(e,n.index)):3&n.type&&(i=function $8(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(c,i,r))}(Pi(),ho(),i,t,n,i[_t],e,!1),Ee}function I1(t,n,e,i,r){const s=r?"class":"style";b1(t,e,n.inputs[s],s,i)}function De(t,n,e,i){const r=ae(),o=Pi(),s=gn+t,u=r[_t],c=o.firstCreatePass?function e4(t,n,e,i,r,o){const s=n.consts,c=xf(n,t,2,i,_c(s,r));return m1(n,e,c,_c(s,o)),null!==c.attrs&&zm(c,c.attrs,!1),null!==c.mergedAttrs&&zm(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,o,r,n,e,i):o.data[s],h=KM(o,r,c,u,n,t);r[s]=h;const p=x(c);return ul(c,!0),hS(u,h,c),32!=(32&c.flags)&&Kg()&&bm(o,r,h,c),0===function PV(){return _n.lFrame.elementDepthCount}()&&Gs(h,r),function OV(){_n.lFrame.elementDepthCount++}(),p&&(d1(o,r,c),f1(o,c,r)),null!==i&&p1(r,c),De}function Se(){let t=Ms();e0()?n0():(t=t.parent,ul(t,!1));const n=t;(function RV(t){return _n.skipHydrationRootTNode===t})(n)&&function BV(){_n.skipHydrationRootTNode=null}(),function AV(){_n.lFrame.elementDepthCount--}();const e=Pi();return e.firstCreatePass&&(Qg(e,t),g(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function QV(t){return 0!=(8&t.flags)}(n)&&I1(e,n,ae(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function tz(t){return 0!=(16&t.flags)}(n)&&I1(e,n,ae(),n.stylesWithoutHost,!1),Se}function _u(t,n,e,i){return De(t,n,e,i),Se(),_u}let KM=(t,n,e,i,r,o)=>(vc(!0),_m(i,r,function dD(){return _n.lFrame.currentNamespace}()));function Ts(){return ae()}function ap(t){return!!t&&"function"==typeof t.then}function eI(t){return!!t&&"function"==typeof t.subscribe}function mn(t,n,e,i){const r=ae(),o=Pi(),s=Ms();return function iI(t,n,e,i,r,o,s){const u=x(i),h=t.firstCreatePass&&xM(t),p=n[C],m=wM(n);let v=!0;if(3&i.type||s){const D=Ea(i,n),I=s?s(D):D,T=m.length,M=s?U=>s(kr(U[i.index])):i.index;let A=null;if(!s&&u&&(A=function a4(t,n,e,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const u=n[w],c=r[o+2];return u.length>c?u[c]:null}"string"==typeof s&&(o+=2)}return null}(t,n,r,i.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,v=!1;else{o=oI(i,n,p,o,!1);const U=e.listen(I,r,o);m.push(o,U),h&&h.push(r,M,T,T+1)}}else o=oI(i,n,p,o,!1);const b=i.outputs;let E;if(v&&null!==b&&(E=b[r])){const D=E.length;if(D)for(let I=0;I<D;I+=2){const z=n[E[I]][E[I+1]].subscribe(o),ct=m.length;m.push(o,z),h&&h.push(r,i.index,ct,-(ct+1))}}}(o,r,r[_t],s,t,n,i),mn}function rI(t,n,e,i){try{return al(6,n,e),!1!==e(i)}catch(r){return CM(t,r),!1}finally{al(7,n,e)}}function oI(t,n,e,i,r){return function o(s){if(s===Function)return i;Jd(t.componentOffset>-1?$a(t.index,n):n);let c=rI(n,e,i,s),h=o.__ngNextListenerFn__;for(;h;)c=rI(n,e,h,s)&&c,h=h.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Ae(t=1){return function GV(t){return(_n.lFrame.contextLView=function $V(t,n){for(;t>0;)n=n[se],t--;return n}(t,_n.lFrame.contextLView))[C]}(t)}function u4(t,n){let e=null;const i=function Bo(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?ba(t,o,!0):Wo(i,o))return r}else e=r}return e}function Zm(t,n){return t<<17|n<<2}function wc(t){return t>>17&32767}function O1(t){return 2|t}function ih(t){return(131068&t)>>2}function A1(t,n){return-131069&t|n<<2}function R1(t){return 1|t}function mI(t,n,e,i,r){const o=t[e+1],s=null===n;let u=i?wc(o):ih(o),c=!1;for(;0!==u&&(!1===c||s);){const p=t[u+1];p4(t[u],n)&&(c=!0,t[u+1]=i?R1(p):O1(p)),u=i?wc(p):ih(p)}c&&(t[e+1]=i?O1(o):R1(o))}function p4(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&sf(t,n)>=0}const Qo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _I(t){return t.substring(Qo.key,Qo.keyEnd)}function vI(t,n){const e=Qo.textEnd;return e===n?-1:(n=Qo.keyEnd=function v4(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Qo.key=n,e),Of(t,n,e))}function Of(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function $i(t,n){return function Ru(t,n,e,i){const r=ae(),o=Pi(),s=Ll(2);o.firstUpdatePass&&DI(o,t,s,i),n!==Sn&&$s(r,s,n)&&MI(o,o.data[sa()],r,r[_t],t,r[s+1]=function T4(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=_i(bc(t)))),t}(n,e),i,s)}(t,n,null,!0),$i}function rh(t){!function Lu(t,n,e,i){const r=Pi(),o=Ll(2);r.firstUpdatePass&&DI(r,null,o,i);const s=ae();if(e!==Sn&&$s(s,o,e)){const u=r.data[sa()];if(TI(u,i)&&!CI(r,o)){let c=i?u.classesWithoutHost:u.stylesWithoutHost;null!==c&&(e=Ba(c,e||"")),I1(r,u,s,e,i)}else!function I4(t,n,e,i,r,o,s,u){r===Sn&&(r=Je);let c=0,h=0,p=0<r.length?r[0]:null,m=0<o.length?o[0]:null;for(;null!==p||null!==m;){const v=c<r.length?r[c+1]:void 0,b=h<o.length?o[h+1]:void 0;let D,E=null;p===m?(c+=2,h+=2,v!==b&&(E=m,D=b)):null===m||null!==p&&p<m?(c+=2,E=p):(h+=2,E=m,D=b),null!==E&&MI(t,n,e,i,E,D,s,u),p=c<r.length?r[c]:null,m=h<o.length?o[h]:null}}(r,u,s,s[_t],s[o+1],s[o+1]=function S4(t,n,e){if(null==e||""===e)return Je;const i=[],r=bc(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,o)}}(M4,pl,t,!0)}function pl(t,n){for(let e=function m4(t){return function bI(t){Qo.key=0,Qo.keyEnd=0,Qo.value=0,Qo.valueEnd=0,Qo.textEnd=t.length}(t),vI(t,Of(t,0,Qo.textEnd))}(n);e>=0;e=vI(n,e))qa(t,_I(n),!0)}function CI(t,n){return n>=t.expandoStartIndex}function DI(t,n,e,i){const r=t.data;if(null===r[e+1]){const o=r[sa()],s=CI(t,e);TI(o,i)&&null===n&&!s&&(n=!1),n=function x4(t,n,e,i){const r=function o0(t){const n=_n.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=up(e=L1(null,t,n,e,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==r)if(e=L1(r,t,n,e,i),null===o){let c=function E4(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ih(i))return t[wc(i)]}(t,n,i);void 0!==c&&Array.isArray(c)&&(c=L1(null,t,n,c[1],i),c=up(c,n.attrs,i),function C4(t,n,e,i){t[wc(e?n.classBindings:n.styleBindings)]=i}(t,n,i,c))}else o=function D4(t,n,e){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=up(i,t[o].hostAttrs,e);return up(i,n.attrs,e)}(t,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),e}(r,o,n,i),function f4(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,u=wc(s),c=ih(s);t[i]=e;let p,h=!1;if(Array.isArray(e)?(p=e[1],(null===p||sf(e,p)>0)&&(h=!0)):p=e,r)if(0!==c){const v=wc(t[u+1]);t[i+1]=Zm(v,u),0!==v&&(t[v+1]=A1(t[v+1],i)),t[u+1]=function c4(t,n){return 131071&t|n<<17}(t[u+1],i)}else t[i+1]=Zm(u,0),0!==u&&(t[u+1]=A1(t[u+1],i)),u=i;else t[i+1]=Zm(c,0),0===u?u=i:t[c+1]=A1(t[c+1],i),c=i;h&&(t[i+1]=O1(t[i+1])),mI(t,p,i,!0),mI(t,p,i,!1),function d4(t,n,e,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof n&&sf(o,n)>=0&&(e[i+1]=R1(e[i+1]))}(n,p,t,i,o),s=Zm(u,c),o?n.classBindings=s:n.styleBindings=s}(r,o,n,e,s,i)}}function L1(t,n,e,i,r){let o=null;const s=e.directiveEnd;let u=e.directiveStylingLast;for(-1===u?u=e.directiveStart:u++;u<s&&(o=n[u],i=up(i,o.hostAttrs,r),o!==t);)u++;return null!==t&&(e.directiveStylingLast=u),i}function up(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qa(t,s,!!e||n[++o]))}return void 0===t?null:t}function M4(t,n,e){const i=String(n);""!==i&&!i.includes(" ")&&qa(t,i,e)}function MI(t,n,e,i,r,o,s,u){if(!(3&n.type))return;const c=t.data,h=c[u+1],p=function h4(t){return 1==(1&t)}(h)?II(c,n,e,r,ih(h),s):void 0;Xm(p)||(Xm(o)||function l4(t){return 2==(2&t)}(h)&&(o=II(c,null,e,r,u,s)),function hj(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:yc.DashCase;null==r?t.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yc.Important),t.setStyle(e,i,r,o))}}(i,s,Jg(sa(),e),r,o))}function II(t,n,e,i,r,o){const s=null===n;let u;for(;r>0;){const c=t[r],h=Array.isArray(c),p=h?c[1]:c,m=null===p;let v=e[r+1];v===Sn&&(v=m?Je:void 0);let b=m?_0(v,i):p===i?v:void 0;if(h&&!Xm(b)&&(b=_0(c,i)),Xm(b)&&(u=b,s))return u;const E=t[r+1];r=s?wc(E):ih(E)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(u=_0(c,i))}return u}function Xm(t){return void 0!==t}function TI(t,n){return 0!=(t.flags&(n?8:16))}function Hn(t,n=""){const e=ae(),i=Pi(),r=t+gn,o=i.firstCreatePass?xf(i,r,1,n,null):i.data[r],s=NI(i,e,o,n,t);e[r]=s,Kg()&&bm(i,e,s,o),ul(o,!1)}let NI=(t,n,e,i,r)=>(vc(!0),function mm(t,n){return t.createText(n)}(n[_t],i));function ku(t){return xc("",t,""),ku}function xc(t,n,e){const i=ae(),r=function Cf(t,n,e,i){return $s(t,Xh(),e)?n+Le(e)+i:Sn}(i,t,n,e);return r!==Sn&&function Vl(t,n,e){const i=Jg(n,t);!function KD(t,n,e){t.setValue(n,e)}(t[_t],i,e)}(i,sa(),r),xc}const Rf="en-US";let JI=Rf;function B1(t,n,e,i,r){if(t=en(t),Array.isArray(t))for(let o=0;o<t.length;o++)B1(t[o],n,e,i,r);else{const o=Pi(),s=ae(),u=Ms();let c=eh(t)?t:en(t.provide);const h=OS(t),p=1048575&u.providerIndexes,m=u.directiveStart,v=u.providerIndexes>>20;if(eh(t)||!t.multi){const b=new Ad(h,r,Vt),E=z1(c,n,r?p:p+v,m);-1===E?(p0(im(u,s),o,c),V1(o,t,n.length),n.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(b),s.push(b)):(e[E]=b,s[E]=b)}else{const b=z1(c,n,p+v,m),E=z1(c,n,p,p+v),I=E>=0&&e[E];if(r&&!I||!r&&!(b>=0&&e[b])){p0(im(u,s),o,c);const T=function Z5(t,n,e,i,r){const o=new Ad(t,e,Vt);return o.multi=[],o.index=n,o.componentProviders=0,xT(o,r,i&&!e),o}(r?Y5:W5,e.length,r,i,h);!r&&I&&(e[E].providerFactory=T),V1(o,t,n.length,0),n.push(c),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(T),s.push(T)}else V1(o,t,b>-1?b:E,xT(e[r?E:b],h,!r&&i));!r&&i&&I&&e[E].componentProviders++}}}function V1(t,n,e,i){const r=eh(n),o=function jj(t){return!!t.useClass}(n);if(r||o){const c=(o?en(n.useClass):n).prototype.ngOnDestroy;if(c){const h=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const p=h.indexOf(e);-1===p?h.push(e,[i,c]):h[p+1].push(i,c)}else h.push(e,c)}}}function xT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function z1(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function W5(t,n,e,i){return j1(this.multi,[])}function Y5(t,n,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,u=Kc(e,e[xe],this.providerFactory.index,i);o=u.slice(0,s),j1(r,o);for(let c=s;c<u.length;c++)o.push(u[c])}else o=[],j1(r,o);return o}function j1(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Nr(t,n=[]){return e=>{e.providersResolver=(i,r)=>function q5(t,n,e){const i=Pi();if(i.firstCreatePass){const r=S(t);B1(e,i.data,i.blueprint,r,!0),B1(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class sh{}class ET{}class H1 extends sh{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PM(this);const r=An(n);this._bootstrapComponents=Bl(r.bootstrap),this._r3Injector=GS(n,e,[{provide:sh,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver},...i],_i(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class U1 extends ET{constructor(n){super(),this.moduleType=n}create(n){return new H1(this.moduleType,n,[])}}class CT extends sh{constructor(n){super(),this.componentFactoryResolver=new PM(this),this.instance=null;const e=new df([...n.providers,{provide:sh,useValue:this},{provide:Rm,useValue:this.componentFactoryResolver}],n.parent||Mm(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function G1(t,n,e=null){return new CT({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let K5=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=IS(0,e.type),r=i.length>0?G1([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=we({token:t,providedIn:"environment",factory:()=>new t(ye(Da))})}return t})();function yu(t){t.getStandaloneInjector=n=>n.get(K5).getOrCreateStandaloneInjector(t)}function ah(t,n,e,i){return function PT(t,n,e,i,r,o){const s=n+e;return $s(t,s,r)?function hl(t,n,e){return t[n]=e}(t,s+1,o?i.call(o,r):i(r)):function mp(t,n){const e=t[n];return e===Sn?void 0:e}(t,s+1)}(ae(),function oa(){const t=_n.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),t,n,e,i)}function wU(){return this._results[Symbol.iterator]()}class W1{static#t=Symbol.iterator;get changes(){return this._changes||(this._changes=new on)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=W1.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=wU)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=function gu(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function pz(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function EU(t,n,e,i=!0){const r=n[xe];if(function ij(t,n,e,i){const r=Wr+i,o=e.length;i>0&&(e[r-1][Xo]=n),i<o-Wr?(n[Xo]=e[r],ID(e,Wr+i,n)):(e.push(n),n[Xo]=null),n[wn]=e;const s=n[Ze];null!==s&&e!==s&&function rj(t,n){const e=t[Fi];n[ce]!==n[wn][wn][ce]&&(t[To]=!0),null===e?t[Fi]=[n]:e.push(n)}(s,n);const u=n[ir];null!==u&&u.insertView(t),n[ze]|=128}(r,n,t,e),i){const o=O0(e,t),s=n[_t],u=ym(s,t[Ni]);null!==u&&function tj(t,n,e,i,r,o){i[ki]=r,i[_]=n,Ud(t,i,e,1,r,o)}(r,t[_],s,n,u,o)}}let fo=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=SU}return t})();const CU=fo,DU=class extends CU{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){const r=function xU(t,n,e,i){const r=n.tView,u=Bm(t,r,e,4096&t[ze]?4096:16,null,n,null,null,null,i?.injector??null,i?.hydrationInfo??null);u[Ze]=t[n.index];const h=t[ir];return null!==h&&(u[ir]=h.createEmbeddedView(r)),w1(r,u,e),u}(this._declarationLView,this._declarationTContainer,n,{injector:e,hydrationInfo:i});return new tp(r)}};function SU(){return e_(Ms(),ae())}function e_(t,n){return 4&t.type?new DU(n,t,vf(t,n)):null}let bu=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=OU}return t})();function OU(){return HT(Ms(),ae())}const AU=bu,zT=class extends AU{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return vf(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const n=rm(this._hostTNode,this._hostLView);if(h0(n)){const e=Ld(n,this._hostLView),i=Rd(n);return new aa(e[xe].data[i+8],e)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=jT(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(n,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const u=n.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(u,r,false),u}createComponent(n,e,i,r,o){const s=n&&!function Fd(t){return"function"==typeof t}(n);let u;if(s)u=e;else{const D=e||{};u=D.index,i=D.injector,r=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const c=s?n:new ep(pn(n)),h=i||this.parentInjector;if(!o&&null==c.ngModule){const I=(s?h:this.parentInjector).get(Da,null);I&&(o=I)}pn(c.componentType??{});const b=c.create(h,r,null,o);return this.insertImpl(b.hostView,u,false),b}insert(n,e){return this.insertImpl(n,e,!1)}insertImpl(n,e,i){const r=n._lView;if(function IV(t){return d(t[wn])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const h=r[wn],p=new zT(h,h[_],h[wn]);p.detach(p.indexOf(n))}}const s=this._adjustIndex(e),u=this._lContainer;return EU(u,r,s,!i),n.attachToViewContainerRef(),ID(Y1(u),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=jT(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=vm(this._lContainer,e);i&&(sm(Y1(this._lContainer),e),I0(i[xe],i))}detach(n){const e=this._adjustIndex(n,-1),i=vm(this._lContainer,e);return i&&null!=sm(Y1(this._lContainer),e)?new tp(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function jT(t){return t[8]}function Y1(t){return t[8]||(t[8]=[])}function HT(t,n){let e;const i=n[t.index];return d(i)?e=i:(e=yM(i,n,null,t),n[t.index]=e,Vm(n,e)),UT(e,n,t,i),new zT(e,t,n)}let UT=function GT(t,n,e,i){if(t[Ni])return;let r;r=8&e.type?kr(i):function RU(t,n){const e=t[_t],i=e.createComment(""),r=Ea(n,t);return th(e,ym(e,r),i,function uj(t,n){return t.nextSibling(n)}(e,r),!1),i}(n,e),t[Ni]=r};class Z1{constructor(n){this.queryList=n,this.matches=null}clone(){return new Z1(this.queryList)}setDirty(){this.queryList.setDirty()}}class X1{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new X1(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==ZT(n,e).matches&&this.queries[e].setDirty()}}class $T{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class J1{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new J1(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class K1{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new K1(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,e,FU(e,o)),this.matchTNodeWithReadOption(n,e,om(e,n,o,!1,!1))}else i===fo?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,om(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===rr||r===bu||r===fo&&4&e.type)this.addMatch(e.index,-2);else{const o=om(e,n,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function FU(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function VU(t,n,e,i){return-1===e?function BU(t,n){return 11&t.type?vf(t,n):4&t.type?e_(t,n):null}(n,t):-2===e?function zU(t,n,e){return e===rr?vf(n,t):e===fo?e_(n,t):e===bu?HT(n,t):void 0}(t,n,i):Kc(t,t[xe],e,n)}function qT(t,n,e,i){const r=n[ir].queries[i];if(null===r.matches){const o=t.data,s=e.matches,u=[];for(let c=0;c<s.length;c+=2){const h=s[c];u.push(h<0?null:VU(n,o[h],s[c+1],e.metadata.read))}r.matches=u}return r.matches}function Q1(t,n,e,i){const r=t.queries.getByIndex(e),o=r.matches;if(null!==o){const s=qT(t,n,r,e);for(let u=0;u<o.length;u+=2){const c=o[u];if(c>0)i.push(s[u/2]);else{const h=o[u+1],p=n[-c];for(let m=Wr;m<p.length;m++){const v=p[m];v[Ze]===v[wn]&&Q1(v[xe],v,h,i)}if(null!==p[Fi]){const m=p[Fi];for(let v=0;v<m.length;v++){const b=m[v];Q1(b[xe],b,h,i)}}}}}return i}function hr(t){const n=ae(),e=Pi(),i=aD();s0(i+1);const r=ZT(e,i);if(t.dirty&&function SV(t){return 4==(4&t[ze])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Q1(e,n,i,[]):qT(e,n,r,i);t.reset(o,u8),t.notifyOnChanges()}return!0}return!1}function uh(t,n,e){const i=Pi();i.firstCreatePass&&(function YT(t,n,e){null===t.queries&&(t.queries=new J1),t.queries.track(new K1(n,e))}(i,new $T(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),function WT(t,n,e){const i=new W1(4==(4&e));(function H8(t,n,e,i){const r=wM(n);r.push(e),t.firstCreatePass&&xM(t).push(i,r.length-1)})(t,n,i,i.destroy),null===n[ir]&&(n[ir]=new X1),n[ir].queries.push(new Z1(i))}(i,ae(),n)}function ZT(t,n){return t.queries.getByIndex(n)}const ob=new Ne("Application Initializer");let sb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=fe(ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(ap(o))e.push(o);else if(eI(o)){const s=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fN=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Bu=new Ne("LocaleId",{providedIn:"root",factory:()=>fe(Bu,On.Optional|On.SkipSelf)||function lG(){return typeof $localize<"u"&&$localize.locale||Rf}()});let dN=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fG{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let pN=(()=>{class t{compileModuleSync(e){return new U1(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Bl(An(e).declarations).reduce((s,u)=>{const c=pn(u);return c&&s.push(new ep(c)),s},[]);return new fG(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const vN=new Ne(""),o_=new Ne("");let hb,lb=(()=>{class t{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,hb||(function RG(t){hb=t}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ii.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Ii),ye(cb),ye(o_))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),cb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return hb?.findTestabilityInTree(this,e,i)??null}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ec=null;const yN=new Ne("AllowMultipleToken"),fb=new Ne("PlatformDestroyListeners"),db=new Ne("appBootstrapListener");class wN{constructor(n,e){this.name=n,this.token=e}}function EN(t,n,e=[]){const i=`Platform: ${n}`,r=new Ne(i);return(o=[])=>{let s=pb();if(!s||s.injector.get(yN,!1)){const u=[...e,...o,{provide:r,useValue:!0}];t?t(u):function FG(t){if(Ec&&!Ec.get(yN,!1))throw new Qt(400,!1);(function bN(){!function dV(t){zC=t}(()=>{throw new Qt(600,!1)})})(),Ec=t;const n=t.get(DN);(function xN(t){t.get(AS,null)?.forEach(e=>e())})(t)}(function CN(t=[],n){return Is.create({name:n,providers:[{provide:G0,useValue:"platform"},{provide:fb,useValue:new Set([()=>Ec=null])},...t]})}(u,i))}return function VG(t){const n=pb();if(!n)throw new Qt(401,!1);return n}()}}function pb(){return Ec?.get(DN)??null}let DN=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function zG(t="zone.js",n){return"noop"===t?new C8:"zone.js"===t?new Ii(n):t}(i?.ngZone,function SN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function J5(t,n,e){return new H1(t,n,e)}(e.moduleType,this.injector,function PN(t){return[{provide:Ii,useFactory:t},{provide:Wd,multi:!0,useFactory:()=>{const n=fe(HG,{optional:!0});return()=>n.initialize()}},{provide:NN,useFactory:jG},{provide:ZS,useFactory:XS}]}(()=>r)),s=o.injector.get(Fl,null);return r.runOutsideAngular(()=>{const u=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{s_(this._modules,o),u.unsubscribe()})}),function MN(t,n,e){try{const i=e();return ap(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(s,r,()=>{const u=o.injector.get(sb);return u.runInitializers(),u.donePromise.then(()=>(function KI(t){Uo(t,"Expected localeId to be defined"),"string"==typeof t&&(JI=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Bu,Rf)||Rf),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=IN({},i);return function LG(t,n,e){const i=new U1(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Qt(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(fb,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Is))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function IN(t,n){return Array.isArray(n)?n.reduce(IN,t):{...t,...n}}let Cc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(NN),this.zoneIsStable=fe(ZS),this.componentTypes=[],this.components=[],this.isStable=fe(dN).hasPendingTasks.pipe(Ve(e=>e?Pe(!1):this.zoneIsStable),function qc(t,n=Lt){return t=t??lc,Bt((e,i)=>{let r,o=!0;e.subscribe(Wt(i,s=>{const u=n(s);(o||!t(r,u))&&(o=!1,r=u,i.next(s))}))})}(),Ho()),this._injector=fe(Da)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof BS;if(!this._injector.get(sb).done)throw!r&&function Io(t){const n=pn(t)||nr(t)||jn(t);return null!==n&&n.standalone}(e),new Qt(405,!1);let s;s=r?e:this._injector.get(Rm).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const u=function kG(t){return t.isBoundToModule}(s)?void 0:this._injector.get(sh),h=s.create(Is.NULL,[],i||s.selector,u),p=h.location.nativeElement,m=h.injector.get(vN,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),s_(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Qt(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;s_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(db,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>s_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Qt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s_(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const NN=new Ne("",{providedIn:"root",factory:()=>fe(Fl).handleError.bind(void 0)});function jG(){const t=fe(Ii),n=fe(Fl);return e=>t.runOutsideAngular(()=>n.handleError(e))}let HG=(()=>{class t{constructor(){this.zone=fe(Ii),this.applicationRef=fe(Cc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let Vu=(()=>{class t{static#t=this.__NG_ELEMENT_ID__=GG}return t})();function GG(t){return function $G(t,n,e){if(y(t)&&!e){const i=$a(t.index,n);return new tp(i,i)}return 47&t.type?new tp(n[ce],n):null}(Ms(),ae(),16==(16&t))}class LN{constructor(){}supports(n){return Um(n)}create(n){return new JG(n)}}const XG=(t,n)=>n;class JG{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||XG}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<FN(i,r,o)?e:i,u=FN(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const h=u-r,p=c-r;if(h!=p){for(let v=0;v<h;v++){const b=v<o.length?o[v]:o[v]=0,E=b+v;p<=E&&E<h&&(o[v]=b+1)}o[s.previousIndex]=p-h}}u!==c&&n(s,u,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Um(n))throw new Qt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let u=0;u<this.length;u++)o=n[u],s=this._trackByFn(u,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,u)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,u),i=!0),e=e._next}else r=0,function AH(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,u=>{s=this._trackByFn(r,u),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,u,s,r)),Object.is(e.item,u)||this._addIdentityChange(e,u)):(e=this._mismatch(e,u,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new KG(e,i),o,r),n}_verifyReinsertion(n,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new kN),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kN),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class KG{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QG{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class kN{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new QG,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FN(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class BN{constructor(){}supports(n){return n instanceof Map||x1(n)}create(){return new t$}}class t${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||x1(n)))throw new Qt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new e$(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class e${constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VN(){return new l_([new LN])}let l_=(()=>{class t{static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:VN});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||VN()),deps:[[t,new lm,new um]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Qt(901,!1)}}return t})();function zN(){return new bp([new BN])}let bp=(()=>{class t{static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:zN});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||zN()),deps:[[t,new lm,new um]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Qt(901,!1)}}return t})();const r$=EN(null,"core",[]);let o$=(()=>{class t{constructor(e){}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Cc))};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();function bb(t,n){const e=pn(t),i=n.elementInjector||Mm();return new ep(e).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let wb=null;function Dc(){return wb}class y${}const ts=new Ne("DocumentToken");let xb=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return fe(w$)},providedIn:"platform"})}return t})();const b$=new Ne("Location Initialized");let w$=(()=>{class t extends xb{constructor(){super(),this._doc=fe(ts),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dc().getBaseHref(this._doc)}onPopState(e){const i=Dc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Dc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Eb(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function ZN(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function zl(t){return t&&"?"!==t[0]?"?"+t:t}let ch=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return fe(JN)},providedIn:"root"})}return t})();const XN=new Ne("appBaseHref");let JN=(()=>{class t extends ch{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??fe(ts).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Eb(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+zl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+zl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+zl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#t=this.\u0275fac=function(i){return new(i||t)(ye(xb),ye(XN,8))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x$=(()=>{class t extends ch{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Eb(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+zl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+zl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#t=this.\u0275fac=function(i){return new(i||t)(ye(xb),ye(XN,8))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})(),Cb=(()=>{class t{constructor(e){this._subject=new on,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function D$(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(ZN(KN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+zl(i))}normalize(e){return t.stripTrailingSlash(function C$(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,KN(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zl(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zl(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#t=this.normalizeQueryParams=zl;static#e=this.joinWithSlash=Eb;static#n=this.stripTrailingSlash=ZN;static#i=this.\u0275fac=function(i){return new(i||t)(ye(ch))};static#r=this.\u0275prov=we({token:t,factory:function(){return function E$(){return new Cb(ye(ch))}()},providedIn:"root"})}return t})();function KN(t){return t.replace(/\/index.html$/,"")}const Lb=/\s+/,lP=[];let cP=(()=>{class t{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=lP,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Lb):lP}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Lb):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Lb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(l_),Vt(bp),Vt(rr),Vt(Wa))};static#e=this.\u0275dir=pe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class u6{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ul=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new u6(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,s),fP(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{fP(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(bu),Vt(fo),Vt(l_))};static#e=this.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function fP(t,n){t.context.$implicit=n.item}let Sc=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new l6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){dP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){dP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(bu),Vt(fo))};static#e=this.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class l6{constructor(){this.$implicit=null,this.ngIf=null}}function dP(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_i(n)}'.`)}let k6=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();function _P(t){return"server"===t}let z6=(()=>{class t{static#t=this.\u0275prov=we({token:t,providedIn:"root",factory:()=>new j6(ye(ts),window)})}return t})();class j6{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function H6(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class f9 extends y${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hb extends f9{static makeCurrent(){!function v$(t){wb||(wb=t)}(new Hb)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function d9(){return Cp=Cp||document.querySelector("base"),Cp?Cp.getAttribute("href"):null}();return null==e?null:function p9(t){E_=E_||document.createElement("a"),E_.setAttribute("href",t);const n=E_.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Cp=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function s6(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let E_,Cp=null,m9=(()=>{class t{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const Ub=new Ne("EventManagerPlugins");let xP=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Qt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Ub),ye(Ii))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();class EP{constructor(n){this._doc=n}}const Gb="ng-app-id";let CP=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_P(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Gb}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Gb),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Gb,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ts),ye(Im),ye(RS,8),ye(gf))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const $b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qb=/%COMP%/g,b9=new Ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function SP(t,n){return n.map(e=>e.replace(qb,t))}let MP=(()=>{class t{constructor(e,i,r,o,s,u,c,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=u,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=_P(u),this.defaultRenderer=new Wb(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yr.ShadowDom&&(i={...i,encapsulation:yr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof TP?r.applyToHost(e):r instanceof Yb&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,u=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case yr.Emulated:o=new TP(c,h,i,this.appId,p,s,u,m);break;case yr.ShadowDom:return new C9(c,h,e,i,s,u,this.nonce,m);default:o=new Yb(c,h,i,p,s,u,m)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(i){return new(i||t)(ye(xP),ye(CP),ye(Im),ye(b9),ye(ts),ye(gf),ye(Ii),ye(RS))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();class Wb{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS($b[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(IP(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(IP(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new Qt(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const o=$b[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=$b[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(yc.DashCase|yc.Important)?n.style.setProperty(e,i,r&yc.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&yc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=Dc().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function IP(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class C9 extends Wb{constructor(n,e,i,r,o,s,u,c){super(n,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=SP(r.id,r.styles);for(const p of h){const m=document.createElement("style");u&&m.setAttribute("nonce",u),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yb extends Wb{constructor(n,e,i,r,o,s,u,c){super(n,o,s,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?SP(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TP extends Yb{constructor(n,e,i,r,o,s,u,c){const h=r+"-"+i.id;super(n,e,i,o,s,u,c,h),this.contentAttr=function w9(t){return"_ngcontent-%COMP%".replace(qb,t)}(h),this.hostAttr=function x9(t){return"_nghost-%COMP%".replace(qb,t)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let D9=(()=>{class t extends EP{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ts))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const NP=["alt","control","meta","shift"],S9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let I9=(()=>{class t extends EP{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let s="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),s="code."),NP.forEach(h=>{const p=i.indexOf(h);p>-1&&(i.splice(p,1),s+=h+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=S9[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),NP.forEach(s=>{s!==r&&(0,M9[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ts))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();const O9=EN(r$,"browser",[{provide:gf,useValue:"browser"},{provide:AS,useValue:function T9(){Hb.makeCurrent()},multi:!0},{provide:ts,useFactory:function P9(){return function mj(t){L0=t}(document),document},deps:[]}]),A9=new Ne(""),AP=[{provide:o_,useClass:class g9{addToWindow(n){ji.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new Qt(5103,!1);return o},ji.getAllAngularTestabilities=()=>n.getAllTestabilities(),ji.getAllAngularRootElements=()=>n.getAllRootElements(),ji.frameworkStabilizers||(ji.frameworkStabilizers=[]),ji.frameworkStabilizers.push(i=>{const r=ji.getAllAngularTestabilities();let o=r.length,s=!1;const u=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(u)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?Dc().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:vN,useClass:lb,deps:[Ii,cb,o_]},{provide:lb,useClass:lb,deps:[Ii,cb,o_]}],RP=[{provide:G0,useValue:"root"},{provide:Fl,useFactory:function N9(){return new Fl},deps:[]},{provide:Ub,useClass:D9,multi:!0,deps:[ts,Ii,gf]},{provide:Ub,useClass:I9,multi:!0,deps:[ts]},MP,CP,xP,{provide:r1,useExisting:MP},{provide:class U6{},useClass:m9,deps:[]},[]];let R9=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Im,useValue:e.appId}]}}static#t=this.\u0275fac=function(i){return new(i||t)(ye(A9,12))};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({providers:[...RP,...AP],imports:[k6,o$]})}return t})(),LP=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ts))};static#e=this.\u0275prov=we({token:t,factory:function(i){let r=null;return r=i?new i:function k9(){return new LP(ye(ts))}(),r},providedIn:"root"})}return t})();typeof window<"u"&&window;const{isArray:j9}=Array,{getPrototypeOf:H9,prototype:U9,keys:G9}=Object;function VP(t){if(1===t.length){const n=t[0];if(j9(n))return{args:n,keys:null};if(function $9(t){return t&&"object"==typeof t&&H9(t)===U9}(n)){const e=G9(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:q9}=Array;function Xb(t){return jt(n=>function W9(t,n){return q9(n)?t(...n):t(n)}(t,n))}function zP(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}let jP=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(Wa),Vt(rr))};static#e=this.\u0275dir=pe({type:t})}return t})(),hh=(()=>{class t extends jP{static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,features:[or]})}return t})();const Eu=new Ne("NgValueAccessor"),X9={provide:Eu,useExisting:Zt(()=>C_),multi:!0},K9=new Ne("CompositionEventMode");let C_=(()=>{class t extends jP{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function J9(){const t=Dc()?Dc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(Wa),Vt(rr),Vt(K9,8))};static#e=this.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&mn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Nr([X9]),or]})}return t})();function Ic(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ns=new Ne("NgValidators"),Tc=new Ne("NgAsyncValidators");function D_(t){return null}function KP(t){return null!=t}function QP(t){return ap(t)?lr(t):t}function tO(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function eO(t,n){return n.map(e=>e(t))}function nO(t){return t.map(n=>function tq(t){return!t.validate}(n)?n:e=>n.validate(e))}function Jb(t){return null!=t?function iO(t){if(!t)return null;const n=t.filter(KP);return 0==n.length?null:function(e){return tO(eO(e,n))}}(nO(t)):null}function Kb(t){return null!=t?function rO(t){if(!t)return null;const n=t.filter(KP);return 0==n.length?null:function(e){return function Y9(...t){const n=Qi(t),{args:e,keys:i}=VP(t),r=new at(o=>{const{length:s}=e;if(!s)return void o.complete();const u=new Array(s);let c=s,h=s;for(let p=0;p<s;p++){let m=!1;Dr(e[p]).subscribe(Wt(o,v=>{m||(m=!0,h--),u[p]=v},()=>c--,void 0,()=>{(!c||!m)&&(h||o.next(i?zP(i,u):u),o.complete())}))}});return n?r.pipe(Xb(n)):r}(eO(e,n).map(QP)).pipe(jt(tO))}}(nO(t)):null}function oO(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Qb(t){return t?Array.isArray(t)?t:[t]:[]}function S_(t,n){return Array.isArray(t)?t.includes(n):t===n}function uO(t,n){const e=Qb(n);return Qb(t).forEach(r=>{S_(e,r)||e.push(r)}),e}function lO(t,n){return Qb(n).filter(e=>!S_(t,e))}class cO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Jb(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class ca extends cO{get formDirective(){return null}get path(){return null}}class Nc extends cO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hO{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fO=(()=>{class t extends hO{constructor(e){super(e)}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(Nc,2))};static#e=this.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&$i("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[or]})}return t})();const Dp="VALID",I_="INVALID",zf="PENDING",Sp="DISABLED";function T_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mO{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Dp}get invalid(){return this.status===I_}get pending(){return this.status==zf}get disabled(){return this.status===Sp}get enabled(){return this.status!==Sp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(uO(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(uO(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(lO(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(lO(n,this._rawAsyncValidators))}hasValidator(n){return S_(this._rawValidators,n)}hasAsyncValidator(n){return S_(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=zf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Sp,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Dp,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dp||this.status===zf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sp:Dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=zf,this._hasOwnPendingAsyncValidator=!0;const e=QP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new on,this.statusChanges=new on}_calculateStatus(){return this._allControlsDisabled()?Sp:this.errors?I_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zf)?zf:this._anyControlsHaveStatus(I_)?I_:Dp}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){T_(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function oq(t){return Array.isArray(t)?Jb(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function sq(t){return Array.isArray(t)?Kb(t):t||null}(this._rawAsyncValidators)}}const jf=new Ne("CallSetDisabledState",{providedIn:"root",factory:()=>N_}),N_="always";function Mp(t,n,e=N_){(function ow(t,n){const e=function sO(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(oO(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function aO(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(oO(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();A_(n._rawValidators,r),A_(n._rawAsyncValidators,r)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function lq(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_O(t,n)})}(t,n),function hq(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function cq(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_O(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function uq(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function A_(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function _O(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bO(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function wO(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const xO=class extends mO{constructor(n=null,e,i){super(function nw(t){return(T_(t)?t.validators:t)||null}(e),function iw(t,n){return(T_(n)?n.asyncValidators:t)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),T_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=wO(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){bO(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){bO(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){wO(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},yq={provide:Nc,useExisting:Zt(()=>cw)},DO=(()=>Promise.resolve())();let cw=(()=>{class t extends Nc{constructor(e,i,r,o,s,u){super(),this._changeDetectorRef=s,this.callSetDisabledState=u,this.control=new xO,this._registered=!1,this.name="",this.update=new on,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function uw(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===C_?e=o:function pq(t){return Object.getPrototypeOf(t.constructor)===hh}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function aw(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){DO.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function Ff(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);DO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function P_(t,n){return[...n.path,t]}(e,this._parent):[e]}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(ca,9),Vt(Ns,10),Vt(Tc,10),Vt(Eu,10),Vt(Vu,8),Vt(jf,8))};static#e=this.\u0275dir=pe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nr([yq]),or,Ss]})}return t})();const wq={provide:Eu,useExisting:Zt(()=>hw),multi:!0};let hw=(()=>{class t extends hh{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&mn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Nr([wq]),or]})}return t})();const xq={provide:Eu,useExisting:Zt(()=>fw),multi:!0};let SO=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),Eq=(()=>{class t{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:SO})}return t})(),fw=(()=>{class t extends hh{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=fe(jf,{optional:!0})??N_}ngOnInit(){this._control=this._injector.get(Nc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(Wa),Vt(rr),Vt(Eq),Vt(Is))};static#e=this.\u0275dir=pe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&mn("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Nr([xq]),or]})}return t})();const Nq={provide:Eu,useExisting:Zt(()=>L_),multi:!0};function OO(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let L_=(()=>{class t extends hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=OO(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Pq(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&mn("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([Nq]),or]})}return t})(),AO=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(OO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(rr),Vt(Wa),Vt(L_,9))};static#e=this.\u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();const Oq={provide:Eu,useExisting:Zt(()=>mw),multi:!0};function RO(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let mw=(()=>{class t extends hh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let u=0;u<s.length;u++){const h=this._getOptionValue(s[u].value);r.push(h)}}else{const s=i.options;for(let u=0;u<s.length;u++){const c=s[u];if(c.selected){const h=this._getOptionValue(c.value);r.push(h)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Aq(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&mn("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Nr([Oq]),or]})}return t})(),LO=(()=>{class t{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(RO(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(RO(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(rr),Vt(Wa),Vt(mw,9))};static#e=this.\u0275dir=pe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return t})();function FO(t){return"number"==typeof t?t:parseFloat(t)}let fh=(()=>{class t{constructor(){this._validator=D_}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):D_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275dir=pe({type:t,features:[Ss]})}return t})();const Rq={provide:Ns,useExisting:Zt(()=>_w),multi:!0};let _w=(()=>{class t extends fh{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>FO(e),this.createValidator=e=>function $P(t){return n=>{if(Ic(n.value)||Ic(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(e)}static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&sr("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Nr([Rq]),or]})}return t})();const Lq={provide:Ns,useExisting:Zt(()=>vw),multi:!0};let vw=(()=>{class t extends fh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>FO(e),this.createValidator=e=>function GP(t){return n=>{if(Ic(n.value)||Ic(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(e)}static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275dir=pe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&sr("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Nr([Lq]),or]})}return t})(),Hq=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({imports:[SO]})}return t})(),Gq=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:jf,useValue:e.callSetDisabledState??N_}]}}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({imports:[Hq]})}return t})();function bw(...t){const n=ga(t),e=Qi(t),{args:i,keys:r}=VP(t);if(0===i.length)return lr([],n);const o=new at(function qq(t,n,e=Lt){return i=>{UO(n,()=>{const{length:r}=t,o=new Array(r);let s=r,u=r;for(let c=0;c<r;c++)UO(n,()=>{const h=lr(t[c],n);let p=!1;h.subscribe(Wt(i,m=>{o[c]=m,p||(p=!0,u--),u||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>zP(r,s):Lt));return e?o.pipe(Xb(e)):o}function UO(t,n,e){t?Ar(e,t,n):n()}const k_=tt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tp(...t){return function Wq(){return su(1)}()(lr(t,ga(t)))}function GO(t){return new at(n=>{Dr(t()).subscribe(n)})}function Np(t,n){const e=J(t)?t:()=>t,i=r=>r.error(e());return new at(n?r=>n.schedule(i,0,r):i)}function ww(){return Bt((t,n)=>{let e=null;t._refCount++;const i=Wt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class $O extends at{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ut(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new wt;const e=this.getSubject();n.add(this.source.subscribe(Wt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=wt.EMPTY)}return n}refCount(){return ww()(this)}}function Ps(t){return t<=0?()=>Fn:Bt((n,e)=>{let i=0;n.subscribe(Wt(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function gs(t,n){return Bt((e,i)=>{let r=0;e.subscribe(Wt(i,o=>t.call(n,o,r++)&&i.next(o)))})}function F_(t){return Bt((n,e)=>{let i=!1;n.subscribe(Wt(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function WO(t=Yq){return Bt((n,e)=>{let i=!1;n.subscribe(Wt(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Yq(){return new k_}function dh(t,n){const e=arguments.length>=2;return i=>i.pipe(t?gs((r,o)=>t(r,o,i)):Lt,Ps(1),e?F_(n):WO(()=>new k_))}function Pp(t,n){return J(n)?wi(t,n,1):wi(t,1)}function ms(t,n,e){const i=J(t)||n||e?{next:t,error:n,complete:e}:t;return i?Bt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let u=!0;r.subscribe(Wt(o,c=>{var h;null===(h=i.next)||void 0===h||h.call(i,c),o.next(c)},()=>{var c;u=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var h;u=!1,null===(h=i.error)||void 0===h||h.call(i,c),o.error(c)},()=>{var c,h;u&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):Lt}function ph(t){return Bt((n,e)=>{let o,i=null,r=!1;i=n.subscribe(Wt(e,void 0,void 0,s=>{o=Dr(t(s,ph(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function xw(t){return t<=0?()=>Fn:Bt((n,e)=>{let i=[];n.subscribe(Wt(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Ew(t){return Bt((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function yo(t){return Bt((n,e)=>{Dr(t).subscribe(Wt(e,()=>e.complete(),Nt)),!e.closed&&n.subscribe(e)})}const Rn="primary",Op=Symbol("RouteTitle");class Kq{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hf(t){return new Kq(t)}function Qq(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],u=t[o];if(s.startsWith(":"))r[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function gl(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ZO(t[r],n[r]))return!1;return!0}function ZO(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}return t===n}function XO(t){return t.length>0?t[t.length-1]:null}function Pc(t){return function $q(t){return!!t&&(t instanceof at||J(t.lift)&&J(t.subscribe))}(t)?t:ap(t)?lr(Promise.resolve(t)):Pe(t)}const e7={exact:function QO(t,n,e){if(!gh(t.segments,n.segments)||!B_(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!QO(t.children[i],n.children[i],e))return!1;return!0},subset:tA},JO={exact:function n7(t,n){return gl(t,n)},subset:function i7(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>ZO(t[e],n[e]))},ignored:()=>!0};function KO(t,n,e){return e7[e.paths](t.root,n.root,e.matrixParams)&&JO[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function tA(t,n,e){return eA(t,n,n.segments,e)}function eA(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!gh(r,e)||n.hasChildren()||!B_(r,e,i))}if(t.segments.length===e.length){if(!gh(t.segments,e)||!B_(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!tA(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!!(gh(t.segments,r)&&B_(t.segments,r,i)&&t.children[Rn])&&eA(t.children[Rn],n,o,i)}}function B_(t,n,e){return n.every((i,r)=>JO[e](t[r].parameters,i.parameters))}class Uf{constructor(n=new dr([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return s7.serialize(this)}}class dr{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return V_(this)}}class Ap{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hf(this.parameters)),this._parameterMap}toString(){return rA(this)}}function gh(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Rp=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return new Cw},providedIn:"root"})}return t})();class Cw{parse(n){const e=new _7(n);return new Uf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Lp(n.root,!0)}`,i=function l7(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${z_(e)}=${z_(r)}`).join("&"):`${z_(e)}=${z_(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function a7(t){return encodeURI(t)}(n.fragment)}`:""}`}}const s7=new Cw;function V_(t){return t.segments.map(n=>rA(n)).join("/")}function Lp(t,n){if(!t.hasChildren())return V_(t);if(n){const e=t.children[Rn]?Lp(t.children[Rn],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Rn&&i.push(`${r}:${Lp(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function o7(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===Rn&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Rn&&(e=e.concat(n(r,i)))}),e}(t,(i,r)=>r===Rn?[Lp(t.children[Rn],!1)]:[`${r}:${Lp(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Rn]?`${V_(t)}/${e[0]}`:`${V_(t)}/(${e.join("//")})`}}function nA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function z_(t){return nA(t).replace(/%3B/gi,";")}function Dw(t){return nA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function j_(t){return decodeURIComponent(t)}function iA(t){return j_(t.replace(/\+/g,"%20"))}function rA(t){return`${Dw(t.path)}${function u7(t){return Object.keys(t).map(n=>`;${Dw(n)}=${Dw(t[n])}`).join("")}(t.parameters)}`}const c7=/^[^\/()?;#]+/;function Sw(t){const n=t.match(c7);return n?n[0]:""}const h7=/^[^\/()?;=#]+/,d7=/^[^=?&#]+/,g7=/^[^&#]+/;class _7{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dr([],{}):new dr([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Rn]=new dr(n,e)),i}parseSegment(){const n=Sw(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Qt(4009,!1);return this.capture(n),new Ap(j_(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function f7(t){const n=t.match(h7);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Sw(this.remaining);r&&(i=r,this.capture(i))}n[j_(e)]=j_(i)}parseQueryParam(n){const e=function p7(t){const n=t.match(d7);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function m7(t){const n=t.match(g7);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=iA(e),o=iA(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Sw(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Qt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Rn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Rn]:new dr([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Qt(4011,!1)}}function oA(t){return t.segments.length>0?new dr([],{[Rn]:t}):t}function sA(t){const n={};for(const i of Object.keys(t.children)){const o=sA(t.children[i]);if(i===Rn&&0===o.segments.length&&o.hasChildren())for(const[s,u]of Object.entries(o.children))n[s]=u;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function v7(t){if(1===t.numberOfChildren&&t.children[Rn]){const n=t.children[Rn];return new dr(t.segments.concat(n.segments),n.children)}return t}(new dr(t.segments,n))}function mh(t){return t instanceof Uf}function aA(t){let n;const r=oA(function e(o){const s={};for(const c of o.children){const h=e(c);s[c.outlet]=h}const u=new dr(o.url,s);return o===t&&(n=u),u}(t.root));return n??r}function uA(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(0===n.length)return Mw(r,r,r,e,i);const o=function b7(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new cA(!0,0,t);let n=0,e=!1;const i=t.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return Object.entries(o.outlets).forEach(([c,h])=>{u[c]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((u,c)=>{0==c&&"."===u||(0==c&&""===u?e=!0:".."===u?n++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new cA(e,n,i)}(n);if(o.toRoot())return Mw(r,r,new dr([],{}),e,i);const s=function w7(t,n,e){if(t.isAbsolute)return new U_(n,!0,0);if(!e)return new U_(n,!1,NaN);if(null===e.parent)return new U_(e,!0,0);const i=H_(t.commands[0])?0:1;return function x7(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Qt(4005,!1);r=i.segments.length}return new U_(i,!1,r-o)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(o,r,t),u=s.processChildren?Fp(s.segmentGroup,s.index,o.commands):hA(s.segmentGroup,s.index,o.commands);return Mw(r,s.segmentGroup,u,e,i)}function H_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function kp(t){return"object"==typeof t&&null!=t&&t.outlets}function Mw(t,n,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(p=>`${p}`):`${h}`}),s=t===n?e:lA(t,n,e);const u=oA(sA(s));return new Uf(u,o,r)}function lA(t,n,e){const i={};return Object.entries(t.children).forEach(([r,o])=>{i[r]=o===n?e:lA(o,n,e)}),new dr(t.segments,i)}class cA{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&H_(i[0]))throw new Qt(4003,!1);const r=i.find(kp);if(r&&r!==XO(i))throw new Qt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class U_{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function hA(t,n,e){if(t||(t=new dr([],{})),0===t.segments.length&&t.hasChildren())return Fp(t,n,e);const i=function C7(t,n,e){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;const s=t.segments[r],u=e[i];if(kp(u))break;const c=`${u}`,h=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!dA(c,h,s))return o;i+=2}else{if(!dA(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new dr(t.segments.slice(0,i.pathIndex),{});return o.children[Rn]=new dr(t.segments.slice(i.pathIndex),t.children),Fp(o,0,r)}return i.match&&0===r.length?new dr(t.segments,{}):i.match&&!t.hasChildren()?Iw(t,n,e):i.match?Fp(t,0,r):Iw(t,n,e)}function Fp(t,n,e){if(0===e.length)return new dr(t.segments,{});{const i=function E7(t){return kp(t[0])?t[0].outlets:{[Rn]:t}}(e),r={};if(Object.keys(i).some(o=>o!==Rn)&&t.children[Rn]&&1===t.numberOfChildren&&0===t.children[Rn].segments.length){const o=Fp(t.children[Rn],n,e);return new dr(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=hA(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new dr(t.segments,r)}}function Iw(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const o=e[r];if(kp(o)){const c=D7(o.outlets);return new dr(i,c)}if(0===r&&H_(e[0])){i.push(new Ap(t.segments[n].path,fA(e[0]))),r++;continue}const s=kp(o)?o.outlets[Rn]:`${o}`,u=r<e.length-1?e[r+1]:null;s&&u&&H_(u)?(i.push(new Ap(s,fA(u))),r+=2):(i.push(new Ap(s,{})),r++)}return new dr(i,{})}function D7(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=Iw(new dr([],{}),0,i))}),n}function fA(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function dA(t,n,e){return t==e.path&&gl(n,e.parameters)}const Bp="imperative";class ml{constructor(n,e){this.id=n,this.url=e}}class G_ extends ml{constructor(n,e,i="imperative",r=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends ml{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vp extends ml{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gf extends ml{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=16}}class $_ extends ml{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pA extends ml{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S7 extends ml{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M7 extends ml{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I7 extends ml{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T7 extends ml{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N7{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class P7{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class O7{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A7{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R7{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L7{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gA{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Tw{}class Nw{constructor(n){this.url=n}}class k7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zp,this.attachRef=null}}let zp=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new k7,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class mA{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Pw(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Pw(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Ow(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Ow(n,this._root).map(e=>e.value)}}function Pw(t,n){if(t===n.value)return n;for(const e of n.children){const i=Pw(t,e);if(i)return i}return null}function Ow(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Ow(t,e);if(i.length)return i.unshift(n),i}return[]}class Gl{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function $f(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class _A extends mA{constructor(n,e){super(n),this.snapshot=e,Aw(this,n)}toString(){return this.snapshot.toString()}}function vA(t,n){const e=function F7(t,n){const s=new q_([],{},{},"",{},Rn,n,null,{});return new bA("",new Gl(s,[]))}(0,n),i=new _e([new Ap("",{})]),r=new _e({}),o=new _e({}),s=new _e({}),u=new _e(""),c=new qf(i,r,s,u,o,Rn,n,e.root);return c.snapshot=e.root,new _A(new Gl(c,[]),e)}class qf{constructor(n,e,i,r,o,s,u,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(jt(h=>h[Op]))??Pe(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jt(n=>Hf(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jt(n=>Hf(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yA(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function B7(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class q_{get title(){return this.data?.[Op]}constructor(n,e,i,r,o,s,u,c,h){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=u,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bA extends mA{constructor(n,e){super(e),this.url=n,Aw(this,e)}toString(){return wA(this._root)}}function Aw(t,n){n.value._routerState=t,n.children.forEach(e=>Aw(t,e))}function wA(t){const n=t.children.length>0?` { ${t.children.map(wA).join(", ")} } `:"";return`${t.value}${n}`}function Rw(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,gl(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),gl(n.params,e.params)||t.paramsSubject.next(e.params),function t7(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!gl(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),gl(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lw(t,n){const e=gl(t.params,n.params)&&function r7(t,n){return gh(t,n)&&t.every((e,i)=>gl(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Lw(t.parent,n.parent))}let xA=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rn,this.activateEvents=new on,this.deactivateEvents=new on,this.attachEvents=new on,this.detachEvents=new on,this.parentContexts=fe(zp),this.location=fe(bu),this.changeDetector=fe(Vu),this.environmentInjector=fe(Da),this.inputBinder=fe(W_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Qt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Qt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Qt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Qt(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new V7(e,u,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275dir=pe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ss]})}return t})();class V7{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===qf?this.route:n===zp?this.childContexts:this.parent.get(n,e)}}const W_=new Ne("");let EA=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=bw([i.queryParams,i.params,i.data]).pipe(Ve(([o,s,u],c)=>(u={...o,...s,...u},0===c?Pe(u):Promise.resolve(u)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function _$(t){const n=pn(t);if(!n)return null;const e=new ep(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(s)for(const{templateName:u}of s.inputs)e.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function jp(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function j7(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return jp(t,i,r);return jp(t,i)})}(t,n,e);return new Gl(i,r)}{if(t.shouldAttach(n.value)){const o=t.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(u=>jp(t,u)),s}}const i=function H7(t){return new qf(new _e(t.url),new _e(t.params),new _e(t.queryParams),new _e(t.fragment),new _e(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(o=>jp(t,o));return new Gl(i,r)}}const kw="ngNavigationCancelingError";function CA(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=mh(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=DA(!1,0,n);return r.url=e,r.navigationBehaviorOptions=i,r}function DA(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[kw]=!0,i.cancellationCode=n,e&&(i.url=e),i}function SA(t){return t&&t[kw]}let MA=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275cmp=Gi({type:t,selectors:[["ng-component"]],standalone:!0,features:[yu],decls:1,vars:0,template:function(i,r){1&i&&_u(0,"router-outlet")},dependencies:[xA],encapsulation:2})}return t})();function Fw(t){const n=t.children&&t.children.map(Fw),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=MA),e}function Hu(t){return t.outlet||Rn}function Hp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class X7{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Rw(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=$f(e);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=$f(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:u})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=$f(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const r=$f(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new L7(o.value.snapshot))}),n.children.length&&this.forwardEvent(new A7(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,o=e?e.value:null;if(Rw(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),Rw(u.route.value),this.activateChildRoutes(n,null,s.children)}else{const u=Hp(r.snapshot);s.attachRef=null,s.route=r,s.injector=u,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class IA{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Y_{constructor(n,e){this.component=n,this.route=e}}function J7(t,n,e){const i=t._root;return Up(i,n?n._root:null,e,[i.value])}function Wf(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||function so(t){return null!==Pl(t)}(t)?n.get(t):t:i}function Up(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=$f(n);return t.children.forEach(s=>{(function Q7(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=n?n.value:null,u=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function tW(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!gh(t.url,n.url);case"pathParamsOrQueryParamsChange":return!gh(t.url,n.url)||!gl(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lw(t,n)||!gl(t.queryParams,n.queryParams);default:return!Lw(t,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new IA(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Up(t,n,o.component?u?u.children:null:e,i,r),c&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new Y_(u.outlet.component,s))}else s&&Gp(n,u,r),r.canActivateChecks.push(new IA(i)),Up(t,null,o.component?u?u.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>Gp(u,e.getContext(s),r)),r}function Gp(t,n,e){const i=$f(t),r=t.value;Object.entries(i).forEach(([o,s])=>{Gp(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new Y_(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function $p(t){return"function"==typeof t}function TA(t){return t instanceof k_||"EmptyError"===t?.name}const Z_=Symbol("INITIAL_VALUE");function Yf(){return Ve(t=>bw(t.map(n=>n.pipe(Ps(1),function qO(...t){const n=ga(t);return Bt((e,i)=>{(n?Tp(t,e,n):Tp(t,e)).subscribe(i)})}(Z_)))).pipe(jt(n=>{for(const e of n)if(!0!==e){if(e===Z_)return Z_;if(!1===e||e instanceof Uf)return e}return!0}),gs(n=>n!==Z_),Ps(1)))}function NA(t){return function lt(...t){return vt(t)}(ms(n=>{if(mh(n))throw CA(0,n)}),jt(n=>!0===n))}class X_{constructor(n){this.segmentGroup=n||null}}class PA{constructor(n){this.urlTree=n}}function Zf(t){return Np(new X_(t))}function OA(t){return Np(new PA(t))}class bW{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new Qt(4002,!1)}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Pe(i);if(r.numberOfChildren>1||!r.children[Rn])return Np(new Qt(4e3,!1));r=r.children[Rn]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,r){const o=this.createSegmentGroup(n,e.root,i,r);return new Uf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const u=o.substring(1);i[r]=e[u]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){const o=this.createSegments(n,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([u,c])=>{s[u]=this.createSegmentGroup(n,c,i,r)}),new dr(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new Qt(4001,!1);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}const Bw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wW(t,n,e,i,r){const o=Vw(t,n,e);return o.matched?(i=function G7(t,n){return t.providers&&!t._injector&&(t._injector=G1(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function _W(t,n,e,i){const r=n.canMatch;return r&&0!==r.length?Pe(r.map(s=>{const u=Wf(s,t);return Pc(function sW(t){return t&&$p(t.canMatch)}(u)?u.canMatch(n,e):t.runInContext(()=>u(n,e)))})).pipe(Yf(),NA()):Pe(!0)}(i,n,e).pipe(jt(s=>!0===s?o:{...Bw}))):Pe(o)}function Vw(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...Bw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(n.matcher||Qq)(e,t,n);if(!r)return{...Bw};const o={};Object.entries(r.posParams??{}).forEach(([u,c])=>{o[u]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function AA(t,n,e,i){return e.length>0&&function CW(t,n,e){return e.some(i=>J_(t,n,i)&&Hu(i)!==Rn)}(t,e,i)?{segmentGroup:new dr(n,EW(i,new dr(e,t.children))),slicedSegments:[]}:0===e.length&&function DW(t,n,e){return e.some(i=>J_(t,n,i))}(t,e,i)?{segmentGroup:new dr(t.segments,xW(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new dr(t.segments,t.children),slicedSegments:e}}function xW(t,n,e,i,r){const o={};for(const s of i)if(J_(t,e,s)&&!r[Hu(s)]){const u=new dr([],{});o[Hu(s)]=u}return{...r,...o}}function EW(t,n){const e={};e[Rn]=n;for(const i of t)if(""===i.path&&Hu(i)!==Rn){const r=new dr([],{});e[Hu(i)]=r}return e}function J_(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class TW{constructor(n,e,i,r,o,s,u){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.allowRedirects=!0,this.applyRedirects=new bW(this.urlSerializer,this.urlTree)}noMatchError(n){return new Qt(4002,!1)}recognize(){const n=AA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Rn).pipe(ph(e=>{if(e instanceof PA)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof X_?this.noMatchError(e):e}),jt(e=>{const i=new q_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rn,this.rootComponentType,null,{}),r=new Gl(i,e),o=new bA("",r),s=function y7(t,n,e=null,i=null){return uA(aA(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Rn).pipe(ph(i=>{throw i instanceof X_?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=yA(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0)}processChildren(n,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return lr(r).pipe(Pp(o=>{const s=i.children[o],u=function Y7(t,n){const e=t.filter(i=>Hu(i)===n);return e.push(...t.filter(i=>Hu(i)!==n)),e}(e,o);return this.processSegmentGroup(n,u,s,o)}),function Xq(t,n){return Bt(function Zq(t,n,e,i,r){return(o,s)=>{let u=e,c=n,h=0;o.subscribe(Wt(s,p=>{const m=h++;c=u?t(c,p,m):(u=!0,p),i&&s.next(c)},r&&(()=>{u&&s.next(c),s.complete()})))}}(t,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),F_(null),function Jq(t,n){const e=arguments.length>=2;return i=>i.pipe(t?gs((r,o)=>t(r,o,i)):Lt,xw(1),e?F_(n):WO(()=>new k_))}(),wi(o=>{if(null===o)return Zf(i);const s=RA(o);return function NW(t){t.sort((n,e)=>n.value.outlet===Rn?-1:e.value.outlet===Rn?1:n.value.outlet.localeCompare(e.value.outlet))}(s),Pe(s)}))}processSegment(n,e,i,r,o,s){return lr(e).pipe(Pp(u=>this.processSegmentAgainstRoute(u._injector??n,e,u,i,r,o,s).pipe(ph(c=>{if(c instanceof X_)return Pe(null);throw c}))),dh(u=>!!u),ph(u=>{if(TA(u))return function MW(t,n,e){return 0===n.length&&!t.children[e]}(i,r,o)?Pe([]):Zf(i);throw u}))}processSegmentAgainstRoute(n,e,i,r,o,s,u){return function SW(t,n,e,i){return!!(Hu(t)===i||i!==Rn&&J_(n,e,t))&&("**"===t.path||Vw(n,t,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s,u):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):Zf(r):Zf(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OA(o):this.applyRedirects.lineralizeSegments(i,o).pipe(wi(s=>{const u=new dr(s,{});return this.processSegment(n,e,u,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){const{matched:u,consumedSegments:c,remainingSegments:h,positionalParamSegments:p}=Vw(e,r,o);if(!u)return Zf(e);const m=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,p);return r.redirectTo.startsWith("/")?OA(m):this.applyRedirects.lineralizeSegments(r,m).pipe(wi(v=>this.processSegment(n,i,e,v.concat(h),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o,s){let u;if("**"===i.path){const c=r.length>0?XO(r).parameters:{};u=Pe({snapshot:new q_(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LA(i),Hu(i),i.component??i._loadedComponent??null,i,kA(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else u=wW(e,i,r,n).pipe(jt(({matched:c,consumedSegments:h,remainingSegments:p,parameters:m})=>c?{snapshot:new q_(h,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LA(i),Hu(i),i.component??i._loadedComponent??null,i,kA(i)),consumedSegments:h,remainingSegments:p}:null));return u.pipe(Ve(c=>null===c?Zf(e):this.getChildConfig(n=i._injector??n,i,r).pipe(Ve(({routes:h})=>{const p=i._loadedInjector??n,{snapshot:m,consumedSegments:v,remainingSegments:b}=c,{segmentGroup:E,slicedSegments:D}=AA(e,v,b,h);if(0===D.length&&E.hasChildren())return this.processChildren(p,h,E).pipe(jt(T=>null===T?null:[new Gl(m,T)]));if(0===h.length&&0===D.length)return Pe([new Gl(m,[])]);const I=Hu(i)===o;return this.processSegment(p,h,E,D,I?Rn:o,!0).pipe(jt(T=>[new Gl(m,T)]))}))))}getChildConfig(n,e,i){return e.children?Pe({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Pe({routes:e._loadedRoutes,injector:e._loadedInjector}):function mW(t,n,e,i){const r=n.canLoad;return void 0===r||0===r.length?Pe(!0):Pe(r.map(s=>{const u=Wf(s,t);return Pc(function nW(t){return t&&$p(t.canLoad)}(u)?u.canLoad(n,e):t.runInContext(()=>u(n,e)))})).pipe(Yf(),NA())}(n,e,i).pipe(wi(r=>r?this.configLoader.loadChildren(n,e).pipe(ms(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function yW(t){return Np(DA(!1,3))}())):Pe({routes:[],injector:n})}}function PW(t){const n=t.value.routeConfig;return n&&""===n.path}function RA(t){const n=[],e=new Set;for(const i of t){if(!PW(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=RA(i.children);n.push(new Gl(i.value,r))}return n.filter(i=>!e.has(i))}function LA(t){return t.data||{}}function kA(t){return t.resolve||{}}function AW(t,n){return wi(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Pe(e);let o=0;return lr(r).pipe(Pp(s=>function RW(t,n,e,i){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!FA(r)&&(o[Op]=r.title),function LW(t,n,e,i){const r=function kW(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return Pe({});const o={};return lr(r).pipe(wi(s=>function FW(t,n,e,i){const r=Hp(n)??i,o=Wf(t,r);return Pc(o.resolve?o.resolve(n,e):r.runInContext(()=>o(n,e)))}(t[s],n,e,i).pipe(dh(),ms(u=>{o[s]=u}))),xw(1),function YO(t){return jt(()=>t)}(o),ph(s=>TA(s)?Fn:Np(s)))}(o,t,n,i).pipe(jt(s=>(t._resolvedData=s,t.data=yA(t,e).resolve,r&&FA(r)&&(t.data[Op]=r.title),null)))}(s.route,i,t,n)),ms(()=>o++),xw(1),wi(s=>o===r.length?Pe(e):Fn))})}function FA(t){return"string"==typeof t.title||null===t.title}function zw(t){return Ve(n=>{const e=t(n);return e?lr(e).pipe(jt(()=>n)):Pe(n)})}const Xf=new Ne("ROUTES");let jw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(pN)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Pe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Pc(e.loadComponent()).pipe(jt(BA),ms(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ew(()=>{this.componentLoaders.delete(e)})),r=new $O(i,()=>new V).pipe(ww());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function BW(t,n,e,i){return Pc(t.loadChildren()).pipe(jt(BA),wi(r=>r instanceof ET||Array.isArray(r)?Pe(r):lr(n.compileModuleAsync(r))),jt(r=>{i&&i(t);let o,s,u=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Xf,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fw),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Ew(()=>{this.childrenLoaders.delete(i)})),s=new $O(o,()=>new V).pipe(ww());return this.childrenLoaders.set(i,s),s}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BA(t){return function VW(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let K_=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=fe(jw),this.environmentInjector=fe(Da),this.urlSerializer=fe(Rp),this.rootContexts=fe(zp),this.inputBindingEnabled=null!==fe(W_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new P7(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new N7(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new _e({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gs(o=>0!==o.id),jt(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),Ve(o=>{this.currentTransition=o;let s=!1,u=!1;return Pe(o).pipe(ms(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ve(c=>{const h=c.currentBrowserUrl.toString(),p=!e.navigated||c.extractedUrl.toString()!==h||h!==c.currentUrlTree.toString();if(!p&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const v="";return this.events.next(new Gf(c.id,this.urlSerializer.serialize(c.rawUrl),v,0)),c.resolve(null),Fn}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Pe(c).pipe(Ve(v=>{const b=this.transitions?.getValue();return this.events.next(new G_(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),b!==this.transitions?.getValue()?Fn:Promise.resolve(v)}),function OW(t,n,e,i,r,o){return wi(s=>function IW(t,n,e,i,r,o,s="emptyOnly"){return new TW(t,n,e,i,r,s,o).recognize()}(t,n,e,i,s.extractedUrl,r,o).pipe(jt(({state:u,tree:c})=>({...s,targetSnapshot:u,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ms(v=>{o.targetSnapshot=v.targetSnapshot,o.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const b=new pA(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:v,extractedUrl:b,source:E,restoredState:D,extras:I}=c,T=new G_(v,this.urlSerializer.serialize(b),E,D);this.events.next(T);const M=vA(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:M,urlAfterRedirects:b,extras:{...I,skipLocationChange:!1,replaceUrl:!1}},Pe(o)}{const v="";return this.events.next(new Gf(c.id,this.urlSerializer.serialize(c.extractedUrl),v,1)),c.resolve(null),Fn}}),ms(c=>{const h=new S7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),jt(c=>(this.currentTransition=o={...c,guards:J7(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function uW(t,n){return wi(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Pe({...e,guardsResult:!0}):function lW(t,n,e,i){return lr(t).pipe(wi(r=>function gW(t,n,e,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?Pe(o.map(u=>{const c=Hp(n)??r,h=Wf(u,c);return Pc(function oW(t){return t&&$p(t.canDeactivate)}(h)?h.canDeactivate(t,n,e,i):c.runInContext(()=>h(t,n,e,i))).pipe(dh())})).pipe(Yf()):Pe(!0)}(r.component,r.route,e,n,i)),dh(r=>!0!==r,!0))}(s,i,r,t).pipe(wi(u=>u&&function eW(t){return"boolean"==typeof t}(u)?function cW(t,n,e,i){return lr(n).pipe(Pp(r=>Tp(function fW(t,n){return null!==t&&n&&n(new O7(t)),Pe(!0)}(r.route.parent,i),function hW(t,n){return null!==t&&n&&n(new R7(t)),Pe(!0)}(r.route,i),function pW(t,n,e){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function K7(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>GO(()=>Pe(s.guards.map(c=>{const h=Hp(s.node)??e,p=Wf(c,h);return Pc(function rW(t){return t&&$p(t.canActivateChild)}(p)?p.canActivateChild(i,t):h.runInContext(()=>p(i,t))).pipe(dh())})).pipe(Yf())));return Pe(o).pipe(Yf())}(t,r.path,e),function dW(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return Pe(!0);const r=i.map(o=>GO(()=>{const s=Hp(n)??e,u=Wf(o,s);return Pc(function iW(t){return t&&$p(t.canActivate)}(u)?u.canActivate(n,t):s.runInContext(()=>u(n,t))).pipe(dh())}));return Pe(r).pipe(Yf())}(t,r.route,e))),dh(r=>!0!==r,!0))}(i,o,t,n):Pe(u)),jt(u=>({...e,guardsResult:u})))})}(this.environmentInjector,c=>this.events.next(c)),ms(c=>{if(o.guardsResult=c.guardsResult,mh(c.guardsResult))throw CA(0,c.guardsResult);const h=new M7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),gs(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),zw(c=>{if(c.guards.canActivateChecks.length)return Pe(c).pipe(ms(h=>{const p=new I7(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Ve(h=>{let p=!1;return Pe(h).pipe(AW(e.paramsInheritanceStrategy,this.environmentInjector),ms({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",2)}}))}),ms(h=>{const p=new T7(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),zw(c=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(ms(v=>{p.component=v}),jt(()=>{})));for(const v of p.children)m.push(...h(v));return m};return bw(h(c.targetSnapshot.root)).pipe(F_(),Ps(1))}),zw(()=>this.afterPreactivation()),jt(c=>{const h=function z7(t,n,e){const i=jp(t,n._root,e?e._root:void 0);return new _A(i,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:h},o}),ms(()=>{this.events.next(new Tw)}),((t,n,e,i)=>jt(r=>(new X7(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ps(1),ms({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),yo(this.transitionAbortSubject.pipe(ms(c=>{throw c}))),Ew(()=>{s||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ph(c=>{if(u=!0,SA(c))this.events.next(new Vp(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function U7(t){return SA(t)&&mh(t.url)}(c)?this.events.next(new Nw(c.url)):o.resolve(!1);else{this.events.next(new $_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(h){o.reject(h)}}return Fn}))}))}cancelNavigationTransition(e,i,r){const o=new Vp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VA(t){return t!==Bp}let zA=(()=>{class t{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Rn);return i}getResolvedTitleForRoute(e){return e.data[Op]}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return fe(zW)},providedIn:"root"})}return t})(),zW=(()=>{class t extends zA{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#t=this.\u0275fac=function(i){return new(i||t)(ye(LP))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jW=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return fe(UW)},providedIn:"root"})}return t})();class HW{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let UW=(()=>{class t extends HW{static#t=this.\u0275fac=function(){let e;return function(r){return(e||(e=No(t)))(r||t)}}();static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Q_=new Ne("",{providedIn:"root",factory:()=>({})});let GW=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:function(){return fe($W)},providedIn:"root"})}return t})(),$W=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(qp||{});function jA(t,n){t.events.pipe(gs(e=>e instanceof Oc||e instanceof Vp||e instanceof $_||e instanceof Gf),jt(e=>e instanceof Oc||e instanceof Gf?qp.COMPLETE:e instanceof Vp&&(0===e.code||1===e.code)?qp.REDIRECTING:qp.FAILED),gs(e=>e!==qp.REDIRECTING),Ps(1)).subscribe(()=>{n()})}function qW(t){throw t}function WW(t,n,e){return n.parse("/")}const YW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cu=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=fe(fN),this.isNgZoneEnabled=!1,this._events=new V,this.options=fe(Q_,{optional:!0})||{},this.pendingTasks=fe(dN),this.errorHandler=this.options.errorHandler||qW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=fe(GW),this.routeReuseStrategy=fe(jW),this.titleStrategy=fe(zA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=fe(Xf,{optional:!0})?.flat()??[],this.navigationTransitions=fe(K_),this.urlSerializer=fe(Rp),this.location=fe(Cb),this.componentInputBindingEnabled=!!fe(W_,{optional:!0}),this.eventsSubscription=new wt,this.isNgZoneEnabled=fe(Ii)instanceof Ii&&Ii.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Uf,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(HA(i)&&this._events.next(i));if(i instanceof G_)VA(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Gf)this.rawUrlTree=r.rawUrl;else if(i instanceof pA){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Tw)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Vp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Nw){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||VA(r.source)};this.scheduleNavigation(o,Bp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof $_&&this.restoreHistory(r,!0),i instanceof Oc&&(this.navigated=!0),HA(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Fw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:u,preserveFragment:c}=i,h=c?this.currentUrlTree.fragment:s;let m,p=null;switch(u){case"merge":p={...this.currentUrlTree.queryParams,...o};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}null!==p&&(p=this.removeEmptyProps(p));try{m=aA(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),m=this.currentUrlTree.root}return uA(m,e,p,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=mh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Bp,null,i)}navigate(e,i={skipLocationChange:!1}){return function XW(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Qt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...YW}:!1===i?{...ZW}:i,mh(e))return KO(this.currentUrlTree,e,r);const o=this.parseUrl(e);return KO(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let u,c,h;s?(u=s.resolve,c=s.reject,h=s.promise):h=new Promise((m,v)=>{u=m,c=v});const p=this.pendingTasks.add();return jA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:u,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HA(t){return!(t instanceof Tw||t instanceof Nw)}class UA{}let QW=(()=>{class t{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gs(e=>e instanceof Oc),Pp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=G1(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,u=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return lr(r).pipe(su())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Pe(null);const o=r.pipe(wi(s=>null===s?Pe(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?lr([o,this.loader.loadComponent(i)]).pipe(su()):o})}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Cu),ye(pN),ye(Da),ye(UA),ye(jw))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Uw=new Ne("");let GA=(()=>{class t{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof G_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Gf&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof gA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#t=this.\u0275fac=function(i){!function cM(){throw new Error("invalid")}()};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac})}return t})();function $l(t,n){return{\u0275kind:t,\u0275providers:n}}function qA(){const t=fe(Is);return n=>{const e=t.get(Cc);if(n!==e.components[0])return;const i=t.get(Cu),r=t.get(WA);1===t.get(Gw)&&i.initialNavigation(),t.get(YA,null,On.Optional)?.setUpPreloading(),t.get(Uw,null,On.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const WA=new Ne("",{factory:()=>new V}),Gw=new Ne("",{providedIn:"root",factory:()=>1}),YA=new Ne("");function iY(t){return $l(0,[{provide:YA,useExisting:QW},{provide:UA,useExisting:t}])}const ZA=new Ne("ROUTER_FORROOT_GUARD"),oY=[Cb,{provide:Rp,useClass:Cw},Cu,zp,{provide:qf,useFactory:function $A(t){return t.routerState.root},deps:[Cu]},jw,[]];function sY(){return new wN("Router",Cu)}let XA=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[oY,[],{provide:Xf,multi:!0,useValue:e},{provide:ZA,useFactory:cY,deps:[[Cu,new um,new lm]]},{provide:Q_,useValue:i||{}},i?.useHash?{provide:ch,useClass:x$}:{provide:ch,useClass:JN},{provide:Uw,useFactory:()=>{const t=fe(z6),n=fe(Ii),e=fe(Q_),i=fe(K_),r=fe(Rp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new GA(r,i,t,n,e)}},i?.preloadingStrategy?iY(i.preloadingStrategy).\u0275providers:[],{provide:wN,multi:!0,useFactory:sY},i?.initialNavigation?hY(i):[],i?.bindToComponentInputs?$l(8,[EA,{provide:W_,useExisting:EA}]).\u0275providers:[],[{provide:JA,useFactory:qA},{provide:db,multi:!0,useExisting:JA}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Xf,multi:!0,useValue:e}]}}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ZA,8))};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();function cY(t){return"guarded"}function hY(t){return["disabled"===t.initialNavigation?$l(3,[{provide:ob,multi:!0,useFactory:()=>{const n=fe(Cu);return()=>{n.setUpLocationChangeListener()}}},{provide:Gw,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?$l(2,[{provide:Gw,useValue:0},{provide:ob,multi:!0,deps:[Is],useFactory:n=>{const e=n.get(b$,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=n.get(Cu),o=n.get(WA);jA(r,()=>{i(!0)}),n.get(K_).afterPreactivation=()=>(i(!0),o.closed?Pe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const JA=new Ne(""),dY=[];let pY=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({imports:[XA.forRoot(dY),XA]})}return t})();function Jf(t){return t+.5|0}const ql=(t,n,e)=>Math.max(Math.min(t,e),n);function Wp(t){return ql(Jf(2.55*t),0,255)}function Ac(t){return ql(Jf(255*t),0,255)}function Wl(t){return ql(Jf(t/2.55)/100,0,1)}function KA(t){return ql(Jf(100*t),0,100)}const Du={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$w=[..."0123456789ABCDEF"],gY=t=>$w[15&t],mY=t=>$w[(240&t)>>4]+$w[15&t],tv=t=>(240&t)>>4==(15&t);const wY=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QA(t,n,e){const i=n*Math.min(e,1-e),r=(o,s=(o+t/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function xY(t,n,e){const i=(r,o=(r+t/60)%6)=>e-e*n*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function EY(t,n,e){const i=QA(t,1,.5);let r;for(n+e>1&&(r=1/(n+e),n*=r,e*=r),r=0;r<3;r++)i[r]*=1-n-e,i[r]+=n;return i}function qw(t){const e=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(e,i,r),s=Math.min(e,i,r),u=(o+s)/2;let c,h,p;return o!==s&&(p=o-s,h=u>.5?p/(2-o-s):p/(o+s),c=function CY(t,n,e,i,r){return t===r?(n-e)/i+(n<e?6:0):n===r?(e-t)/i+2:(t-n)/i+4}(e,i,r,p,o),c=60*c+.5),[0|c,h||0,u]}function Ww(t,n,e,i){return(Array.isArray(n)?t(n[0],n[1],n[2]):t(n,e,i)).map(Ac)}function Yw(t,n,e){return Ww(QA,t,n,e)}function tR(t){return(t%360+360)%360}const eR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ev;const OY=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Zw=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Kf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nv(t,n,e){if(t){let i=qw(t);i[n]=Math.max(0,Math.min(i[n]+i[n]*e,0===n?360:1)),i=Yw(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function iR(t,n){return t&&Object.assign(n||{},t)}function rR(t){var n={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(n={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(n.a=Ac(t[3]))):(n=iR(t,{r:0,g:0,b:0,a:1})).a=Ac(n.a),n}function kY(t){return"r"===t.charAt(0)?function AY(t){const n=OY.exec(t);let i,r,o,e=255;if(n){if(n[7]!==i){const s=+n[7];e=n[8]?Wp(s):ql(255*s,0,255)}return i=+n[1],r=+n[3],o=+n[5],i=255&(n[2]?Wp(i):ql(i,0,255)),r=255&(n[4]?Wp(r):ql(r,0,255)),o=255&(n[6]?Wp(o):ql(o,0,255)),{r:i,g:r,b:o,a:e}}}(t):function MY(t){const n=wY.exec(t);let i,e=255;if(!n)return;n[5]!==i&&(e=n[6]?Wp(+n[5]):Ac(+n[5]));const r=tR(+n[2]),o=+n[3]/100,s=+n[4]/100;return i="hwb"===n[1]?function DY(t,n,e){return Ww(EY,t,n,e)}(r,o,s):"hsv"===n[1]?function SY(t,n,e){return Ww(xY,t,n,e)}(r,o,s):Yw(r,o,s),{r:i[0],g:i[1],b:i[2],a:e}}(t)}class Qf{constructor(n){if(n instanceof Qf)return n;const e=typeof n;let i;"object"===e?i=rR(n):"string"===e&&(i=function vY(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Du[t[1]],g:255&17*Du[t[2]],b:255&17*Du[t[3]],a:5===n?17*Du[t[4]]:255}:(7===n||9===n)&&(e={r:Du[t[1]]<<4|Du[t[2]],g:Du[t[3]]<<4|Du[t[4]],b:Du[t[5]]<<4|Du[t[6]],a:9===n?Du[t[7]]<<4|Du[t[8]]:255})),e}(n)||function PY(t){ev||(ev=function NY(){const t={},n=Object.keys(nR),e=Object.keys(eR);let i,r,o,s,u;for(i=0;i<n.length;i++){for(s=u=n[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,eR[o]);o=parseInt(nR[s],16),t[u]=[o>>16&255,o>>8&255,255&o]}return t}(),ev.transparent=[0,0,0,0]);const n=ev[t.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:4===n.length?n[3]:255}}(n)||kY(n)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var n=iR(this._rgb);return n&&(n.a=Wl(n.a)),n}set rgb(n){this._rgb=rR(n)}rgbString(){return this._valid?function RY(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Wl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function bY(t){var n=(t=>tv(t.r)&&tv(t.g)&&tv(t.b)&&tv(t.a))(t)?gY:mY;return t?"#"+n(t.r)+n(t.g)+n(t.b)+((t,n)=>t<255?n(t):"")(t.a,n):void 0}(this._rgb):void 0}hslString(){return this._valid?function TY(t){if(!t)return;const n=qw(t),e=n[0],i=KA(n[1]),r=KA(n[2]);return t.a<255?`hsla(${e}, ${i}%, ${r}%, ${Wl(t.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(n,e){if(n){const i=this.rgb,r=n.rgb;let o;const s=e===o?.5:e,u=2*s-1,c=i.a-r.a,h=((u*c==-1?u:(u+c)/(1+u*c))+1)/2;o=1-h,i.r=255&h*i.r+o*r.r+.5,i.g=255&h*i.g+o*r.g+.5,i.b=255&h*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(n,e){return n&&(this._rgb=function LY(t,n,e){const i=Kf(Wl(t.r)),r=Kf(Wl(t.g)),o=Kf(Wl(t.b));return{r:Ac(Zw(i+e*(Kf(Wl(n.r))-i))),g:Ac(Zw(r+e*(Kf(Wl(n.g))-r))),b:Ac(Zw(o+e*(Kf(Wl(n.b))-o))),a:t.a+e*(n.a-t.a)}}(this._rgb,n._rgb,e)),this}clone(){return new Qf(this.rgb)}alpha(n){return this._rgb.a=Ac(n),this}clearer(n){return this._rgb.a*=1-n,this}greyscale(){const n=this._rgb,e=Jf(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=e,this}opaquer(n){return this._rgb.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return nv(this._rgb,2,n),this}darken(n){return nv(this._rgb,2,-n),this}saturate(n){return nv(this._rgb,1,n),this}desaturate(n){return nv(this._rgb,1,-n),this}rotate(n){return function IY(t,n){var e=qw(t);e[0]=tR(e[0]+n),e=Yw(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,n),this}}function Yl(){}const FY=(()=>{let t=0;return()=>t++})();function Vi(t){return null===t||typeof t>"u"}function Zr(t){if(Array.isArray&&Array.isArray(t))return!0;const n=Object.prototype.toString.call(t);return"[object"===n.slice(0,7)&&"Array]"===n.slice(-6)}function Mi(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function bo(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Xa(t,n){return bo(t)?t:n}function Ln(t,n){return typeof t>"u"?n:t}const oR=(t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*n:+t;function Vr(t,n,e){if(t&&"function"==typeof t.call)return t.apply(e,n)}function pr(t,n,e,i){let r,o,s;if(Zr(t))if(o=t.length,i)for(r=o-1;r>=0;r--)n.call(e,t[r],r);else for(r=0;r<o;r++)n.call(e,t[r],r);else if(Mi(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)n.call(e,t[s[r]],s[r])}function iv(t,n){let e,i,r,o;if(!t||!n||t.length!==n.length)return!1;for(e=0,i=t.length;e<i;++e)if(r=t[e],o=n[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function rv(t){if(Zr(t))return t.map(rv);if(Mi(t)){const n=Object.create(null),e=Object.keys(t),i=e.length;let r=0;for(;r<i;++r)n[e[r]]=rv(t[e[r]]);return n}return t}function sR(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function VY(t,n,e,i){if(!sR(t))return;const r=n[t],o=e[t];Mi(r)&&Mi(o)?Yp(r,o,i):n[t]=rv(o)}function Yp(t,n,e){const i=Zr(n)?n:[n],r=i.length;if(!Mi(t))return t;const o=(e=e||{}).merger||VY;let s;for(let u=0;u<r;++u){if(s=i[u],!Mi(s))continue;const c=Object.keys(s);for(let h=0,p=c.length;h<p;++h)o(c[h],t,s,e)}return t}function Zp(t,n){return Yp(t,n,{merger:zY})}function zY(t,n,e){if(!sR(t))return;const i=n[t],r=e[t];Mi(i)&&Mi(r)?Zp(i,r):Object.prototype.hasOwnProperty.call(n,t)||(n[t]=rv(r))}const aR={"":t=>t,x:t=>t.x,y:t=>t.y};function Rc(t,n){return(aR[n]||(aR[n]=function HY(t){const n=function jY(t){const n=t.split("."),e=[];let i="";for(const r of n)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(t);return e=>{for(const i of n){if(""===i)break;e=e&&e[i]}return e}}(n)))(t)}function Xw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xp=t=>typeof t<"u",Lc=t=>"function"==typeof t,uR=(t,n)=>{if(t.size!==n.size)return!1;for(const e of t)if(!n.has(e))return!1;return!0},Xr=Math.PI,Jr=2*Xr,GY=Jr+Xr,ov=Number.POSITIVE_INFINITY,$Y=Xr/180,Oo=Xr/2,_h=Xr/4,lR=2*Xr/3,kc=Math.log10,_l=Math.sign;function Jp(t,n,e){return Math.abs(t-n)<e}function cR(t){const n=Math.round(t);t=Jp(t,n,t/1e3)?n:t;const e=Math.pow(10,Math.floor(kc(t))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function td(t){return!isNaN(parseFloat(t))&&isFinite(t)}function hR(t,n,e){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][e],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Uu(t){return t*(Xr/180)}function Jw(t){return t*(180/Xr)}function fR(t){if(!bo(t))return;let n=1,e=0;for(;Math.round(t*n)/n!==t;)n*=10,e++;return e}function dR(t,n){const e=n.x-t.x,i=n.y-t.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Xr&&(o+=Jr),{angle:o,distance:r}}function Kw(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function YY(t,n){return(t-n+GY)%Jr-Xr}function Ja(t){return(t%Jr+Jr)%Jr}function Kp(t,n,e,i){const r=Ja(t),o=Ja(n),s=Ja(e),u=Ja(o-r),c=Ja(s-r),h=Ja(r-o),p=Ja(r-s);return r===o||r===s||i&&o===s||u>c&&h<p}function _s(t,n,e){return Math.max(n,Math.min(e,t))}function Zl(t,n,e,i=1e-6){return t>=Math.min(n,e)-i&&t<=Math.max(n,e)+i}function Qw(t,n,e){e=e||(s=>t[s]<n);let o,i=t.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Xl=(t,n,e,i)=>Qw(t,e,i?r=>{const o=t[r][n];return o<e||o===e&&t[r+1][n]===e}:r=>t[r][n]<e),XY=(t,n,e)=>Qw(t,e,i=>t[i][n]>=e),pR=["push","pop","shift","splice","unshift"];function gR(t,n){const e=t._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(n);-1!==r&&i.splice(r,1),!(i.length>0)&&(pR.forEach(o=>{delete t[o]}),delete t._chartjs)}function mR(t){const n=new Set(t);return n.size===t.length?t:Array.from(n)}const _R=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function vR(t,n){let e=[],i=!1;return function(...r){e=r,i||(i=!0,_R.call(window,()=>{i=!1,t.apply(n,e)}))}}const tx=t=>"start"===t?"left":"end"===t?"right":"center",qs=(t,n,e)=>"start"===t?n:"end"===t?e:(n+e)/2;function yR(t,n,e){const i=n.length;let r=0,o=i;if(t._sorted){const{iScale:s,_parsed:u}=t,c=s.axis,{min:h,max:p,minDefined:m,maxDefined:v}=s.getUserBounds();m&&(r=_s(Math.min(Xl(u,c,h).lo,e?i:Xl(n,c,s.getPixelForValue(h)).lo),0,i-1)),o=v?_s(Math.max(Xl(u,s.axis,p,!0).hi+1,e?0:Xl(n,c,s.getPixelForValue(p),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function bR(t){const{xScale:n,yScale:e,_scaleRanges:i}=t,r={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==n.min||i.xmax!==n.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const sv=t=>0===t||1===t,wR=(t,n,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-n)*Jr/e),xR=(t,n,e)=>Math.pow(2,-10*t)*Math.sin((t-n)*Jr/e)+1,Qp={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Oo),easeOutSine:t=>Math.sin(t*Oo),easeInOutSine:t=>-.5*(Math.cos(Xr*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>sv(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>sv(t)?t:wR(t,.075,.3),easeOutElastic:t=>sv(t)?t:xR(t,.075,.3),easeInOutElastic:t=>sv(t)?t:t<.5?.5*wR(2*t,.1125,.45):.5+.5*xR(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:t=>1-Qp.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*Qp.easeInBounce(2*t):.5*Qp.easeOutBounce(2*t-1)+.5};function ex(t){if(t&&"object"==typeof t){const n=t.toString();return"[object CanvasPattern]"===n||"[object CanvasGradient]"===n}return!1}function ER(t){return ex(t)?t:new Qf(t)}function nx(t){return ex(t)?t:new Qf(t).saturate(.5).darken(.1).hexString()}const eZ=["x","y","borderWidth","radius","tension"],nZ=["color","borderColor","backgroundColor"],CR=new Map;function tg(t,n,e){return function oZ(t,n){n=n||{};const e=t+JSON.stringify(n);let i=CR.get(e);return i||(i=new Intl.NumberFormat(t,n),CR.set(e,i)),i}(n,e).format(t)}const DR={values:t=>Zr(t)?t:""+t,numeric(t,n,e){if(0===t)return"0";const i=this.chart.options.locale;let r,o=t;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),o=function sZ(t,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const s=kc(Math.abs(o)),u=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),tg(t,i,c)},logarithmic(t,n,e){if(0===t)return"0";const i=e[n].significand||t/Math.pow(10,Math.floor(kc(t)));return[1,2,3,5,10,15].includes(i)||n>.8*e.length?DR.numeric.call(this,t,n,e):""}};var av={formatters:DR};const vh=Object.create(null),ix=Object.create(null);function eg(t,n){if(!n)return t;const e=n.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];t=t[o]||(t[o]=Object.create(null))}return t}function rx(t,n,e){return"string"==typeof n?Yp(eg(t,n),e):Yp(eg(t,""),n)}class uZ{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>nx(r.backgroundColor),this.hoverBorderColor=(i,r)=>nx(r.borderColor),this.hoverColor=(i,r)=>nx(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return rx(this,n,e)}get(n){return eg(this,n)}describe(n,e){return rx(ix,n,e)}override(n,e){return rx(vh,n,e)}route(n,e,i,r){const o=eg(this,n),s=eg(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[u],h=s[r];return Mi(c)?Object.assign({},h,c):Ln(c,h)},set(c){this[u]=c}}})}apply(n){n.forEach(e=>e(this))}}var wo=new uZ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function iZ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),t.set("animations",{colors:{type:"color",properties:nZ},numbers:{type:"number",properties:eZ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}})},function rZ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function aZ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:av.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n})}]);function uv(t,n,e,i,r){let o=n[r];return o||(o=n[r]=t.measureText(r).width,e.push(r)),o>i&&(i=o),i}function cZ(t,n,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==n&&(r=i.data={},o=i.garbageCollect=[],i.font=n),t.save(),t.font=n;let s=0;const u=e.length;let c,h,p,m,v;for(c=0;c<u;c++)if(m=e[c],null==m||Zr(m)){if(Zr(m))for(h=0,p=m.length;h<p;h++)v=m[h],null!=v&&!Zr(v)&&(s=uv(t,r,o,s,v))}else s=uv(t,r,o,s,m);t.restore();const b=o.length/2;if(b>e.length){for(c=0;c<b;c++)delete r[o[c]];o.splice(0,b)}return s}function yh(t,n,e){const i=t.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((n-r)*i)/i+r}function SR(t,n){(n=n||t.getContext("2d")).save(),n.resetTransform(),n.clearRect(0,0,t.width,t.height),n.restore()}function ox(t,n,e,i){MR(t,n,e,i,null)}function MR(t,n,e,i,r){let o,s,u,c,h,p,m,v;const b=n.pointStyle,E=n.rotation,D=n.radius;let I=(E||0)*$Y;if(b&&"object"==typeof b&&(o=b.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(e,i),t.rotate(I),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),void t.restore();if(!(isNaN(D)||D<=0)){switch(t.beginPath(),b){default:r?t.ellipse(e,i,r/2,D,0,0,Jr):t.arc(e,i,D,0,Jr),t.closePath();break;case"triangle":p=r?r/2:D,t.moveTo(e+Math.sin(I)*p,i-Math.cos(I)*D),I+=lR,t.lineTo(e+Math.sin(I)*p,i-Math.cos(I)*D),I+=lR,t.lineTo(e+Math.sin(I)*p,i-Math.cos(I)*D),t.closePath();break;case"rectRounded":h=.516*D,c=D-h,s=Math.cos(I+_h)*c,m=Math.cos(I+_h)*(r?r/2-h:c),u=Math.sin(I+_h)*c,v=Math.sin(I+_h)*(r?r/2-h:c),t.arc(e-m,i-u,h,I-Xr,I-Oo),t.arc(e+v,i-s,h,I-Oo,I),t.arc(e+m,i+u,h,I,I+Oo),t.arc(e-v,i+s,h,I+Oo,I+Xr),t.closePath();break;case"rect":if(!E){c=Math.SQRT1_2*D,p=r?r/2:c,t.rect(e-p,i-c,2*p,2*c);break}I+=_h;case"rectRot":m=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,u=Math.sin(I)*D,v=Math.sin(I)*(r?r/2:D),t.moveTo(e-m,i-u),t.lineTo(e+v,i-s),t.lineTo(e+m,i+u),t.lineTo(e-v,i+s),t.closePath();break;case"crossRot":I+=_h;case"cross":m=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,u=Math.sin(I)*D,v=Math.sin(I)*(r?r/2:D),t.moveTo(e-m,i-u),t.lineTo(e+m,i+u),t.moveTo(e+v,i-s),t.lineTo(e-v,i+s);break;case"star":m=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,u=Math.sin(I)*D,v=Math.sin(I)*(r?r/2:D),t.moveTo(e-m,i-u),t.lineTo(e+m,i+u),t.moveTo(e+v,i-s),t.lineTo(e-v,i+s),I+=_h,m=Math.cos(I)*(r?r/2:D),s=Math.cos(I)*D,u=Math.sin(I)*D,v=Math.sin(I)*(r?r/2:D),t.moveTo(e-m,i-u),t.lineTo(e+m,i+u),t.moveTo(e+v,i-s),t.lineTo(e-v,i+s);break;case"line":s=r?r/2:Math.cos(I)*D,u=Math.sin(I)*D,t.moveTo(e-s,i-u),t.lineTo(e+s,i+u);break;case"dash":t.moveTo(e,i),t.lineTo(e+Math.cos(I)*(r?r/2:D),i+Math.sin(I)*D);break;case!1:t.closePath()}t.fill(),n.borderWidth>0&&t.stroke()}}function Jl(t,n,e){return e=e||.5,!n||t&&t.x>n.left-e&&t.x<n.right+e&&t.y>n.top-e&&t.y<n.bottom+e}function lv(t,n){t.save(),t.beginPath(),t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()}function cv(t){t.restore()}function hZ(t,n,e,i,r){if(!n)return t.lineTo(e.x,e.y);if("middle"===r){const o=(n.x+e.x)/2;t.lineTo(o,n.y),t.lineTo(o,e.y)}else"after"===r!=!!i?t.lineTo(n.x,e.y):t.lineTo(e.x,n.y);t.lineTo(e.x,e.y)}function fZ(t,n,e,i){if(!n)return t.lineTo(e.x,e.y);t.bezierCurveTo(i?n.cp1x:n.cp2x,i?n.cp1y:n.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function pZ(t,n,e,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=n-o.actualBoundingBoxLeft,u=n+o.actualBoundingBoxRight,h=e+o.actualBoundingBoxDescent,p=r.strikethrough?(e-o.actualBoundingBoxAscent+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,p),t.lineTo(u,p),t.stroke()}}function gZ(t,n){const e=t.fillStyle;t.fillStyle=n.color,t.fillRect(n.left,n.top,n.width,n.height),t.fillStyle=e}function bh(t,n,e,i,r,o={}){const s=Zr(n)?n:[n],u=o.strokeWidth>0&&""!==o.strokeColor;let c,h;for(t.save(),t.font=r.string,function dZ(t,n){n.translation&&t.translate(n.translation[0],n.translation[1]),Vi(n.rotation)||t.rotate(n.rotation),n.color&&(t.fillStyle=n.color),n.textAlign&&(t.textAlign=n.textAlign),n.textBaseline&&(t.textBaseline=n.textBaseline)}(t,o),c=0;c<s.length;++c)h=s[c],o.backdrop&&gZ(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Vi(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,e,i,o.maxWidth)),t.fillText(h,e,i,o.maxWidth),pZ(t,e,i,h,o),i+=Number(r.lineHeight);t.restore()}function ng(t,n){const{x:e,y:i,w:r,h:o,radius:s}=n;t.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*Xr,Xr,!0),t.lineTo(e,i+o-s.bottomLeft),t.arc(e+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Xr,Oo,!0),t.lineTo(e+r-s.bottomRight,i+o),t.arc(e+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Oo,0,!0),t.lineTo(e+r,i+s.topRight),t.arc(e+r-s.topRight,i+s.topRight,s.topRight,0,-Oo,!0),t.lineTo(e+s.topLeft,i)}const mZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_Z=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vZ(t,n){const e=(""+t).match(mZ);if(!e||"normal"===e[1])return 1.2*n;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return n*t}const yZ=t=>+t||0;function sx(t,n){const e={},i=Mi(n),r=i?Object.keys(n):n,o=Mi(t)?i?s=>Ln(t[s],t[n[s]]):s=>t[s]:()=>t;for(const s of r)e[s]=yZ(o(s));return e}function IR(t){return sx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wh(t){return sx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ws(t){const n=IR(t);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function es(t,n){let e=Ln((t=t||{}).size,(n=n||wo.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Ln(t.style,n.style);i&&!(""+i).match(_Z)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ln(t.family,n.family),lineHeight:vZ(Ln(t.lineHeight,n.lineHeight),e),size:e,style:i,weight:Ln(t.weight,n.weight),string:""};return r.string=function lZ(t){return!t||Vi(t.size)||Vi(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function ig(t,n,e,i){let o,s,u,r=!0;for(o=0,s=t.length;o<s;++o)if(u=t[o],void 0!==u&&(void 0!==n&&"function"==typeof u&&(u=u(n),r=!1),void 0!==e&&Zr(u)&&(u=u[e%u.length],r=!1),void 0!==u))return i&&!r&&(i.cacheable=!1),u}function Fc(t,n){return Object.assign(Object.create(t),n)}function ax(t,n=[""],e,i,r=(()=>t[0])){const o=e||t;typeof i>"u"&&(i=AR("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>ax([u,...t],n,o,i)};return new Proxy(s,{deleteProperty:(u,c)=>(delete u[c],delete u._keys,delete t[0][c],!0),get:(u,c)=>NR(u,c,()=>function IZ(t,n,e,i){let r;for(const o of n)if(r=AR(wZ(o,t),e),typeof r<"u")return ux(t,r)?lx(e,i,t,r):r}(c,n,t,u)),getOwnPropertyDescriptor:(u,c)=>Reflect.getOwnPropertyDescriptor(u._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(u,c)=>RR(u).includes(c),ownKeys:u=>RR(u),set(u,c,h){const p=u._storage||(u._storage=r());return u[c]=p[c]=h,delete u._keys,!0}})}function ed(t,n,e,i){const r={_cacheable:!1,_proxy:t,_context:n,_subProxy:e,_stack:new Set,_descriptors:TR(t,i),setContext:o=>ed(t,o,e,i),override:o=>ed(t.override(o),n,e,i)};return new Proxy(r,{deleteProperty:(o,s)=>(delete o[s],delete t[s],!0),get:(o,s,u)=>NR(o,s,()=>function xZ(t,n,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let u=i[n];return Lc(u)&&s.isScriptable(n)&&(u=function EZ(t,n,e,i){const{_proxy:r,_context:o,_subProxy:s,_stack:u}=e;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let c=n(o,s||i);return u.delete(t),ux(t,c)&&(c=lx(r._scopes,r,t,c)),c}(n,u,t,e)),Zr(u)&&u.length&&(u=function CZ(t,n,e,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:u}=e;if(typeof o.index<"u"&&i(t))return n[o.index%n.length];if(Mi(n[0])){const c=n,h=r._scopes.filter(p=>p!==c);n=[];for(const p of c){const m=lx(h,r,t,p);n.push(ed(m,o,s&&s[t],u))}}return n}(n,u,t,s.isIndexable)),ux(n,u)&&(u=ed(u,r,o&&o[n],s)),u}(o,s,u)),getOwnPropertyDescriptor:(o,s)=>o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(o,s)=>Reflect.has(t,s),ownKeys:()=>Reflect.ownKeys(t),set:(o,s,u)=>(t[s]=u,delete o[s],!0)})}function TR(t,n={scriptable:!0,indexable:!0}){const{_scriptable:e=n.scriptable,_indexable:i=n.indexable,_allKeys:r=n.allKeys}=t;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Lc(e)?e:()=>e,isIndexable:Lc(i)?i:()=>i}}const wZ=(t,n)=>t?t+Xw(n):n,ux=(t,n)=>Mi(n)&&"adapters"!==t&&(null===Object.getPrototypeOf(n)||n.constructor===Object);function NR(t,n,e){if(Object.prototype.hasOwnProperty.call(t,n))return t[n];const i=e();return t[n]=i,i}function PR(t,n,e){return Lc(t)?t(n,e):t}const DZ=(t,n)=>!0===t?n:"string"==typeof t?Rc(n,t):void 0;function SZ(t,n,e,i,r){for(const o of n){const s=DZ(e,o);if(s){t.add(s);const u=PR(s._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(!1===s&&typeof i<"u"&&e!==i)return null}return!1}function lx(t,n,e,i){const r=n._rootScopes,o=PR(n._fallback,e,i),s=[...t,...r],u=new Set;u.add(i);let c=OR(u,s,e,o||e,i);return!(null===c||typeof o<"u"&&o!==e&&(c=OR(u,s,o,c,i),null===c))&&ax(Array.from(u),[""],r,o,()=>function MZ(t,n,e){const i=t._getTarget();n in i||(i[n]={});const r=i[n];return Zr(r)&&Mi(e)?e:r||{}}(n,e,i))}function OR(t,n,e,i,r){for(;e;)e=SZ(t,n,e,i,r);return e}function AR(t,n){for(const e of n){if(!e)continue;const i=e[t];if(typeof i<"u")return i}}function RR(t){let n=t._keys;return n||(n=t._keys=function TZ(t){const n=new Set;for(const e of t)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))n.add(i);return Array.from(n)}(t._scopes)),n}function LR(t,n,e,i){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i);let u,c,h,p;for(u=0,c=i;u<c;++u)h=u+e,p=n[h],s[u]={r:r.parse(Rc(p,o),h)};return s}const NZ=Number.EPSILON||1e-14,nd=(t,n)=>n<t.length&&!t[n].skip&&t[n],kR=t=>"x"===t?"y":"x";function PZ(t,n,e,i){const r=t.skip?n:t,o=n,s=e.skip?n:e,u=Kw(o,r),c=Kw(s,o);let h=u/(u+c),p=c/(u+c);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const m=i*h,v=i*p;return{previous:{x:o.x-m*(s.x-r.x),y:o.y-m*(s.y-r.y)},next:{x:o.x+v*(s.x-r.x),y:o.y+v*(s.y-r.y)}}}function hv(t,n,e){return Math.max(Math.min(t,e),n)}function kZ(t,n,e,i,r){let o,s,u,c;if(n.spanGaps&&(t=t.filter(h=>!h.skip)),"monotone"===n.cubicInterpolationMode)!function RZ(t,n="x"){const e=kR(n),i=t.length,r=Array(i).fill(0),o=Array(i);let s,u,c,h=nd(t,0);for(s=0;s<i;++s)if(u=c,c=h,h=nd(t,s+1),c){if(h){const p=h[n]-c[n];r[s]=0!==p?(h[e]-c[e])/p:0}o[s]=u?h?_l(r[s-1])!==_l(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}(function OZ(t,n,e){const i=t.length;let r,o,s,u,c,h=nd(t,0);for(let p=0;p<i-1;++p)if(c=h,h=nd(t,p+1),c&&h){if(Jp(n[p],0,NZ)){e[p]=e[p+1]=0;continue}r=e[p]/n[p],o=e[p+1]/n[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(s=3/Math.sqrt(u),e[p]=r*s*n[p],e[p+1]=o*s*n[p])}})(t,r,o),function AZ(t,n,e="x"){const i=kR(e),r=t.length;let o,s,u,c=nd(t,0);for(let h=0;h<r;++h){if(s=u,u=c,c=nd(t,h+1),!u)continue;const p=u[e],m=u[i];s&&(o=(p-s[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=m-o*n[h]),c&&(o=(c[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=m+o*n[h])}}(t,o,n)}(t,r);else{let h=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)u=t[o],c=PZ(h,u,t[Math.min(o+1,s-(i?0:1))%s],n.tension),u.cp1x=c.previous.x,u.cp1y=c.previous.y,u.cp2x=c.next.x,u.cp2y=c.next.y,h=u}n.capBezierPoints&&function LZ(t,n){let e,i,r,o,s,u=Jl(t[0],n);for(e=0,i=t.length;e<i;++e)s=o,o=u,u=e<i-1&&Jl(t[e+1],n),o&&(r=t[e],s&&(r.cp1x=hv(r.cp1x,n.left,n.right),r.cp1y=hv(r.cp1y,n.top,n.bottom)),u&&(r.cp2x=hv(r.cp2x,n.left,n.right),r.cp2y=hv(r.cp2y,n.top,n.bottom)))}(t,e)}function FR(){return typeof window<"u"&&typeof document<"u"}function cx(t){let n=t.parentNode;return n&&"[object ShadowRoot]"===n.toString()&&(n=n.host),n}function fv(t,n,e){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*n.parentNode[e])):i=t,i}const dv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),BZ=["top","right","bottom","left"];function xh(t,n,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=BZ[r];i[o]=parseFloat(t[n+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const VZ=(t,n,e)=>(t>0||n>0)&&(!e||!e.shadowRoot);function Eh(t,n){if("native"in t)return t;const{canvas:e,currentDevicePixelRatio:i}=n,r=dv(e),o="border-box"===r.boxSizing,s=xh(r,"padding"),u=xh(r,"border","width"),{x:c,y:h,box:p}=function zZ(t,n){const e=t.touches,i=e&&e.length?e[0]:t,{offsetX:r,offsetY:o}=i;let u,c,s=!1;if(VZ(r,o,t.target))u=r,c=o;else{const h=n.getBoundingClientRect();u=i.clientX-h.left,c=i.clientY-h.top,s=!0}return{x:u,y:c,box:s}}(t,e),m=s.left+(p&&u.left),v=s.top+(p&&u.top);let{width:b,height:E}=n;return o&&(b-=s.width+u.width,E-=s.height+u.height),{x:Math.round((c-m)/b*e.width/i),y:Math.round((h-v)/E*e.height/i)}}const pv=t=>Math.round(10*t)/10;function BR(t,n,e){const i=n||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0)}const UZ=function(){let t=!1;try{const n={get passive(){return t=!0,!1}};window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{}return t}();function VR(t,n){const e=function FZ(t,n){return dv(t).getPropertyValue(n)}(t,n),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ch(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)}}function GZ(t,n,e,i){return{x:t.x+e*(n.x-t.x),y:"middle"===i?e<.5?t.y:n.y:"after"===i?e<1?t.y:n.y:e>0?n.y:t.y}}function $Z(t,n,e,i){const r={x:t.cp2x,y:t.cp2y},o={x:n.cp1x,y:n.cp1y},s=Ch(t,r,e),u=Ch(r,o,e),c=Ch(o,n,e),h=Ch(s,u,e),p=Ch(u,c,e);return Ch(h,p,e)}function id(t,n,e){return t?function(t,n){return{x:e=>t+t+n-e,setWidth(e){n=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(n,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,n)=>t+n,leftForLtr:(t,n)=>t}}function zR(t,n){let e,i;("ltr"===n||"rtl"===n)&&(e=t.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),t.prevTextDirection=i)}function jR(t,n){void 0!==n&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",n[0],n[1]))}function HR(t){return"angle"===t?{between:Kp,compare:YY,normalize:Ja}:{between:Zl,compare:(n,e)=>n-e,normalize:n=>n}}function UR({start:t,end:n,count:e,loop:i,style:r}){return{start:t%e,end:n%e,loop:i&&(n-t+1)%e==0,style:r}}function GR(t,n,e){if(!e)return[t];const{property:i,start:r,end:o}=e,s=n.length,{compare:u,between:c,normalize:h}=HR(i),{start:p,end:m,loop:v,style:b}=function YZ(t,n,e){const{property:i,start:r,end:o}=e,{between:s,normalize:u}=HR(i),c=n.length;let v,b,{start:h,end:p,loop:m}=t;if(m){for(h+=c,p+=c,v=0,b=c;v<b&&s(u(n[h%c][i]),r,o);++v)h--,p--;h%=c,p%=c}return p<h&&(p+=c),{start:h,end:p,loop:m,style:t.style}}(t,n,e),E=[];let T,M,A,D=!1,I=null;for(let mt=p,it=p;mt<=m;++mt)M=n[mt%s],!M.skip&&(T=h(M[i]),T!==A&&(D=c(T,r,o),null===I&&(D||c(r,A,T)&&0!==u(r,A))&&(I=0===u(T,r)?mt:it),null!==I&&(!D||0===u(o,T)||c(o,A,T))&&(E.push(UR({start:I,end:mt,loop:v,count:s,style:b})),I=null),it=mt,A=T));return null!==I&&E.push(UR({start:I,end:m,loop:v,count:s,style:b})),E}function $R(t,n){const e=[],i=t.segments;for(let r=0;r<i.length;r++){const o=GR(i[r],t.points,n);o.length&&e.push(...o)}return e}function WR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QZ(t,n){if(!n)return!1;const e=[],i=function(r,o){return ex(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(n,i)}class tX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,i,r){const s=e.duration;e.listeners[r].forEach(u=>u({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=_R.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c,s=o.length-1,u=!1;for(;s>=0;--s)c=o[s],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(n),u=!0):(o[s]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,n,"progress")),o.length||(i.running=!1,this._notify(r,i,n,"complete"),i.initial=!1),e+=o.length}),this._lastDate=n,0===e&&(this._running=!1)}_getAnims(n){const e=this._charts;let i=e.get(n);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,i)),i}listen(n,e,i){this._getAnims(n).listeners[e].push(i)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){const e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(n){if(!this._running)return!1;const e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){const e=this._charts.get(n);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Kl=new tX;const YR="transparent",eX={boolean:(t,n,e)=>e>.5?n:t,color(t,n,e){const i=ER(t||YR),r=i.valid&&ER(n||YR);return r&&r.valid?r.mix(i,e).hexString():n},number:(t,n,e)=>t+(n-t)*e};class nX{constructor(n,e,i,r){const o=e[i];r=ig([n.to,r,o,n.from]);const s=ig([n.from,o,r]);this._active=!0,this._fn=n.fn||eX[n.type||typeof s],this._easing=Qp[n.easing]||Qp.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(n,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=ig([n.to,e,r,n.from]),this._from=ig([n.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const e=n-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,u=this._to;let c;if(this._active=o!==u&&(s||e<i),!this._active)return this._target[r]=u,void this._notify(!0);e<0?this._target[r]=o:(c=e/i%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,u,c))}wait(){const n=this._promises||(this._promises=[]);return new Promise((e,i)=>{n.push({res:e,rej:i})})}_notify(n){const e=n?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class ZR{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!Mi(n))return;const e=Object.keys(wo.animation),i=this._properties;Object.getOwnPropertyNames(n).forEach(r=>{const o=n[r];if(!Mi(o))return;const s={};for(const u of e)s[u]=o[u];(Zr(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,s)})})}_animateOptions(n,e){const i=e.options,r=function rX(t,n){if(!n)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=n}(n,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function iX(t,n){const e=[],i=Object.keys(n);for(let r=0;r<i.length;r++){const o=t[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(n.options.$animations,i).then(()=>{n.options=i},()=>{}),o}_createAnimations(n,e){const i=this._properties,r=[],o=n.$animations||(n.$animations={}),s=Object.keys(e),u=Date.now();let c;for(c=s.length-1;c>=0;--c){const h=s[c];if("$"===h.charAt(0))continue;if("options"===h){r.push(...this._animateOptions(n,e));continue}const p=e[h];let m=o[h];const v=i.get(h);if(m){if(v&&m.active()){m.update(v,p,u);continue}m.cancel()}v&&v.duration?(o[h]=m=new nX(v,n,h,p),r.push(m)):n[h]=p}return r}update(n,e){if(0===this._properties.size)return void Object.assign(n,e);const i=this._createAnimations(n,e);return i.length?(Kl.add(this._chart,i),!0):void 0}}function XR(t,n){const e=t&&t.options||{},i=e.reverse,r=void 0===e.min?n:0,o=void 0===e.max?n:0;return{start:i?o:r,end:i?r:o}}function JR(t,n){const e=[],i=t._getSortedDatasetMetas(n);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function KR(t,n,e,i={}){const r=t.keys,o="single"===i.mode;let s,u,c,h;if(null!==n){for(s=0,u=r.length;s<u;++s){if(c=+r[s],c===e){if(i.all)continue;break}h=t.values[c],bo(h)&&(o||0===n||_l(n)===_l(h))&&(n+=h)}return n}}function QR(t,n){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==n.stack}function cX(t,n,e){const i=t[n]||(t[n]={});return i[e]||(i[e]={})}function tL(t,n,e,i){for(const r of n.getMatchingVisibleMetas(i).reverse()){const o=t[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function eL(t,n){const{chart:e,_cachedMeta:i}=t,r=e._stacks||(e._stacks={}),{iScale:o,vScale:s,index:u}=i,c=o.axis,h=s.axis,p=function uX(t,n,e){return`${t.id}.${n.id}.${e.stack||e.type}`}(o,s,i),m=n.length;let v;for(let b=0;b<m;++b){const E=n[b],{[c]:D,[h]:I}=E;v=(E._stacks||(E._stacks={}))[h]=cX(r,p,D),v[u]=I,v._top=tL(v,s,!0,i.type),v._bottom=tL(v,s,!1,i.type),(v._visualValues||(v._visualValues={}))[u]=I}}function hx(t,n){const e=t.scales;return Object.keys(e).filter(i=>e[i].axis===n).shift()}function rg(t,n){const e=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){n=n||t._parsed;for(const r of n){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e],void 0!==o[i]._visualValues&&void 0!==o[i]._visualValues[e]&&delete o[i]._visualValues[e]}}}const fx=t=>"reset"===t||"none"===t,nL=(t,n)=>n?t:Object.assign({},t);let Bc=(()=>class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=QR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&rg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(v,b,E,D)=>"x"===v?b:"r"===v?D:E,s=i.xAxisID=Ln(r.xAxisID,hx(e,"x")),u=i.yAxisID=Ln(r.yAxisID,hx(e,"y")),c=i.rAxisID=Ln(r.rAxisID,hx(e,"r")),h=i.indexAxis,p=i.iAxisID=o(h,s,u,c),m=i.vAxisID=o(h,u,s,c);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(u),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(p),i.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&gR(this._data,this),e._stacked&&rg(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Mi(i))this._data=function aX(t){const n=Object.keys(t),e=new Array(n.length);let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i],e[i]={x:o,y:t[o]};return e}(i);else if(r!==i){if(r){gR(r,this);const o=this._cachedMeta;rg(o),o._parsed=[]}i&&Object.isExtensible(i)&&function KY(t,n){t._chartjs?t._chartjs.listeners.push(n):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),pR.forEach(e=>{const i="_onData"+Xw(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return t._chartjs.listeners.forEach(u=>{"function"==typeof u[i]&&u[i](...o)}),s}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const s=i._stacked;i._stacked=QR(i.vScale,i),i.stack!==r.stack&&(o=!0,rg(i),i.stack=r.stack),this._resyncElements(e),(o||s!==i._stacked)&&eL(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:u}=r,c=s.axis;let m,v,b,h=0===e&&i===o.length||r._sorted,p=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,b=o;else{b=Zr(o[e])?this.parseArrayData(r,o,e,i):Mi(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const E=()=>null===v[c]||p&&v[c]<p[c];for(m=0;m<i;++m)r._parsed[m+e]=v=b[m],h&&(E()&&(h=!1),p=v);r._sorted=h}u&&eL(this,b)}parsePrimitiveData(e,i,r,o){const{iScale:s,vScale:u}=e,c=s.axis,h=u.axis,p=s.getLabels(),m=s===u,v=new Array(o);let b,E,D;for(b=0,E=o;b<E;++b)D=b+r,v[b]={[c]:m||s.parse(p[D],D),[h]:u.parse(i[D],D)};return v}parseArrayData(e,i,r,o){const{xScale:s,yScale:u}=e,c=new Array(o);let h,p,m,v;for(h=0,p=o;h<p;++h)m=h+r,v=i[m],c[h]={x:s.parse(v[0],m),y:u.parse(v[1],m)};return c}parseObjectData(e,i,r,o){const{xScale:s,yScale:u}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=new Array(o);let m,v,b,E;for(m=0,v=o;m<v;++m)b=m+r,E=i[b],p[m]={x:s.parse(Rc(E,c),b),y:u.parse(Rc(E,h),b)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const s=this._cachedMeta,u=i[e.axis];return KR({keys:JR(this.chart,!0),values:i._stacks[e.axis]._visualValues},u,s.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const s=r[i.axis];let u=null===s?NaN:s;const c=o&&r._stacks[i.axis];o&&c&&(o.values=c,u=KR(o,s,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,s=r._sorted&&e===r.iScale,u=o.length,c=this._getOtherScale(e),h=((t,n,e)=>t&&!n.hidden&&n._stacked&&{keys:JR(this.chart,!0),values:null})(i,r),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:v}=function lX(t){const{min:n,max:e,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?n:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(c);let b,E;function D(){E=o[b];const I=E[c.axis];return!bo(E[e.axis])||m>I||v<I}for(b=0;b<u&&(D()||(this.updateRangeFromParsed(p,e,E,h),!s));++b);if(s)for(b=u-1;b>=0;--b)if(!D()){this.updateRangeFromParsed(p,e,E,h);break}return p}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,s,u;for(o=0,s=i.length;o<s;++o)u=i[o][e.axis],bo(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function sX(t){let n,e,i,r;return Mi(t)?(n=t.top,e=t.right,i=t.bottom,r=t.left):n=e=i=r=t,{top:n,right:e,bottom:i,left:r,disabled:!1===t}}(Ln(this.options.clip,function oX(t,n,e){if(!1===e)return!1;const i=XR(t,e),r=XR(n,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],s=this.chart.chartArea,u=[],c=this._drawStart||0,h=this._drawCount||o.length-c,p=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,s,c,h),m=c;m<c+h;++m){const v=o[m];v.hidden||(v.active&&p?u.push(v):v.draw(e,s))}for(m=0;m<u.length;++m)u[m].draw(e,s)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];s=u.$context||(u.$context=function fX(t,n,e){return Fc(t,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}(this.getContext(),e,u)),s.parsed=this.getParsed(e),s.raw=o.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function hX(t,n){return Fc(t,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,s=this._cachedDataOpts,u=e+"-"+i,c=s[u],h=this.enableOptionSharing&&Xp(r);if(c)return nL(c,h);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),v=o?[`${e}Hover`,"hover",e,""]:[e,""],b=p.getOptionScopes(this.getDataset(),m),E=Object.keys(wo.elements[e]),I=p.resolveNamedOptions(b,E,()=>this.getContext(r,o,i),v);return I.$shared&&(I.$shared=h,s[u]=Object.freeze(nL(I,h))),I}_resolveAnimations(e,i,r){const o=this.chart,s=this._cachedDataOpts,u=`animation-${i}`,c=s[u];if(c)return c;let h;if(!1!==o.options.animation){const m=this.chart.config,v=m.datasetAnimationScopeKeys(this._type,i),b=m.getOptionScopes(this.getDataset(),v);h=m.createResolver(b,this.getContext(e,r,i))}const p=new ZR(o,h&&h.animations);return h&&h._cacheable&&(s[u]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||fx(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,s=this.getSharedOptions(r),u=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:u}}updateElement(e,i,r,o){fx(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!fx(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[c,h,p]of this._syncList)this[c](h,p);this._syncList=[];const o=r.length,s=i.length,u=Math.min(s,o);u&&this.parse(0,u),s>o?this._insertElements(o,s-o,e):s<o&&this._removeElements(s,o-s)}_insertElements(e,i,r=!0){const o=this._cachedMeta,s=o.data,u=e+i;let c;const h=p=>{for(p.length+=i,c=p.length-1;c>=u;c--)p[c]=p[c-i]};for(h(s),c=e;c<u;++c)s[c]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,i),r&&this.updateElements(s,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&rg(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function gX(t){const n=t.iScale,e=function pX(t,n){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(n);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=mR(i.sort((r,o)=>r-o))}return t._cache.$bar}(n,t.type);let r,o,s,u,i=n._length;const c=()=>{32767===s||-32768===s||(Xp(u)&&(i=Math.min(i,Math.abs(s-u)||i)),u=s)};for(r=0,o=e.length;r<o;++r)s=n.getPixelForValue(e[r]),c();for(u=void 0,r=0,o=n.ticks.length;r<o;++r)s=n.getPixelForTick(r),c();return i}function iL(t,n,e,i){return Zr(t)?function vX(t,n,e,i){const r=e.parse(t[0],i),o=e.parse(t[1],i),s=Math.min(r,o),u=Math.max(r,o);let c=s,h=u;Math.abs(s)>Math.abs(u)&&(c=u,h=s),n[e.axis]=h,n._custom={barStart:c,barEnd:h,start:r,end:o,min:s,max:u}}(t,n,e,i):n[e.axis]=e.parse(t,i),n}function rL(t,n,e,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),u=r===o,c=[];let h,p,m,v;for(h=e,p=e+i;h<p;++h)v=n[h],m={},m[r.axis]=u||r.parse(s[h],h),c.push(iL(v,m,o,h));return c}function dx(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function wX(t,n,e,i){let r=n.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:u,reverse:c,top:h,bottom:p}=function bX(t){let n,e,i,r,o;return t.horizontal?(n=t.base>t.x,e="left",i="right"):(n=t.base<t.y,e="bottom",i="top"),n?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:n,top:r,bottom:o}}(t);"middle"===r&&e&&(t.enableBorderRadius=!0,(e._top||0)===i?r=h:(e._bottom||0)===i?r=p:(o[oL(p,s,u,c)]=!0,r=h)),o[oL(r,s,u,c)]=!0,t.borderSkipped=o}function oL(t,n,e,i){return i?(t=function xX(t,n,e){return t===n?e:t===e?n:t}(t,n,e),t=sL(t,e,n)):t=sL(t,n,e),t}function sL(t,n,e){return"start"===t?n:"end"===t?e:t}function EX(t,{inflateAmount:n},e){t.inflateAmount="auto"===n?1===e?.33:0:n}let CX=(()=>class t extends Bc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return rL(e,i,r,o)}parseArrayData(e,i,r,o){return rL(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:s,vScale:u}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p="x"===s.axis?c:h,m="x"===u.axis?c:h,v=[];let b,E,D,I;for(b=r,E=r+o;b<E;++b)I=i[b],D={},D[s.axis]=s.parse(Rc(I,p),b),v.push(iL(Rc(I,m),D,u,b));return v}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const s=r._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(e),u=s._custom,c=dx(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const s="reset"===o,{index:u,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),p=c.isHorizontal(),m=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(i,o);for(let E=i;E<i+r;E++){const D=this.getParsed(E),I=s||Vi(D[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(E),T=this._calculateBarIndexPixels(E,m),M=(D._stacks||{})[c.axis],A={horizontal:p,base:I.base,enableBorderRadius:!M||dx(D._custom)||u===M._top||u===M._bottom,x:p?I.head:T.center,y:p?T.center:I.head,height:p?T.size:Math.abs(I.size),width:p?Math.abs(I.size):T.size};b&&(A.options=v||this.resolveDataElementOptions(E,e[E].active?"active":o));const U=A.options||e[E].options;wX(A,U,M,u),EX(A,U,m.ratio),this.updateElement(e[E],E,A,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=r.options.stacked,u=[],c=h=>{const p=h.controller.getParsed(i),m=p&&p[h.vScale.axis];if(Vi(m)||isNaN(m))return!0};for(const h of o)if((void 0===i||!c(h))&&((!1===s||-1===u.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&u.push(h.stack),h.index===e))break;return u.length||u.push(void 0),u}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),s=void 0!==i?o.indexOf(i):-1;return-1===s?o.length-1:s}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let s,u;for(s=0,u=i.data.length;s<u;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const c=e.barThickness;return{min:c||gX(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:u}}=this,c=s||0,h=this.getParsed(e),p=h._custom,m=dx(p);let D,I,v=h[i.axis],b=0,E=r?this.applyStack(i,h,r):v;E!==v&&(b=E-v,E=v),m&&(v=p.barStart,E=p.barEnd-p.barStart,0!==v&&_l(v)!==_l(p.barEnd)&&(b=0),b+=v);const T=Vi(s)||m?b:s;let M=i.getPixelForValue(T);if(D=this.chart.getDataVisibility(e)?i.getPixelForValue(b+E):M,I=D-M,Math.abs(I)<u){I=function yX(t,n,e){return 0!==t?_l(t):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}(I,i,c)*u,v===c&&(M-=I/2);const A=i.getPixelForDecimal(0),U=i.getPixelForDecimal(1),z=Math.min(A,U),ct=Math.max(A,U);M=Math.max(Math.min(M,ct),z),D=M+I,r&&!m&&(h._stacks[i.axis]._visualValues[o]=i.getValueForPixel(D)-i.getValueForPixel(M))}if(M===i.getPixelForValue(c)){const A=_l(I)*i.getLineWidthForValue(c)/2;M+=A,I-=A}return{size:I,base:M,head:D,center:D+I/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,s=o.skipNull,u=Ln(o.maxBarThickness,1/0);let c,h;if(i.grouped){const p=s?this._getStackCount(e):i.stackCount,m="flex"===o.barThickness?function _X(t,n,e,i){const r=n.pixels,o=r[t];let s=t>0?r[t-1]:null,u=t<r.length-1?r[t+1]:null;const c=e.categoryPercentage;null===s&&(s=o-(null===u?n.end-n.start:u-o)),null===u&&(u=o+o-s);const h=o-(o-Math.min(s,u))/2*c;return{chunk:Math.abs(u-s)/2*c/i,ratio:e.barPercentage,start:h}}(e,i,o,p):function mX(t,n,e,i){const r=e.barThickness;let o,s;return Vi(r)?(o=n.min*e.categoryPercentage,s=e.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:n.pixels[t]-o/2}}(e,i,o,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=m.start+m.chunk*v+m.chunk/2,h=Math.min(u,m.chunk*m.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(u,i.min*i.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let s=0;for(;s<o;++s)null!==this.getParsed(s)[i.axis]&&r[s].draw(this._ctx)}})(),DX=(()=>class t extends Bc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const s=super.parsePrimitiveData(e,i,r,o);for(let u=0;u<s.length;u++)s[u]._custom=this.resolveDataElementOptions(u+r).radius;return s}parseArrayData(e,i,r,o){const s=super.parseArrayData(e,i,r,o);for(let u=0;u<s.length;u++)s[u]._custom=Ln(i[r+u][2],this.resolveDataElementOptions(u+r).radius);return s}parseObjectData(e,i,r,o){const s=super.parseObjectData(e,i,r,o);for(let u=0;u<s.length;u++){const c=i[r+u];s[u]._custom=Ln(c&&c.r&&+c.r,this.resolveDataElementOptions(u+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,u=this.getParsed(e),c=o.getLabelForValue(u.x),h=s.getLabelForValue(u.y),p=u._custom;return{label:r[e]||"",value:"("+c+", "+h+(p?", "+p:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:u,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(i,o),m=u.axis,v=c.axis;for(let b=i;b<i+r;b++){const E=e[b],D=!s&&this.getParsed(b),I={},T=I[m]=s?u.getPixelForDecimal(.5):u.getPixelForValue(D[m]),M=I[v]=s?c.getBasePixel():c.getPixelForValue(D[v]);I.skip=isNaN(T)||isNaN(M),p&&(I.options=h||this.resolveDataElementOptions(b,E.active?"active":o),s&&(I.options.radius=0)),this.updateElement(E,b,I,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const s=o.radius;return"active"!==i&&(o.radius=0),o.radius+=Ln(r&&r._custom,s),o}})(),px=(()=>class t extends Bc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let u,c,s=h=>+r[h];if(Mi(r[e])){const{key:h="value"}=this._parsing;s=p=>+Rc(r[p],h)}for(u=e,c=e+i;u<c;++u)o._parsed[u]=s(u)}}_getRotation(){return Uu(this.options.rotation-90)}_getCircumference(){return Uu(this.options.circumference)}_getRotationExtents(){let e=Jr,i=-Jr;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),u=o._getCircumference();e=Math.min(e,s),i=Math.max(i,s+u)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,u=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-u)/2,0),h=Math.min(((t,n)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n)(this.options.cutout,c),1),p=this._getRingWeight(this.index),{circumference:m,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:E,offsetX:D,offsetY:I}=function SX(t,n,e){let i=1,r=1,o=0,s=0;if(n<Jr){const u=t,c=u+n,h=Math.cos(u),p=Math.sin(u),m=Math.cos(c),v=Math.sin(c),b=(A,U,z)=>Kp(A,u,c,!0)?1:Math.max(U,U*e,z,z*e),E=(A,U,z)=>Kp(A,u,c,!0)?-1:Math.min(U,U*e,z,z*e),D=b(0,h,m),I=b(Oo,p,v),T=E(Xr,h,m),M=E(Xr+Oo,p,v);i=(D-T)/2,r=(I-M)/2,o=-(D+T)/2,s=-(I+M)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(v,m,h),A=Math.max(Math.min((r.width-u)/b,(r.height-u)/E)/2,0),U=oR(this.options.radius,A),ct=(U-Math.max(U*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=D*U,this.offsetY=I*U,o.total=this.calculateTotal(),this.outerRadius=U-ct*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ct*p,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*s/Jr)}updateElements(e,i,r,o){const s="reset"===o,u=this.chart,c=u.chartArea,m=(c.left+c.right)/2,v=(c.top+c.bottom)/2,b=s&&u.options.animation.animateScale,E=b?0:this.innerRadius,D=b?0:this.outerRadius,{sharedOptions:I,includeOptions:T}=this._getSharedOptions(i,o);let A,M=this._getRotation();for(A=0;A<i;++A)M+=this._circumference(A,s);for(A=i;A<i+r;++A){const U=this._circumference(A,s),z=e[A],ct={x:m+this.offsetX,y:v+this.offsetY,startAngle:M,endAngle:M+U,circumference:U,outerRadius:D,innerRadius:E};T&&(ct.options=I||this.resolveDataElementOptions(A,z.active?"active":o)),M+=U,this.updateElement(z,A,ct,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const s=e._parsed[o];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?Jr*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=tg(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:s}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,s,u,c,h;if(!e)for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){u=r.getDatasetMeta(o),e=u.data,c=u.controller;break}if(!e)return 0;for(o=0,s=e.length;o<s;++o)h=c.resolveDataElementOptions(o),"inner"!==h.borderAlign&&(i=Math.max(i,h.borderWidth||0,h.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Ln(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),MX=(()=>class t extends Bc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,u=this.chart._animationsDisabled;let{start:c,count:h}=yR(i,o,u);this._drawStart=c,this._drawCount=h,bR(i)&&(c=0,h=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!u,options:p},e),this.updateElements(o,c,h,e)}updateElements(e,i,r,o){const s="reset"===o,{iScale:u,vScale:c,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(i,o),b=u.axis,E=c.axis,{spanGaps:D,segment:I}=this.options,T=td(D)?D:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||"none"===o,A=i+r,U=e.length;let z=i>0&&this.getParsed(i-1);for(let ct=0;ct<U;++ct){const pt=e[ct],mt=M?pt:{};if(ct<i||ct>=A){mt.skip=!0;continue}const it=this.getParsed(ct),re=Vi(it[E]),ee=mt[b]=u.getPixelForValue(it[b],ct),de=mt[E]=s||re?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,it,h):it[E],ct);mt.skip=isNaN(ee)||isNaN(de)||re,mt.stop=ct>0&&Math.abs(it[b]-z[b])>T,I&&(mt.parsed=it,mt.raw=p.data[ct]),v&&(mt.options=m||this.resolveDataElementOptions(ct,pt.active?"active":o)),M||this.updateElement(pt,ct,mt,o),z=it}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const s=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),aL=(()=>class t extends Bc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const i=e.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((s,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:o,lineWidth:h.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(u),index:u}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],s=tg(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:s}}parseObjectData(e,i,r,o){return LR.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),c=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,i,r,o){const s="reset"===o,u=this.chart,h=u.options.animation,p=this._cachedMeta.rScale,m=p.xCenter,v=p.yCenter,b=p.getIndexAngle(0)-.5*Xr;let D,E=b;const I=360/this.countVisibleElements();for(D=0;D<i;++D)E+=this._computeAngle(D,o,I);for(D=i;D<i+r;D++){const T=e[D];let M=E,A=E+this._computeAngle(D,o,I),U=u.getDataVisibility(D)?p.getDistanceFromCenterForValue(this.getParsed(D).r):0;E=A,s&&(h.animateScale&&(U=0),h.animateRotate&&(M=A=b));const z={x:m,y:v,innerRadius:0,outerRadius:U,startAngle:M,endAngle:A,options:this.resolveDataElementOptions(D,T.active?"active":o)};this.updateElement(T,D,z,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Uu(this.resolveDataElementOptions(e,i).angle||r):0}})();var IX=Object.freeze({__proto__:null,BarController:CX,BubbleController:DX,DoughnutController:px,LineController:MX,PieController:(()=>class t extends px{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:aL,RadarController:(()=>class t extends Bc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return LR.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,"resize"!==e){const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:s.length===o.length,options:u},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const s=this._cachedMeta.rScale,u="reset"===o;for(let c=i;c<i+r;c++){const h=e[c],p=this.resolveDataElementOptions(c,h.active?"active":o),m=s.getPointPositionForValue(c,this.getParsed(c).r),v=u?s.xCenter:m.x,b=u?s.yCenter:m.y,E={x:v,y:b,angle:m.angle,skip:isNaN(v)||isNaN(b),options:p};this.updateElement(h,c,E,o)}}})(),ScatterController:(()=>class t extends Bc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,u=this.getParsed(e),c=o.getLabelForValue(u.x),h=s.getLabelForValue(u.y);return{label:r[e]||"",value:"("+c+", "+h+")"}}update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:s,count:u}=yR(i,r,o);if(this._drawStart=s,this._drawCount=u,bR(i)&&(s=0,u=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=r;const p=this.resolveDatasetElementOptions(e);p.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:p},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,u,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){const s="reset"===o,{iScale:u,vScale:c,_stacked:h,_dataset:p}=this._cachedMeta,m=this.resolveDataElementOptions(i,o),v=this.getSharedOptions(m),b=this.includeOptions(o,v),E=u.axis,D=c.axis,{spanGaps:I,segment:T}=this.options,M=td(I)?I:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||s||"none"===o;let U=i>0&&this.getParsed(i-1);for(let z=i;z<i+r;++z){const ct=e[z],pt=this.getParsed(z),mt=A?ct:{},it=Vi(pt[D]),re=mt[E]=u.getPixelForValue(pt[E],z),ee=mt[D]=s||it?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,pt,h):pt[D],z);mt.skip=isNaN(re)||isNaN(ee)||it,mt.stop=z>0&&Math.abs(pt[E]-U[E])>M,T&&(mt.parsed=pt,mt.raw=p.data[z]),b&&(mt.options=v||this.resolveDataElementOptions(z,ct.active?"active":o)),A||this.updateElement(ct,z,mt,o),U=pt}this.updateSharedOptions(v,o,m)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let c=0;for(let h=i.length-1;h>=0;--h)c=Math.max(c,i[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const s=i[0].size(this.resolveDataElementOptions(0)),u=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,u)/2}})()});function Dh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gx{static override(n){Object.assign(gx.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return Dh()}parse(){return Dh()}format(){return Dh()}add(){return Dh()}diff(){return Dh()}startOf(){return Dh()}endOf(){return Dh()}}var TX__date=gx;function NX(t,n,e,i){const{controller:r,data:o,_sorted:s}=t,u=r._cachedMeta.iScale;if(u&&n===u.axis&&"r"!==n&&s&&o.length){const c=u._reversePixels?XY:Xl;if(!i)return c(o,n,e);if(r._sharedOptions){const h=o[0],p="function"==typeof h.getRange&&h.getRange(n);if(p){const m=c(o,n,e-p),v=c(o,n,e+p);return{lo:m.lo,hi:v.hi}}}}return{lo:0,hi:o.length-1}}function og(t,n,e,i,r){const o=t.getSortedVisibleDatasetMetas(),s=e[n];for(let u=0,c=o.length;u<c;++u){const{index:h,data:p}=o[u],{lo:m,hi:v}=NX(o[u],n,s,r);for(let b=m;b<=v;++b){const E=p[b];E.skip||i(E,h,b)}}}function mx(t,n,e,i,r){const o=[];return!r&&!t.isPointInArea(n)||og(t,e,n,function(u,c,h){!r&&!Jl(u,t.chartArea,0)||u.inRange(n.x,n.y,i)&&o.push({element:u,datasetIndex:c,index:h})},!0),o}function _x(t,n,e,i,r,o){return o||t.isPointInArea(n)?"r"!==e||i?function AX(t,n,e,i,r,o){let s=[];const u=function PX(t){const n=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(i,r){const o=n?Math.abs(i.x-r.x):0,s=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}(e);let c=Number.POSITIVE_INFINITY;return og(t,e,n,function h(p,m,v){const b=p.inRange(n.x,n.y,r);if(i&&!b)return;const E=p.getCenterPoint(r);if(!o&&!t.isPointInArea(E)&&!b)return;const I=u(n,E);I<c?(s=[{element:p,datasetIndex:m,index:v}],c=I):I===c&&s.push({element:p,datasetIndex:m,index:v})}),s}(t,n,e,i,r,o):function OX(t,n,e,i){let r=[];return og(t,e,n,function o(s,u,c){const{startAngle:h,endAngle:p}=s.getProps(["startAngle","endAngle"],i),{angle:m}=dR(s,{x:n.x,y:n.y});Kp(m,h,p)&&r.push({element:s,datasetIndex:u,index:c})}),r}(t,n,e,r):[]}function uL(t,n,e,i,r){const o=[],s="x"===e?"inXRange":"inYRange";let u=!1;return og(t,e,n,(c,h,p)=>{c[s](n[e],r)&&(o.push({element:c,datasetIndex:h,index:p}),u=u||c.inRange(n.x,n.y,r))}),i&&!u?[]:o}var RX={evaluateInteractionItems:og,modes:{index(t,n,e,i){const r=Eh(n,t),o=e.axis||"x",s=e.includeInvisible||!1,u=e.intersect?mx(t,r,o,i,s):_x(t,r,o,!1,i,s),c=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const p=u[0].index,m=h.data[p];m&&!m.skip&&c.push({element:m,datasetIndex:h.index,index:p})}),c):[]},dataset(t,n,e,i){const r=Eh(n,t),o=e.axis||"xy",s=e.includeInvisible||!1;let u=e.intersect?mx(t,r,o,i,s):_x(t,r,o,!1,i,s);if(u.length>0){const c=u[0].datasetIndex,h=t.getDatasetMeta(c).data;u=[];for(let p=0;p<h.length;++p)u.push({element:h[p],datasetIndex:c,index:p})}return u},point:(t,n,e,i)=>mx(t,Eh(n,t),e.axis||"xy",i,e.includeInvisible||!1),nearest:(t,n,e,i)=>_x(t,Eh(n,t),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(t,n,e,i)=>uL(t,Eh(n,t),"x",e.intersect,i),y:(t,n,e,i)=>uL(t,Eh(n,t),"y",e.intersect,i)}};const lL=["left","top","right","bottom"];function sg(t,n){return t.filter(e=>e.pos===n)}function cL(t,n){return t.filter(e=>-1===lL.indexOf(e.pos)&&e.box.axis===n)}function ag(t,n){return t.sort((e,i)=>{const r=n?i:e,o=n?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function hL(t,n,e,i){return Math.max(t[e],n[e])+Math.max(t[i],n[i])}function fL(t,n){t.top=Math.max(t.top,n.top),t.left=Math.max(t.left,n.left),t.bottom=Math.max(t.bottom,n.bottom),t.right=Math.max(t.right,n.right)}function VX(t,n,e,i){const{pos:r,box:o}=e,s=t.maxPadding;if(!Mi(r)){e.size&&(t[r]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?o.height:o.width),e.size=m.size/m.count,t[r]+=e.size}o.getPadding&&fL(s,o.getPadding());const u=Math.max(0,n.outerWidth-hL(s,t,"left","right")),c=Math.max(0,n.outerHeight-hL(s,t,"top","bottom")),h=u!==t.w,p=c!==t.h;return t.w=u,t.h=c,e.horizontal?{same:h,other:p}:{same:p,other:h}}function jX(t,n){const e=n.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(n[s],e[s])}),o}(t?["left","right"]:["top","bottom"])}function ug(t,n,e,i){const r=[];let o,s,u,c,h,p;for(o=0,s=t.length,h=0;o<s;++o){u=t[o],c=u.box,c.update(u.width||n.w,u.height||n.h,jX(u.horizontal,n));const{same:m,other:v}=VX(n,e,u,i);h|=m&&r.length,p=p||v,c.fullSize||r.push(u)}return h&&ug(r,n,e,i)||p}function gv(t,n,e,i,r){t.top=e,t.left=n,t.right=n+i,t.bottom=e+r,t.width=i,t.height=r}function dL(t,n,e,i){const r=e.padding;let{x:o,y:s}=n;for(const u of t){const c=u.box,h=i[u.stack]||{count:1,placed:0,weight:1},p=u.stackWeight/h.weight||1;if(u.horizontal){const m=n.w*p,v=h.size||c.height;Xp(h.start)&&(s=h.start),c.fullSize?gv(c,r.left,s,e.outerWidth-r.right-r.left,v):gv(c,n.left+h.placed,s,m,v),h.start=s,h.placed+=m,s=c.bottom}else{const m=n.h*p,v=h.size||c.width;Xp(h.start)&&(o=h.start),c.fullSize?gv(c,o,r.top,v,e.outerHeight-r.bottom-r.top):gv(c,o,n.top+h.placed,v,m),h.start=o,h.placed+=m,o=c.right}}n.x=o,n.y=s}var Ys={addBox(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},t.boxes.push(n)},removeBox(t,n){const e=t.boxes?t.boxes.indexOf(n):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(t,n,e,i){if(!t)return;const r=Ws(t.options.layout.padding),o=Math.max(n-r.width,0),s=Math.max(e-r.height,0),u=function BX(t){const n=function LX(t){const n=[];let e,i,r,o,s,u;for(e=0,i=(t||[]).length;e<i;++e)r=t[e],({position:o,options:{stack:s,stackWeight:u=1}}=r),n.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:u});return n}(t),e=ag(n.filter(h=>h.box.fullSize),!0),i=ag(sg(n,"left"),!0),r=ag(sg(n,"right")),o=ag(sg(n,"top"),!0),s=ag(sg(n,"bottom")),u=cL(n,"x"),c=cL(n,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(c).concat(s).concat(u),chartArea:sg(n,"chartArea"),vertical:i.concat(r).concat(c),horizontal:o.concat(s).concat(u)}}(t.boxes),c=u.vertical,h=u.horizontal;pr(t.boxes,D=>{"function"==typeof D.beforeLayout&&D.beforeLayout()});const p=c.reduce((D,I)=>I.box.options&&!1===I.box.options.display?D:D+1,0)||1,m=Object.freeze({outerWidth:n,outerHeight:e,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/p,hBoxMaxHeight:s/2}),v=Object.assign({},r);fL(v,Ws(i));const b=Object.assign({maxPadding:v,w:o,h:s,x:r.left,y:r.top},r),E=function FX(t,n){const e=function kX(t){const n={};for(const e of t){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!lL.includes(r))continue;const s=n[i]||(n[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=n;let o,s,u;for(o=0,s=t.length;o<s;++o){u=t[o];const{fullSize:c}=u.box,h=e[u.stack],p=h&&u.stackWeight/h.weight;u.horizontal?(u.width=p?p*i:c&&n.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:c&&n.availableHeight)}return e}(c.concat(h),m);ug(u.fullSize,b,m,E),ug(c,b,m,E),ug(h,b,m,E)&&ug(c,b,m,E),function zX(t){const n=t.maxPadding;function e(i){const r=Math.max(n[i]-t[i],0);return t[i]+=r,r}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(b),dL(u.leftAndTop,b,m,E),b.x+=b.w,b.y+=b.h,dL(u.rightAndBottom,b,m,E),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},pr(u.chartArea,D=>{const I=D.box;Object.assign(I,t.chartArea),I.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class pL{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,i){}removeEventListener(n,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,i,r){return e=Math.max(0,e||n.width),i=i||n.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(n){return!0}updateConfig(n){}}class HX extends pL{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const mv="$chartjs",UX={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gL=t=>null===t||""===t,mL=!!UZ&&{passive:!0};function qX(t,n,e){t.canvas.removeEventListener(n,e,mL)}function _v(t,n){for(const e of t)if(e===n||e.contains(n))return!0}function YX(t,n,e){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const u of o)s=s||_v(u.addedNodes,i),s=s&&!_v(u.removedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function ZX(t,n,e){const i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(const u of o)s=s||_v(u.removedNodes,i),s=s&&!_v(u.addedNodes,i);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const lg=new Map;let _L=0;function vL(){const t=window.devicePixelRatio;t!==_L&&(_L=t,lg.forEach((n,e)=>{e.currentDevicePixelRatio!==t&&n()}))}function KX(t,n,e){const i=t.canvas,r=i&&cx(i);if(!r)return;const o=vR((u,c)=>{const h=r.clientWidth;e(u,c),h<r.clientWidth&&e()},window),s=new ResizeObserver(u=>{const c=u[0],h=c.contentRect.width,p=c.contentRect.height;0===h&&0===p||o(h,p)});return s.observe(r),function XX(t,n){lg.size||window.addEventListener("resize",vL),lg.set(t,n)}(t,o),s}function vx(t,n,e){e&&e.disconnect(),"resize"===n&&function JX(t){lg.delete(t),lg.size||window.removeEventListener("resize",vL)}(t)}function QX(t,n,e){const i=t.canvas,r=vR(o=>{null!==t.ctx&&e(function WX(t,n){const e=UX[t.type]||t.type,{x:i,y:r}=Eh(t,n);return{type:e,chart:n,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,t))},t);return function $X(t,n,e){t.addEventListener(n,e,mL)}(i,n,r),r}class tJ extends pL{acquireContext(n,e){const i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(function GX(t,n){const e=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[mv]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",gL(r)){const o=VR(t,"width");void 0!==o&&(t.width=o)}if(gL(i))if(""===t.style.height)t.height=t.width/(n||2);else{const o=VR(t,"height");void 0!==o&&(t.height=o)}}(n,e),i):null}releaseContext(n){const e=n.canvas;if(!e[mv])return!1;const i=e[mv].initial;["height","width"].forEach(o=>{const s=i[o];Vi(s)?e.removeAttribute(o):e.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[mv],!0}addEventListener(n,e,i){this.removeEventListener(n,e),(n.$proxies||(n.$proxies={}))[e]=({attach:YX,detach:ZX,resize:KX}[e]||QX)(n,e,i)}removeEventListener(n,e){const i=n.$proxies||(n.$proxies={}),r=i[e];r&&(({attach:vx,detach:vx,resize:vx}[e]||qX)(n,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,i,r){return function HZ(t,n,e,i){const r=dv(t),o=xh(r,"margin"),s=fv(r.maxWidth,t,"clientWidth")||ov,u=fv(r.maxHeight,t,"clientHeight")||ov,c=function jZ(t,n,e){let i,r;if(void 0===n||void 0===e){const o=cx(t);if(o){const s=o.getBoundingClientRect(),u=dv(o),c=xh(u,"border","width"),h=xh(u,"padding");n=s.width-h.width-c.width,e=s.height-h.height-c.height,i=fv(u.maxWidth,o,"clientWidth"),r=fv(u.maxHeight,o,"clientHeight")}else n=t.clientWidth,e=t.clientHeight}return{width:n,height:e,maxWidth:i||ov,maxHeight:r||ov}}(t,n,e);let{width:h,height:p}=c;if("content-box"===r.boxSizing){const v=xh(r,"border","width"),b=xh(r,"padding");h-=b.width+v.width,p-=b.height+v.height}return h=Math.max(0,h-o.width),p=Math.max(0,i?h/i:p-o.height),h=pv(Math.min(h,s,c.maxWidth)),p=pv(Math.min(p,u,c.maxHeight)),h&&!p&&(p=pv(h/2)),(void 0!==n||void 0!==e)&&i&&c.height&&p>c.height&&(p=c.height,h=pv(Math.floor(p*i))),{width:h,height:p}}(n,e,i,r)}isAttached(n){const e=cx(n);return!(!e||!e.isConnected)}}class Ql{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:e,y:i}=this.getProps(["x","y"],n);return{x:e,y:i}}hasValue(){return td(this.x)&&td(this.y)}getProps(n,e){const i=this.$animations;if(!e||!i)return this;const r={};return n.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function vv(t,n,e,i,r){const o=Ln(i,0),s=Math.min(Ln(r,t.length),t.length);let c,h,p,u=0;for(e=Math.ceil(e),r&&(c=r-i,e=c/Math.floor(c/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(h=Math.max(o,0);h<s;h++)h===p&&(n.push(t[h]),u++,p=Math.round(o+u*e))}const yL=(t,n,e)=>"top"===n||"left"===n?t[n]+e:t[n]-e,bL=(t,n)=>Math.min(n||t,t);function wL(t,n){const e=[],i=t.length/n,r=t.length;let o=0;for(;o<r;o+=i)e.push(t[Math.floor(o)]);return e}function lJ(t,n,e){const i=t.ticks.length,r=Math.min(n,i-1),o=t._startPixel,s=t._endPixel,u=1e-6;let h,c=t.getPixelForTick(r);if(!(e&&(h=1===i?Math.max(c-o,s-c):0===n?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<n?h:-h,c<o-u||c>s+u)))return c}function cg(t){return t.drawTicks?t.tickLength:0}function xL(t,n){if(!t.display)return 0;const e=es(t.font,n),i=Ws(t.padding);return(Zr(t.text)?t.text.length:1)*e.lineHeight+i.height}function dJ(t,n,e){let i=tx(t);return(e&&"right"!==n||!e&&"right"===n)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Sh extends Ql{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return n=Xa(n,Number.POSITIVE_INFINITY),e=Xa(e,Number.NEGATIVE_INFINITY),i=Xa(i,Number.POSITIVE_INFINITY),r=Xa(r,Number.NEGATIVE_INFINITY),{min:Xa(n,i),max:Xa(e,r),minDefined:bo(n),maxDefined:bo(e)}}getMinMax(n){let s,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,h=u.length;c<h;++c)s=u[c].controller.getMinMax(this,n),r||(e=Math.min(e,s.min)),o||(i=Math.max(i,s.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Xa(e,Xa(i,e)),max:Xa(i,Xa(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vr(this.options.beforeUpdate,[this])}update(n,e,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,u=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function bZ(t,n,e){const{min:i,max:r}=t,o=oR(n,(r-i)/2),s=(u,c)=>e&&0===u?0:u+c;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?wL(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=function nJ(t,n){const e=t.options.ticks,i=function iJ(t){const n=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(n?0:1),t._maxLength/e))}(t),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?function oJ(t){const n=[];let e,i;for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(n):[],s=o.length,u=o[0],c=o[s-1],h=[];if(s>r)return function sJ(t,n,e,i){let s,r=0,o=e[0];for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(n.push(t[s]),r++,o=e[r*i])}(n,h,o,s/r),h;const p=function rJ(t,n,e){const i=function aJ(t){const n=t.length;let e,i;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),r=n.length/e;if(!i)return Math.max(r,1);const o=function qY(t){const n=[],e=Math.sqrt(t);let i;for(i=1;i<e;i++)t%i==0&&(n.push(i),n.push(t/i));return e===(0|e)&&n.push(e),n.sort((r,o)=>r-o).pop(),n}(i);for(let s=0,u=o.length-1;s<u;s++){const c=o[s];if(c>r)return c}return Math.max(r,1)}(o,n,r);if(s>0){let m,v;const b=s>1?Math.round((c-u)/(s-1)):null;for(vv(n,h,p,Vi(b)?0:u-b,u),m=0,v=s-1;m<v;m++)vv(n,h,p,o[m],o[m+1]);return vv(n,h,p,c,Vi(b)?n.length:c+b),h}return vv(n,h,p),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,n=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,n=!n),this._startPixel=e,this._endPixel=i,this._reversePixels=n,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vr(this.options.afterUpdate,[this])}beforeSetDimensions(){Vr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vr(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),Vr(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const e=this.options.ticks;let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i],o.label=Vr(e.callback,[o.value,i,n],this)}afterTickToLabelConversion(){Vr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,e=n.ticks,i=bL(this.ticks.length,n.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let u,c,h,s=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const p=this._getLabelSizes(),m=p.widest.width,v=p.highest.height,b=_s(this.chart.width-m,0,this.maxWidth);u=n.offset?this.maxWidth/i:b/(i-1),m+6>u&&(u=b/(i-(n.offset?.5:1)),c=this.maxHeight-cg(n.grid)-e.padding-xL(n.title,this.chart.options.font),h=Math.sqrt(m*m+v*v),s=Jw(Math.min(Math.asin(_s((p.highest.height+6)/u,-1,1)),Math.asin(_s(c/h,-1,1))-Math.asin(_s(v/h,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Vr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vr(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),u=this.isHorizontal();if(s){const c=xL(r,e.options.font);if(u?(n.width=this.maxWidth,n.height=cg(o)+c):(n.height=this.maxHeight,n.width=cg(o)+c),i.display&&this.ticks.length){const{first:h,last:p,widest:m,highest:v}=this._getLabelSizes(),b=2*i.padding,E=Uu(this.labelRotation),D=Math.cos(E),I=Math.sin(E);u?n.height=Math.min(this.maxHeight,n.height+(i.mirror?0:I*m.width+D*v.height)+b):n.width=Math.min(this.maxWidth,n.width+(i.mirror?0:D*m.width+I*v.height)+b),this._calculatePadding(h,p,I,D)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,i,r){const{ticks:{align:o,padding:s},position:u}=this.options,c=0!==this.labelRotation,h="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;c?h?(v=r*n.width,b=i*e.height):(v=i*n.height,b=r*e.width):"start"===o?b=e.width:"end"===o?v=n.width:"inner"!==o&&(v=n.width/2,b=e.width/2),this.paddingLeft=Math.max((v-p+s)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-m+s)*this.width/(this.width-m),0)}else{let p=e.height/2,m=n.height/2;"start"===o?(p=0,m=n.height):"end"===o&&(p=e.height,m=0),this.paddingTop=p+s,this.paddingBottom=m+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vr(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:e}=this.options;return"top"===e||"bottom"===e||"x"===n}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(n),e=0,i=n.length;e<i;e++)Vi(n[e].label)&&(n.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=wL(i,e)),this._labelSizes=n=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,i){const{ctx:r,_longestTextCache:o}=this,s=[],u=[],c=Math.floor(e/bL(e,i));let m,v,b,E,D,I,T,M,A,U,z,h=0,p=0;for(m=0;m<e;m+=c){if(E=n[m].label,D=this._resolveTickFontOptions(m),r.font=I=D.string,T=o[I]=o[I]||{data:{},gc:[]},M=D.lineHeight,A=U=0,Vi(E)||Zr(E)){if(Zr(E))for(v=0,b=E.length;v<b;++v)z=E[v],!Vi(z)&&!Zr(z)&&(A=uv(r,T.data,T.gc,A,z),U+=M)}else A=uv(r,T.data,T.gc,A,E),U=M;s.push(A),u.push(U),h=Math.max(A,h),p=Math.max(U,p)}!function cJ(t,n){pr(t,e=>{const i=e.gc,r=i.length/2;let o;if(r>n){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(o,e);const ct=s.indexOf(h),pt=u.indexOf(p),mt=it=>({width:s[it]||0,height:u[it]||0});return{first:mt(0),last:mt(e-1),widest:mt(ct),highest:mt(pt),widths:s,heights:u}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){const e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const e=this._startPixel+n*this._length;return function ZY(t){return _s(t,-32768,32767)}(this._alignToPixels?yh(this.chart,e,0):e)}getDecimalForPixel(n){const e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){const e=this.ticks||[];if(n>=0&&n<e.length){const i=e[n];return i.$context||(i.$context=function fJ(t,n,e){return Fc(t,{tick:e,index:n,type:"tick"})}(this.getContext(),n,i))}return this.$context||(this.$context=function hJ(t,n){return Fc(t,{scale:n,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,e=Uu(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,u=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const n=this.options.display;return"auto"!==n?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:u}=r,c=o.offset,h=this.isHorizontal(),m=this.ticks.length+(c?1:0),v=cg(o),b=[],E=u.setContext(this.getContext()),D=E.display?E.width:0,I=D/2,T=function(le){return yh(i,le,D)};let M,A,U,z,ct,pt,mt,it,re,ee,de,Ie;if("top"===s)M=T(this.bottom),pt=this.bottom-v,it=M-I,ee=T(n.top)+I,Ie=n.bottom;else if("bottom"===s)M=T(this.top),ee=n.top,Ie=T(n.bottom)-I,pt=M+I,it=this.top+v;else if("left"===s)M=T(this.right),ct=this.right-v,mt=M-I,re=T(n.left)+I,de=n.right;else if("right"===s)M=T(this.left),re=n.left,de=T(n.right)-I,ct=M+I,mt=this.left+v;else if("x"===e){if("center"===s)M=T((n.top+n.bottom)/2+.5);else if(Mi(s)){const le=Object.keys(s)[0];M=T(this.chart.scales[le].getPixelForValue(s[le]))}ee=n.top,Ie=n.bottom,pt=M+I,it=pt+v}else if("y"===e){if("center"===s)M=T((n.left+n.right)/2);else if(Mi(s)){const le=Object.keys(s)[0];M=T(this.chart.scales[le].getPixelForValue(s[le]))}ct=M-I,mt=ct-v,re=n.left,de=n.right}const oe=Ln(r.ticks.maxTicksLimit,m),me=Math.max(1,Math.ceil(m/oe));for(A=0;A<m;A+=me){const le=this.getContext(A),je=o.setContext(le),hn=u.setContext(le),He=je.lineWidth,Er=je.color,gr=hn.dash||[],Ki=hn.dashOffset,kn=je.tickWidth,zn=je.tickColor,gi=je.tickBorderDash||[],Eo=je.tickBorderDashOffset;U=lJ(this,A,c),void 0!==U&&(z=yh(i,U,He),h?ct=mt=re=de=z:pt=it=ee=Ie=z,b.push({tx1:ct,ty1:pt,tx2:mt,ty2:it,x1:re,y1:ee,x2:de,y2:Ie,width:He,color:Er,borderDash:gr,borderDashOffset:Ki,tickWidth:kn,tickColor:zn,tickBorderDash:gi,tickBorderDashOffset:Eo}))}return this._ticksLength=m,this._borderValue=M,b}_computeLabelItems(n){const e=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:h,padding:p,mirror:m}=o,v=cg(i.grid),b=v+p,E=m?-p:b,D=-Uu(this.labelRotation),I=[];let T,M,A,U,z,ct,pt,mt,it,re,ee,de,Ie="middle";if("top"===r)ct=this.bottom-E,pt=this._getXAxisLabelAlignment();else if("bottom"===r)ct=this.top+E,pt=this._getXAxisLabelAlignment();else if("left"===r){const me=this._getYAxisLabelAlignment(v);pt=me.textAlign,z=me.x}else if("right"===r){const me=this._getYAxisLabelAlignment(v);pt=me.textAlign,z=me.x}else if("x"===e){if("center"===r)ct=(n.top+n.bottom)/2+b;else if(Mi(r)){const me=Object.keys(r)[0];ct=this.chart.scales[me].getPixelForValue(r[me])+b}pt=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)z=(n.left+n.right)/2-b;else if(Mi(r)){const me=Object.keys(r)[0];z=this.chart.scales[me].getPixelForValue(r[me])}pt=this._getYAxisLabelAlignment(v).textAlign}"y"===e&&("start"===c?Ie="top":"end"===c&&(Ie="bottom"));const oe=this._getLabelSizes();for(T=0,M=u.length;T<M;++T){A=u[T],U=A.label;const me=o.setContext(this.getContext(T));mt=this.getPixelForTick(T)+o.labelOffset,it=this._resolveTickFontOptions(T),re=it.lineHeight,ee=Zr(U)?U.length:1;const le=ee/2,je=me.color,hn=me.textStrokeColor,He=me.textStrokeWidth;let gr,Er=pt;if(s?(z=mt,"inner"===pt&&(Er=T===M-1?this.options.reverse?"left":"right":0===T?this.options.reverse?"right":"left":"center"),de="top"===r?"near"===h||0!==D?-ee*re+re/2:"center"===h?-oe.highest.height/2-le*re+re:re/2-oe.highest.height:"near"===h||0!==D?re/2:"center"===h?oe.highest.height/2-le*re:oe.highest.height-ee*re,m&&(de*=-1),0!==D&&!me.showLabelBackdrop&&(z+=re/2*Math.sin(D))):(ct=mt,de=(1-ee)*re/2),me.showLabelBackdrop){const Ki=Ws(me.backdropPadding),kn=oe.heights[T],zn=oe.widths[T];let gi=de-Ki.top,Eo=0-Ki.left;switch(Ie){case"middle":gi-=kn/2;break;case"bottom":gi-=kn}switch(pt){case"center":Eo-=zn/2;break;case"right":Eo-=zn}gr={left:Eo,top:gi,width:zn+Ki.width,height:kn+Ki.height,color:me.backdropColor}}I.push({label:U,font:it,textOffset:de,options:{rotation:D,color:je,strokeColor:hn,strokeWidth:He,textAlign:Er,textBaseline:Ie,translation:[z,ct],backdrop:gr}})}return I}_getXAxisLabelAlignment(){const{position:n,ticks:e}=this.options;if(-Uu(this.labelRotation))return"top"===n?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(n){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,u=n+o,c=this._getLabelSizes().widest.width;let h,p;return"left"===e?r?(p=this.right+o,"near"===i?h="left":"center"===i?(h="center",p+=c/2):(h="right",p+=c)):(p=this.right-u,"near"===i?h="right":"center"===i?(h="center",p-=c/2):(h="left",p=this.left)):"right"===e?r?(p=this.left+o,"near"===i?h="right":"center"===i?(h="center",p-=c/2):(h="left",p-=c)):(p=this.left+u,"near"===i?h="left":"center"===i?(h="center",p+=c/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:n.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:n.width}:void 0}drawBackground(){const{ctx:n,options:{backgroundColor:e},left:i,top:r,width:o,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(i,r,o,s),n.restore())}getLineWidthForValue(n){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===n);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(n){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let o,s;const u=(c,h,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(e.display)for(o=0,s=r.length;o<s;++o){const c=r[o];e.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,p,m,v;this.isHorizontal()?(h=yh(n,this.left,s)-s/2,p=yh(n,this.right,u)+u/2,m=v=c):(m=yh(n,this.top,s)-s/2,v=yh(n,this.bottom,u)+u/2,h=p=c),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(h,m),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&lv(i,r);const o=this.getLabelItems(n);for(const s of o)bh(i,s.label,0,s.textOffset,s.font,s.options);r&&cv(i)}drawTitle(){const{ctx:n,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=es(i.font),s=Ws(i.padding),u=i.align;let c=o.lineHeight/2;"bottom"===e||"center"===e||Mi(e)?(c+=s.bottom,Zr(i.text)&&(c+=o.lineHeight*(i.text.length-1))):c+=s.top;const{titleX:h,titleY:p,maxWidth:m,rotation:v}=function pJ(t,n,e,i){const{top:r,left:o,bottom:s,right:u,chart:c}=t,{chartArea:h,scales:p}=c;let v,b,E,m=0;const D=s-r,I=u-o;if(t.isHorizontal()){if(b=qs(i,o,u),Mi(e)){const T=Object.keys(e)[0];E=p[T].getPixelForValue(e[T])+D-n}else E="center"===e?(h.bottom+h.top)/2+D-n:yL(t,e,n);v=u-o}else{if(Mi(e)){const T=Object.keys(e)[0];b=p[T].getPixelForValue(e[T])-I+n}else b="center"===e?(h.left+h.right)/2-I+n:yL(t,e,n);E=qs(i,s,r),m="left"===e?-Oo:Oo}return{titleX:b,titleY:E,maxWidth:v,rotation:m}}(this,c,e,u);bh(n,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:v,textAlign:dJ(u,e,r),textBaseline:"middle",translation:[h,p]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,e=n.ticks&&n.ticks.z||0,i=Ln(n.grid&&n.grid.z,-1),r=Ln(n.border&&n.border.z,0);return this._isVisible()&&this.draw===Sh.prototype.draw?[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]:[{z:e,draw:o=>{this.draw(o)}}]}getMatchingVisibleMetas(n){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=e.length;o<s;++o){const u=e[o];u[i]===this.id&&(!n||u.type===n)&&r.push(u)}return r}_resolveTickFontOptions(n){return es(this.options.ticks.setContext(this.getContext(n)).font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class yv{constructor(n,e,i){this.type=n,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const e=Object.getPrototypeOf(n);let i;(function _J(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const r=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in r||(r[o]=n,function gJ(t,n,e){const i=Yp(Object.create(null),[e?wo.get(e):{},wo.get(n),t.defaults]);wo.set(n,i),t.defaultRoutes&&function mJ(t,n){Object.keys(n).forEach(e=>{const i=e.split("."),r=i.pop(),o=[t].concat(i).join("."),s=n[e].split("."),u=s.pop(),c=s.join(".");wo.route(o,r,c,u)})}(n,t.defaultRoutes),t.descriptors&&wo.describe(n,t.descriptors)}(n,s,i),this.override&&wo.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){const e=this.items,i=n.id,r=this.scope;i in e&&delete e[i],r&&i in wo[r]&&(delete wo[r][i],this.override&&delete vh[i])}}class vJ{constructor(){this.controllers=new yv(Bc,"datasets",!0),this.elements=new yv(Ql,"elements"),this.plugins=new yv(Object,"plugins"),this.scales=new yv(Sh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(n,o,r):pr(r,s=>{const u=i||this._getRegistryForType(s);this._exec(n,u,s)})})}_exec(n,e,i){const r=Xw(n);Vr(i["before"+r],[],i),e[n](i),Vr(i["after"+r],[],i)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(n))return i}return this.plugins}_get(n,e,i){const r=e.get(n);if(void 0===r)throw new Error('"'+n+'" is not a registered '+i+".");return r}}var vl=new vJ;class yJ{constructor(){this._init=[]}notify(n,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const o=r?this._descriptors(n).filter(r):this._descriptors(n),s=this._notify(o,n,e,i);return"afterDestroy"===e&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall")),s}_notify(n,e,i,r){r=r||{};for(const o of n){const s=o.plugin;if(!1===Vr(s[i],[e,r,o.options],s)&&r.cancelable)return!1}return!0}invalidate(){Vi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){const i=n&&n.config,r=Ln(i.options&&i.options.plugins,{}),o=function bJ(t){const n={},e=[],i=Object.keys(vl.plugins.items);for(let o=0;o<i.length;o++)e.push(vl.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];-1===e.indexOf(s)&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}(i);return!1!==r||e?function xJ(t,{plugins:n,localIds:e},i,r){const o=[],s=t.getContext();for(const u of n){const c=u.id,h=wJ(i[c],r);null!==h&&o.push({plugin:u,options:EJ(t.config,{plugin:u,local:e[c]},h,s)})}return o}(n,o,r,e):[]}_notifyStateChanges(n){const e=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(u=>!s.some(c=>u.plugin.id===c.plugin.id));this._notify(r(e,i),n,"stop"),this._notify(r(i,e),n,"start")}}function wJ(t,n){return n||!1!==t?!0===t?{}:t:null}function EJ(t,{plugin:n,local:e},i,r){const o=t.pluginScopeKeys(n),s=t.getOptionScopes(i,o);return e&&n.defaults&&s.push(n.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yx(t,n){return((n.datasets||{})[t]||{}).indexAxis||n.indexAxis||(wo.datasets[t]||{}).indexAxis||"x"}function EL(t){if("x"===t||"y"===t||"r"===t)return t}function SJ(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function bx(t,...n){if(EL(t))return t;for(const e of n){const i=e.axis||SJ(e.position)||t.length>1&&EL(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function CL(t,n,e){if(e[n+"AxisID"]===t)return{axis:n}}function DL(t){const n=t.options||(t.options={});n.plugins=Ln(n.plugins,{}),n.scales=function IJ(t,n){const e=vh[t.type]||{scales:{}},i=n.scales||{},r=yx(t.type,n),o=Object.create(null);return Object.keys(i).forEach(s=>{const u=i[s];if(!Mi(u))return console.error(`Invalid scale configuration for scale: ${s}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const c=bx(s,u,function MJ(t,n){if(n.data&&n.data.datasets){const e=n.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(e.length)return CL(t,"x",e[0])||CL(t,"y",e[0])}return{}}(s,t),wo.scales[u.type]),h=function DJ(t,n){return t===n?"_index_":"_value_"}(c,r),p=e.scales||{};o[s]=Zp(Object.create(null),[{axis:c},u,p[c],p[h]])}),t.data.datasets.forEach(s=>{const u=s.type||t.type,c=s.indexAxis||yx(u,n),p=(vh[u]||{}).scales||{};Object.keys(p).forEach(m=>{const v=function CJ(t,n){let e=t;return"_index_"===t?e=n:"_value_"===t&&(e="x"===n?"y":"x"),e}(m,c),b=s[v+"AxisID"]||v;o[b]=o[b]||Object.create(null),Zp(o[b],[{axis:v},i[b],p[m]])})}),Object.keys(o).forEach(s=>{const u=o[s];Zp(u,[wo.scales[u.type],wo.scale])}),o}(t,n)}function SL(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const ML=new Map,IL=new Set;function bv(t,n){let e=ML.get(t);return e||(e=n(),ML.set(t,e),IL.add(e)),e}const hg=(t,n,e)=>{const i=Rc(n,e);void 0!==i&&t.add(i)};class NJ{constructor(n){this._config=function TJ(t){return(t=t||{}).data=SL(t.data),DL(t),t}(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=SL(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),DL(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return bv(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return bv(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return bv(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){const e=n.id;return bv(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){const i=this._scopeCache;let r=i.get(n);return(!r||e)&&(r=new Map,i.set(n,r)),r}getOptionScopes(n,e,i){const{options:r,type:o}=this,s=this._cachedScopes(n,i),u=s.get(e);if(u)return u;const c=new Set;e.forEach(p=>{n&&(c.add(n),p.forEach(m=>hg(c,n,m))),p.forEach(m=>hg(c,r,m)),p.forEach(m=>hg(c,vh[o]||{},m)),p.forEach(m=>hg(c,wo,m)),p.forEach(m=>hg(c,ix,m))});const h=Array.from(c);return 0===h.length&&h.push(Object.create(null)),IL.has(e)&&s.set(e,h),h}chartOptionScopes(){const{options:n,type:e}=this;return[n,vh[e]||{},wo.datasets[e]||{},{type:e},wo,ix]}resolveNamedOptions(n,e,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:u}=TL(this._resolverCache,n,r);let c=s;(function OJ(t,n){const{isScriptable:e,isIndexable:i}=TR(t);for(const r of n){const o=e(r),s=i(r),u=(s||o)&&t[r];if(o&&(Lc(u)||PJ(u))||s&&Zr(u))return!0}return!1})(s,e)&&(o.$shared=!1,c=ed(s,i=Lc(i)?i():i,this.createResolver(n,i,u)));for(const h of e)o[h]=c[h];return o}createResolver(n,e,i=[""],r){const{resolver:o}=TL(this._resolverCache,n,i);return Mi(e)?ed(o,e,void 0,r):o}}function TL(t,n,e){let i=t.get(n);i||(i=new Map,t.set(n,i));const r=e.join();let o=i.get(r);return o||(o={resolver:ax(n,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const PJ=t=>Mi(t)&&Object.getOwnPropertyNames(t).reduce((n,e)=>n||Lc(t[e]),!1),RJ=["top","bottom","left","right","chartArea"];function NL(t,n){return"top"===t||"bottom"===t||-1===RJ.indexOf(t)&&"x"===n}function PL(t,n){return function(e,i){return e[t]===i[t]?e[n]-i[n]:e[t]-i[t]}}function OL(t){const n=t.chart,e=n.options.animation;n.notifyPlugins("afterRender"),Vr(e&&e.onComplete,[t],n)}function LJ(t){const n=t.chart,e=n.options.animation;Vr(e&&e.onProgress,[t],n)}function AL(t){return FR()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wv={},RL=t=>{const n=AL(t);return Object.values(wv).filter(e=>e.canvas===n).pop()};function kJ(t,n,e){const i=Object.keys(t);for(const r of i){const o=+r;if(o>=n){const s=t[r];delete t[r],(e>0||o>n)&&(t[o+e]=s)}}}function xv(t,n,e){return t.options.clip?t[e]:n[e]}let wx=(()=>class t{static defaults=wo;static instances=wv;static overrides=vh;static registry=vl;static version="4.4.0";static getChart=RL;static register(...e){vl.add(...e),LL()}static unregister(...e){vl.remove(...e),LL()}constructor(e,i){const r=this.config=new NJ(i),o=AL(e),s=RL(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const u=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function eJ(t){return!FR()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HX:tJ}(o)),this.platform.updateConfig(r);const c=this.platform.acquireContext(o,u.aspectRatio),h=c&&c.canvas,p=h&&h.height,m=h&&h.width;this.id=FY(),this.ctx=c,this.canvas=h,this.width=m,this.height=p,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function QY(t,n){let e;return function(...i){return n?(clearTimeout(e),e=setTimeout(t,n,i)):t.apply(this,i),n}}(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],wv[this.id]=this,c&&h?(Kl.listen(this,"complete",OL),Kl.listen(this,"progress",LJ),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return Vi(e)?i&&s?s:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():BR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return SR(this.canvas,this.ctx),this}stop(){return Kl.stop(this),this}resize(e,i){Kl.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){const r=this.options,u=this.platform.getMaximumSize(this.canvas,e,i,r.maintainAspectRatio&&this.aspectRatio),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,BR(this,c,!0)&&(this.notifyPlugins("resize",{size:u}),Vr(r.onResize,[this,u],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){pr(this.options.scales||{},(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((u,c)=>(u[c]=!1,u),{});let s=[];i&&(s=s.concat(Object.keys(i).map(u=>{const c=i[u],h=bx(u,c),p="r"===h,m="x"===h;return{options:c,dposition:p?"chartArea":m?"bottom":"left",dtype:p?"radialLinear":m?"category":"linear"}}))),pr(s,u=>{const c=u.options,h=c.id,p=bx(h,c),m=Ln(c.type,u.dtype);(void 0===c.position||NL(c.position,p)!==NL(u.dposition))&&(c.position=u.dposition),o[h]=!0;let v=null;h in r&&r[h].type===m?v=r[h]:(v=new(vl.getScale(m))({id:h,type:m,ctx:this.ctx,chart:this}),r[v.id]=v),v.init(c,e)}),pr(o,(u,c)=>{u||delete r[c]}),pr(r,u=>{Ys.configure(this,u,u.options),Ys.addBox(this,u)})}_updateMetasets(){const e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(PL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{0===i.filter(s=>s===r._dataset).length&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],i=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){const s=i[r];let u=this.getDatasetMeta(r);const c=s.type||this.config.type;if(u.type&&u.type!==c&&(this._destroyDatasetMeta(r),u=this.getDatasetMeta(r)),u.type=c,u.indexAxis=s.indexAxis||yx(c,this.options),u.order=s.order||0,u.index=r,u.label=""+s.label,u.visible=this.isDatasetVisible(r),u.controller)u.controller.updateIndex(r),u.controller.linkScales();else{const h=vl.getController(c),{datasetElementType:p,dataElementType:m}=wo.datasets[c];Object.assign(h,{dataElementType:vl.getElement(m),datasetElementType:p&&vl.getElement(p)}),u.controller=new h(this,r),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){pr(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const i=this.config;i.update();const r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let p=0,m=this.data.datasets.length;p<m;p++){const{controller:v}=this.getDatasetMeta(p),b=!o&&-1===s.indexOf(v);v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=r.layout.autoPadding?u:0,this._updateLayout(u),o||pr(s,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(PL("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){pr(this.scales,e=>{Ys.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!uR(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:s}of i)kJ(e,o,"_removeElements"===r?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const i=this.data.datasets.length,r=s=>new Set(e.filter(u=>u[0]===s).map((u,c)=>c+","+u.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!uR(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ys.update(this,this.width,this.height,e);const i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],pr(this.boxes,o=>{r&&"chartArea"===o.position||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Lc(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Kl.has(this)?this.attached&&!Kl.running(this)&&Kl.start(this):(this.draw(),OL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const i=this._sortedMetasets,r=[];let o,s;for(o=0,s=i.length;o<s;++o){const u=i[o];(!e||u.visible)&&r.push(u)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const i=this.ctx,r=e._clip,o=!r.disabled,s=function BJ(t,n){const{xScale:e,yScale:i}=t;return e&&i?{left:xv(e,n,"left"),right:xv(e,n,"right"),top:xv(i,n,"top"),bottom:xv(i,n,"bottom")}:n}(e,this.chartArea),u={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",u)&&(o&&lv(i,{left:!1===r.left?0:s.left-r.left,right:!1===r.right?this.width:s.right+r.right,top:!1===r.top?0:s.top-r.top,bottom:!1===r.bottom?this.height:s.bottom+r.bottom}),e.controller.draw(),o&&cv(i),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(e){return Jl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){const s=RX.modes[i];return"function"==typeof s?s(this,e,r,o):[]}getDatasetMeta(e){const i=this.data.datasets[e],r=this._metasets;let o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Fc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const i=this.data.datasets[e];if(!i)return!1;const r=this.getDatasetMeta(e);return"boolean"==typeof r.hidden?!r.hidden:!i.hidden}setDatasetVisibility(e,i){this.getDatasetMeta(e).hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){const o=r?"show":"hide",s=this.getDatasetMeta(e),u=s.controller._resolveAnimations(void 0,o);Xp(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),u.update(s,{visible:r}),this.update(c=>c.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){const i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Kl.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SR(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete wv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,i=this.platform,r=(s,u)=>{i.addEventListener(this,s,u),e[s]=u},o=(s,u,c)=>{s.offsetX=u,s.offsetY=c,this._eventHandler(s)};pr(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,i=this.platform,r=(h,p)=>{i.addEventListener(this,h,p),e[h]=p},o=(h,p)=>{e[h]&&(i.removeEventListener(this,h,p),delete e[h])},s=(h,p)=>{this.canvas&&this.resize(h,p)};let u;const c=()=>{o("attach",c),this.attached=!0,this.resize(),r("resize",s),r("detach",u)};u=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",c)},i.isAttached(this.canvas)?c():u()}unbindEvents(){pr(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},pr(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){const o=r?"set":"remove";let s,u,c,h;for("dataset"===i&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){u=e[c];const p=u&&this.getDatasetMeta(u.datasetIndex).controller;p&&p[o+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const i=this._active||[],r=e.map(({datasetIndex:s,index:u})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[u],index:u}});!iv(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(i=>i.plugin.id===e).length}_updateHoverStyles(e,i,r){const o=this.options.hover,s=(h,p)=>h.filter(m=>!p.some(v=>m.datasetIndex===v.datasetIndex&&m.index===v.index)),u=s(i,e),c=r?e:s(e,i);u.length&&this.updateHoverStyle(u,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(e,i){const r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=u=>(u.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,o))return;const s=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(e,i,r){const{_active:o=[],options:s}=this,c=this._getActiveElements(e,o,r,i),h=function UY(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(e),p=function FJ(t,n,e,i){return e&&"mouseout"!==t.type?i?n:t:null}(e,this._lastEvent,r,h);r&&(this._lastEvent=null,Vr(s.onHover,[e,c,this],this),h&&Vr(s.onClick,[e,c,this],this));const m=!iv(c,o);return(m||i)&&(this._active=c,this._updateHoverStyles(c,o,i)),this._lastEvent=p,m}_getActiveElements(e,i,r,o){if("mouseout"===e.type)return[];if(!r)return i;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,o)}})();function LL(){return pr(wx.instances,t=>t._plugins.invalidate())}function rd(t,n,e,i){return{x:e+t*Math.cos(n),y:i+t*Math.sin(n)}}function Ev(t,n,e,i,r,o){const{x:s,y:u,startAngle:c,pixelMargin:h,innerRadius:p}=n,m=Math.max(n.outerRadius+i+e-h,0),v=p>0?p+i+e+h:0;let b=0;const E=r-c;if(i){const je=((p>0?p-i:0)+(m>0?m-i:0))/2;b=(E-(0!==je?E*je/(je+i):E))/2}const I=(E-Math.max(.001,E*m-e/Xr)/m)/2,T=c+I+b,M=r-I-b,{outerStart:A,outerEnd:U,innerStart:z,innerEnd:ct}=function jJ(t,n,e,i){const r=function zJ(t){return sx(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),o=(e-n)/2,s=Math.min(o,i*n/2),u=c=>{const h=(e-Math.min(o,c))*i/2;return _s(c,0,Math.min(o,h))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:_s(r.innerStart,0,s),innerEnd:_s(r.innerEnd,0,s)}}(n,v,m,M-T),pt=m-A,mt=m-U,it=T+A/pt,re=M-U/mt,ee=v+z,de=v+ct,Ie=T+z/ee,oe=M-ct/de;if(t.beginPath(),o){const me=(it+re)/2;if(t.arc(s,u,m,it,me),t.arc(s,u,m,me,re),U>0){const He=rd(mt,re,s,u);t.arc(He.x,He.y,U,re,M+Oo)}const le=rd(de,M,s,u);if(t.lineTo(le.x,le.y),ct>0){const He=rd(de,oe,s,u);t.arc(He.x,He.y,ct,M+Oo,oe+Math.PI)}const je=(M-ct/v+(T+z/v))/2;if(t.arc(s,u,v,M-ct/v,je,!0),t.arc(s,u,v,je,T+z/v,!0),z>0){const He=rd(ee,Ie,s,u);t.arc(He.x,He.y,z,Ie+Math.PI,T-Oo)}const hn=rd(pt,T,s,u);if(t.lineTo(hn.x,hn.y),A>0){const He=rd(pt,it,s,u);t.arc(He.x,He.y,A,T-Oo,it)}}else{t.moveTo(s,u);const me=Math.cos(it)*m+s,le=Math.sin(it)*m+u;t.lineTo(me,le);const je=Math.cos(re)*m+s,hn=Math.sin(re)*m+u;t.lineTo(je,hn)}t.closePath()}function kL(t,n,e=n){t.lineCap=Ln(e.borderCapStyle,n.borderCapStyle),t.setLineDash(Ln(e.borderDash,n.borderDash)),t.lineDashOffset=Ln(e.borderDashOffset,n.borderDashOffset),t.lineJoin=Ln(e.borderJoinStyle,n.borderJoinStyle),t.lineWidth=Ln(e.borderWidth,n.borderWidth),t.strokeStyle=Ln(e.borderColor,n.borderColor)}function $J(t,n,e){t.lineTo(e.x,e.y)}function FL(t,n,e={}){const i=t.length,{start:r=0,end:o=i-1}=e,{start:s,end:u}=n,c=Math.max(r,s),h=Math.min(o,u);return{count:i,start:c,loop:n.loop,ilen:h<c&&!(r<s&&o<s||r>u&&o>u)?i+h-c:h-c}}function WJ(t,n,e,i){const{points:r,options:o}=n,{count:s,start:u,loop:c,ilen:h}=FL(r,e,i),p=function qJ(t){return t.stepped?hZ:t.tension||"monotone"===t.cubicInterpolationMode?fZ:$J}(o);let b,E,D,{move:m=!0,reverse:v}=i||{};for(b=0;b<=h;++b)E=r[(u+(v?h-b:b))%s],!E.skip&&(m?(t.moveTo(E.x,E.y),m=!1):p(t,D,E,v,o.stepped),D=E);return c&&(E=r[(u+(v?h:0))%s],p(t,D,E,v,o.stepped)),!!c}function YJ(t,n,e,i){const r=n.points,{count:o,start:s,ilen:u}=FL(r,e,i),{move:c=!0,reverse:h}=i||{};let v,b,E,D,I,T,p=0,m=0;const M=U=>(s+(h?u-U:U))%o,A=()=>{D!==I&&(t.lineTo(p,I),t.lineTo(p,D),t.lineTo(p,T))};for(c&&(b=r[M(0)],t.moveTo(b.x,b.y)),v=0;v<=u;++v){if(b=r[M(v)],b.skip)continue;const U=b.x,z=b.y,ct=0|U;ct===E?(z<D?D=z:z>I&&(I=z),p=(m*p+U)/++m):(A(),t.lineTo(U,z),E=ct,m=0,D=I=z),T=z}A()}function xx(t){const n=t.options;return t._decimated||t._loop||n.tension||"monotone"===n.cubicInterpolationMode||n.stepped||n.borderDash&&n.borderDash.length?WJ:YJ}const KJ="function"==typeof Path2D;let Cv=(()=>class t extends Ql{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(kZ(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function JZ(t,n){const e=t.points,i=t.options.spanGaps,r=e.length;if(!r)return[];const o=!!t._loop,{start:s,end:u}=function ZZ(t,n,e,i){let r=0,o=n-1;if(e&&!i)for(;r<n&&!t[r].skip;)r++;for(;r<n&&t[r].skip;)r++;for(r%=n,e&&(o+=r);o>r&&t[o%n].skip;)o--;return o%=n,{start:r,end:o}}(e,r,o,i);return function qR(t,n,e,i){return i&&i.setContext&&e?function KZ(t,n,e,i){const r=t._chart.getContext(),o=WR(t.options),{_datasetIndex:s,options:{spanGaps:u}}=t,c=e.length,h=[];let p=o,m=n[0].start,v=m;function b(E,D,I,T){const M=u?-1:1;if(E!==D){for(E+=c;e[E%c].skip;)E-=M;for(;e[D%c].skip;)D+=M;E%c!=D%c&&(h.push({start:E%c,end:D%c,loop:I,style:T}),p=T,m=D%c)}}for(const E of n){m=u?m:E.start;let I,D=e[m%c];for(v=m+1;v<=E.end;v++){const T=e[v%c];I=WR(i.setContext(Fc(r,{type:"segment",p0:D,p1:T,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:s}))),QZ(I,p)&&b(m,v-1,E.loop,p),D=T,p=I}m<v-1&&b(m,v-1,E.loop,p)}return h}(t,n,e,i):n}(t,!0===i?[{start:s,end:u,loop:o}]:function XZ(t,n,e,i){const r=t.length,o=[];let c,s=n,u=t[n];for(c=n+1;c<=e;++c){const h=t[c%r];h.skip||h.stop?u.skip||(o.push({start:n%r,end:(c-1)%r,loop:i=!1}),n=s=h.stop?c:null):(s=c,u.skip&&(n=c)),u=h}return null!==s&&o.push({start:n%r,end:s%r,loop:i}),o}(e,s,u<s?u+r:u,!!t._fullLoop&&0===s&&u===r-1),e,n)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],s=this.points,u=$R(this,{property:i,start:o,end:o});if(!u.length)return;const c=[],h=function ZJ(t){return t.stepped?GZ:t.tension||"monotone"===t.cubicInterpolationMode?$Z:Ch}(r);let p,m;for(p=0,m=u.length;p<m;++p){const{start:v,end:b}=u[p],E=s[v],D=s[b];if(E===D){c.push(E);continue}const T=h(E,D,Math.abs((o-E[i])/(D[i]-E[i])),r.stepped);T[i]=e[i],c.push(T)}return 1===c.length?c[0]:c}pathSegment(e,i,r){return xx(this)(e,this,i,r)}path(e,i,r){const o=this.segments,s=xx(this);let u=this._loop;i=i||0,r=r||this.points.length-i;for(const c of o)u&=s(e,this,c,{start:i,end:i+r-1});return!!u}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function QJ(t,n,e,i){KJ&&!n.options.segment?function XJ(t,n,e,i){let r=n._path;r||(r=n._path=new Path2D,n.path(r,e,i)&&r.closePath()),kL(t,n.options),t.stroke(r)}(t,n,e,i):function JJ(t,n,e,i){const{segments:r,options:o}=n,s=xx(n);for(const u of r)kL(t,o,u.style),t.beginPath(),s(t,n,u,{start:e,end:e+i-1})&&t.closePath(),t.stroke()}(t,n,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function BL(t,n,e,i){const r=t.options,{[e]:o}=t.getProps([e],i);return Math.abs(n-o)<r.radius+r.hitRadius}let tK=(()=>class t extends Ql{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:s,y:u}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return BL(this,e,"x",i)}inYRange(e,i){return BL(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Jl(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,ox(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function VL(t,n){const{x:e,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],n);let u,c,h,p,m;return t.horizontal?(m=s/2,u=Math.min(e,r),c=Math.max(e,r),h=i-m,p=i+m):(m=o/2,u=e-m,c=e+m,h=Math.min(i,r),p=Math.max(i,r)),{left:u,top:h,right:c,bottom:p}}function Vc(t,n,e,i){return t?0:_s(n,e,i)}function Ex(t,n,e,i){const r=null===n,o=null===e,u=t&&!(r&&o)&&VL(t,i);return u&&(r||Zl(n,u.left,u.right))&&(o||Zl(e,u.top,u.bottom))}function oK(t,n){t.rect(n.x,n.y,n.w,n.h)}function Cx(t,n,e={}){const i=t.x!==e.x?-n:0,r=t.y!==e.y?-n:0;return{x:t.x+i,y:t.y+r,w:t.w+((t.x+t.w!==e.x+e.w?n:0)-i),h:t.h+((t.y+t.h!==e.y+e.h?n:0)-r),radius:t.radius}}var aK=Object.freeze({__proto__:null,ArcElement:class GJ extends Ql{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>"borderDash"!==n};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:s}=dR(r,{x:n,y:e}),{startAngle:u,endAngle:c,innerRadius:h,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Ln(m,c-u)>=Jr||Kp(o,u,c),D=Zl(s,h+v,p+v);return E&&D}getCenterPoint(n){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:h}=this.options,p=(r+o)/2,m=(s+u+h+c)/2;return{x:e+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>Jr?Math.floor(i/Jr):0,0===i||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*r,Math.sin(u)*r);const h=r*(1-Math.sin(Math.min(Xr,i||0)));n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,function HJ(t,n,e,i,r){const{fullCircles:o,startAngle:s,circumference:u}=n;let c=n.endAngle;if(o){Ev(t,n,e,i,c,r);for(let h=0;h<o;++h)t.fill();isNaN(u)||(c=s+(u%Jr||Jr))}Ev(t,n,e,i,c,r),t.fill()}(n,this,h,o,s),function UJ(t,n,e,i,r){const{fullCircles:o,startAngle:s,circumference:u,options:c}=n,{borderWidth:h,borderJoinStyle:p,borderDash:m,borderDashOffset:v}=c,b="inner"===c.borderAlign;if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=v,b?(t.lineWidth=2*h,t.lineJoin=p||"round"):(t.lineWidth=h,t.lineJoin=p||"bevel");let E=n.endAngle;if(o){Ev(t,n,e,i,E,r);for(let D=0;D<o;++D)t.stroke();isNaN(u)||(E=s+(u%Jr||Jr))}b&&function VJ(t,n,e){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:u,innerRadius:c}=n;let h=r/u;t.beginPath(),t.arc(o,s,u,i-h,e+h),c>r?(h=r/c,t.arc(o,s,c,e+h,i-h,!0)):t.arc(o,s,r,e+Oo,i-Oo),t.closePath(),t.clip()}(t,n,E),o||(Ev(t,n,e,i,E,r),t.stroke())}(n,this,h,o,s),n.restore()}},BarElement:class sK extends Ql{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=function iK(t){const n=VL(t),e=n.right-n.left,i=n.bottom-n.top,r=function eK(t,n,e){const r=t.borderSkipped,o=IR(t.options.borderWidth);return{t:Vc(r.top,o.top,0,e),r:Vc(r.right,o.right,0,n),b:Vc(r.bottom,o.bottom,0,e),l:Vc(r.left,o.left,0,n)}}(t,e/2,i/2),o=function nK(t,n,e){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=wh(r),s=Math.min(n,e),u=t.borderSkipped,c=i||Mi(r);return{topLeft:Vc(!c||u.top||u.left,o.topLeft,0,s),topRight:Vc(!c||u.top||u.right,o.topRight,0,s),bottomLeft:Vc(!c||u.bottom||u.left,o.bottomLeft,0,s),bottomRight:Vc(!c||u.bottom||u.right,o.bottomRight,0,s)}}(t,e/2,i/2);return{outer:{x:n.left,y:n.top,w:e,h:i,radius:o},inner:{x:n.left+r.l,y:n.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),u=function rK(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(s.radius)?ng:oK;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),u(n,Cx(s,e,o)),n.clip(),u(n,Cx(o,-e,s)),n.fillStyle=i,n.fill("evenodd")),n.beginPath(),u(n,Cx(o,e)),n.fillStyle=r,n.fill(),n.restore()}inRange(n,e,i){return Ex(this,n,e,i)}inXRange(n,e){return Ex(this,n,null,e)}inYRange(n,e){return Ex(this,null,n,e)}getCenterPoint(n){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(n){return"x"===n?this.width/2:this.height/2}},LineElement:Cv,PointElement:tK});const Dx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],zL=Dx.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function jL(t){return Dx[t%Dx.length]}function HL(t){return zL[t%zL.length]}function UL(t){let n;for(n in t)if(t[n].borderColor||t[n].backgroundColor)return!0;return!1}var dK={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,n,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:o}=r;if(!e.forceOverride&&(UL(i)||function fK(t){return t&&(t.borderColor||t.backgroundColor)}(r)||o&&UL(o)))return;const s=function hK(t){let n=0;return(e,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof px?n=function lK(t,n){return t.backgroundColor=t.data.map(()=>jL(n++)),n}(e,n):r instanceof aL?n=function cK(t,n){return t.backgroundColor=t.data.map(()=>HL(n++)),n}(e,n):r&&(n=function uK(t,n){return t.borderColor=jL(n),t.backgroundColor=HL(n),++n}(e,n))}}(t);i.forEach(s)}};function GL(t){if(t._decimated){const n=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function $L(t){t.data.datasets.forEach(n=>{GL(n)})}var _K={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,n,e)=>{if(!e.enabled)return void $L(t);const i=t.width;t.data.datasets.forEach((r,o)=>{const{_data:s,indexAxis:u}=r,c=t.getDatasetMeta(o),h=s||r.data;if("y"===ig([u,t.options.indexAxis])||!c.controller.supportsDecimation)return;const p=t.scales[c.xAxisID];if("linear"!==p.type&&"time"!==p.type||t.options.parsing)return;let E,{start:m,count:v}=function mK(t,n){const e=n.length;let r,i=0;const{iScale:o}=t,{min:s,max:u,minDefined:c,maxDefined:h}=o.getUserBounds();return c&&(i=_s(Xl(n,o.axis,s).lo,0,e-1)),r=h?_s(Xl(n,o.axis,u).hi+1,i,e)-i:e-i,{start:i,count:r}}(c,h);if(v<=(e.threshold||4*i))GL(r);else{switch(Vi(s)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(D){this._data=D}})),e.algorithm){case"lttb":E=function pK(t,n,e,i,r){const o=r.samples||i;if(o>=e)return t.slice(n,n+e);const s=[],u=(e-2)/(o-2);let c=0;const h=n+e-1;let m,v,b,E,D,p=n;for(s[c++]=t[p],m=0;m<o-2;m++){let M,I=0,T=0;const A=Math.floor((m+1)*u)+1+n,U=Math.min(Math.floor((m+2)*u)+1,e)+n,z=U-A;for(M=A;M<U;M++)I+=t[M].x,T+=t[M].y;I/=z,T/=z;const ct=Math.floor(m*u)+1+n,pt=Math.min(Math.floor((m+1)*u)+1,e)+n,{x:mt,y:it}=t[p];for(b=E=-1,M=ct;M<pt;M++)E=.5*Math.abs((mt-I)*(t[M].y-it)-(mt-t[M].x)*(T-it)),E>b&&(b=E,v=t[M],D=M);s[c++]=v,p=D}return s[c++]=t[h],s}(h,m,v,i,e);break;case"min-max":E=function gK(t,n,e,i){let s,u,c,h,p,m,v,b,E,D,r=0,o=0;const I=[],M=t[n].x,U=t[n+e-1].x-M;for(s=n;s<n+e;++s){u=t[s],c=(u.x-M)/U*i,h=u.y;const z=0|c;if(z===p)h<E?(E=h,m=s):h>D&&(D=h,v=s),r=(o*r+u.x)/++o;else{const ct=s-1;if(!Vi(m)&&!Vi(v)){const pt=Math.min(m,v),mt=Math.max(m,v);pt!==b&&pt!==ct&&I.push({...t[pt],x:r}),mt!==b&&mt!==ct&&I.push({...t[mt],x:r})}s>0&&ct!==b&&I.push(t[ct]),I.push(u),p=z,o=0,E=D=h,m=v=b=s}}return I}(h,m,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=E}})},destroy(t){$L(t)}};function Sx(t,n,e,i){if(i)return;let r=n[t],o=e[t];return"angle"===t&&(r=Ja(r),o=Ja(o)),{property:t,start:r,end:o}}function Mx(t,n,e){for(;n>t;n--){const i=e[n];if(!isNaN(i.x)&&!isNaN(i.y))break}return n}function qL(t,n,e,i){return t&&n?i(t[e],n[e]):t?t[e]:n?n[e]:0}function WL(t,n){let e=[],i=!1;return Zr(t)?(i=!0,e=t):e=function yK(t,n){const{x:e=null,y:i=null}=t||{},r=n.points,o=[];return n.segments.forEach(({start:s,end:u})=>{u=Mx(s,u,r);const c=r[s],h=r[u];null!==i?(o.push({x:c.x,y:i}),o.push({x:h.x,y:i})):null!==e&&(o.push({x:e,y:c.y}),o.push({x:e,y:h.y}))}),o}(t,n),e.length?new Cv({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function YL(t){return t&&!1!==t.fill}function bK(t,n,e){let r=t[n].fill;const o=[n];let s;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!bo(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function wK(t,n,e){const i=function DK(t){const n=t.options,e=n.fill;let i=Ln(e&&e.target,e);return void 0===i&&(i=!!n.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(t);if(Mi(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return bo(r)&&Math.floor(r)===r?function xK(t,n,e,i){return("-"===t||"+"===t)&&(e=n+e),!(e===n||e<0||e>=i)&&e}(i[0],n,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IK(t,n,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:s,last:u,point:c}=TK(o,n,"x");if(!(!c||s&&u))if(s)i.unshift(c);else if(t.push(c),!u)break}t.push(...i)}function TK(t,n,e){const i=t.interpolate(n,e);if(!i)return{};const r=i[e],o=t.segments,s=t.points;let u=!1,c=!1;for(let h=0;h<o.length;h++){const p=o[h],m=s[p.start][e],v=s[p.end][e];if(Zl(r,m,v)){u=r===m,c=r===v;break}}return{first:u,last:c,point:i}}class ZL{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,i){const{x:r,y:o,radius:s}=this;return n.arc(r,o,s,(e=e||{start:0,end:Jr}).end,e.start,!0),!i.bounds}interpolate(n){const{x:e,y:i,radius:r}=this,o=n.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function Ix(t,n,e){const i=function NK(t){const{chart:n,fill:e,line:i}=t;if(bo(e))return function PK(t,n){const e=t.getDatasetMeta(n);return e&&t.isDatasetVisible(n)?e.dataset:null}(n,e);if("stack"===e)return function SK(t){const{scale:n,index:e,line:i}=t,r=[],o=i.segments,s=i.points,u=function MK(t,n){const e=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===n)break;o.hidden||e.unshift(o.dataset)}return e}(n,e);u.push(WL({x:null,y:n.bottom},i));for(let c=0;c<o.length;c++){const h=o[c];for(let p=h.start;p<=h.end;p++)IK(r,s[p],u)}return new Cv({points:r,options:{}})}(t);if("shape"===e)return!0;const r=function OK(t){return(t.scale||{}).getPointPositionForValue?function RK(t){const{scale:n,fill:e}=t,i=n.options,r=n.getLabels().length,o=i.reverse?n.max:n.min,s=function CK(t,n,e){let i;return i="start"===t?e:"end"===t?n.options.reverse?n.min:n.max:Mi(t)?t.value:n.getBaseValue(),i}(e,n,o),u=[];if(i.grid.circular){const c=n.getPointPositionForValue(0,o);return new ZL({x:c.x,y:c.y,radius:n.getDistanceFromCenterForValue(s)})}for(let c=0;c<r;++c)u.push(n.getPointPositionForValue(c,s));return u}(t):function AK(t){const{scale:n={},fill:e}=t,i=function EK(t,n){let e=null;return"start"===t?e=n.bottom:"end"===t?e=n.top:Mi(t)?e=n.getPixelForValue(t.value):n.getBasePixel&&(e=n.getBasePixel()),e}(e,n);if(bo(i)){const r=n.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(t)}(t);return r instanceof ZL?r:WL(r,i)}(n),{line:r,scale:o,axis:s}=n,u=r.options,c=u.fill,h=u.backgroundColor,{above:p=h,below:m=h}=c||{};i&&r.points.length&&(lv(t,e),function LK(t,n){const{line:e,target:i,above:r,below:o,area:s,scale:u}=n,c=e._loop?"angle":n.axis;t.save(),"x"===c&&o!==r&&(XL(t,i,s.top),JL(t,{line:e,target:i,color:r,scale:u,property:c}),t.restore(),t.save(),XL(t,i,s.bottom)),JL(t,{line:e,target:i,color:o,scale:u,property:c}),t.restore()}(t,{line:r,target:i,above:p,below:m,area:e,scale:o,axis:s}),cv(t))}function XL(t,n,e){const{segments:i,points:r}=n;let o=!0,s=!1;t.beginPath();for(const u of i){const{start:c,end:h}=u,p=r[c],m=r[Mx(c,h,r)];o?(t.moveTo(p.x,p.y),o=!1):(t.lineTo(p.x,e),t.lineTo(p.x,p.y)),s=!!n.pathSegment(t,u,{move:s}),s?t.closePath():t.lineTo(m.x,e)}t.lineTo(n.first().x,e),t.closePath(),t.clip()}function JL(t,n){const{line:e,target:i,property:r,color:o,scale:s}=n,u=function vK(t,n,e){const i=t.segments,r=t.points,o=n.points,s=[];for(const u of i){let{start:c,end:h}=u;h=Mx(c,h,r);const p=Sx(e,r[c],r[h],u.loop);if(!n.segments){s.push({source:u,target:p,start:r[c],end:r[h]});continue}const m=$R(n,p);for(const v of m){const b=Sx(e,o[v.start],o[v.end],v.loop),E=GR(u,r,b);for(const D of E)s.push({source:D,target:v,start:{[e]:qL(p,b,"start",Math.max)},end:{[e]:qL(p,b,"end",Math.min)}})}}return s}(e,i,r);for(const{source:c,target:h,start:p,end:m}of u){const{style:{backgroundColor:v=o}={}}=c,b=!0!==i;t.save(),t.fillStyle=v,kK(t,s,b&&Sx(r,p,m)),t.beginPath();const E=!!e.pathSegment(t,c);let D;if(b){E?t.closePath():KL(t,i,m,r);const I=!!i.pathSegment(t,h,{move:E,reverse:!0});D=E&&I,D||KL(t,i,p,r)}t.closePath(),t.fill(D?"evenodd":"nonzero"),t.restore()}}function kK(t,n,e){const{top:i,bottom:r}=n.chart.chartArea,{property:o,start:s,end:u}=e||{};"x"===o&&(t.beginPath(),t.rect(s,i,u-s,r-i),t.clip())}function KL(t,n,e,i){const r=n.interpolate(e,i);r&&t.lineTo(r.x,r.y)}var FK={id:"filler",afterDatasetsUpdate(t,n,e){const i=(t.data.datasets||[]).length,r=[];let o,s,u,c;for(s=0;s<i;++s)o=t.getDatasetMeta(s),u=o.dataset,c=null,u&&u.options&&u instanceof Cv&&(c={visible:t.isDatasetVisible(s),index:s,fill:wK(u,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=c,r.push(c);for(s=0;s<i;++s)c=r[s],c&&!1!==c.fill&&(c.fill=bK(r,s,e.propagate))},beforeDraw(t,n,e){const i="beforeDraw"===e.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const u=r[s].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Ix(t.ctx,u,o))}},beforeDatasetsDraw(t,n,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;YL(o)&&Ix(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,n,e){const i=n.meta.$filler;!YL(i)||"beforeDatasetDraw"!==e.drawTime||Ix(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const QL=(t,n)=>{let{boxHeight:e=n,boxWidth:i=n}=t;return t.usePointStyle&&(e=Math.min(e,n),i=t.pointStyleWidth||Math.min(i,n)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(n,e)}};class t2 extends Ql{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,i){this.maxWidth=n,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let e=Vr(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(i=>n.filter(i,this.chart.data))),n.sort&&(e=e.sort((i,r)=>n.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:n,ctx:e}=this;if(!n.display)return void(this.width=this.height=0);const i=n.labels,r=es(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=QL(i,o);let h,p;e.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(s,o,u,c)+10):(p=this.maxHeight,h=this._fitCols(s,r,u,c)+10),this.width=Math.min(h,n.maxWidth||this.maxWidth),this.height=Math.min(p,n.maxHeight||this.maxHeight)}_fitRows(n,e,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+u;let m=n;o.textAlign="left",o.textBaseline="middle";let v=-1,b=-p;return this.legendItems.forEach((E,D)=>{const I=i+e/2+o.measureText(E.text).width;(0===D||h[h.length-1]+I+2*u>s)&&(m+=p,h[h.length-(D>0?0:1)]=0,b+=p,v++),c[D]={left:0,top:b,row:v,width:I,height:r},h[h.length-1]+=I+u}),m}_fitCols(n,e,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],p=s-n;let m=u,v=0,b=0,E=0,D=0;return this.legendItems.forEach((I,T)=>{const{itemWidth:M,itemHeight:A}=function VK(t,n,e,i,r){const o=function zK(t,n,e,i){let r=t.text;return r&&"string"!=typeof r&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),n+e.size/2+i.measureText(r).width}(i,t,n,e),s=function jK(t,n,e){let i=t;return"string"!=typeof n.text&&(i=e2(n,e)),i}(r,i,n.lineHeight);return{itemWidth:o,itemHeight:s}}(i,e,o,I,r);T>0&&b+A+2*u>p&&(m+=v+u,h.push({width:v,height:b}),E+=v+u,D++,v=b=0),c[T]={left:E,top:b,col:D,width:M,height:A},v=Math.max(v,M),b+=A+u}),m+=v,h.push({width:v,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,s=id(o,this.left,this.width);if(this.isHorizontal()){let u=0,c=qs(i,this.left+r,this.right-this.lineWidths[u]);for(const h of e)u!==h.row&&(u=h.row,c=qs(i,this.left+r,this.right-this.lineWidths[u])),h.top+=this.top+n+r,h.left=s.leftForLtr(s.x(c),h.width),c+=h.width+r}else{let u=0,c=qs(i,this.top+n+r,this.bottom-this.columnSizes[u].height);for(const h of e)h.col!==u&&(u=h.col,c=qs(i,this.top+n+r,this.bottom-this.columnSizes[u].height)),h.top=c,h.left+=this.left+r,h.left=s.leftForLtr(s.x(h.left),h.width),c+=h.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const n=this.ctx;lv(n,this),this._draw(),cv(n)}}_draw(){const{options:n,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:s}=n,u=wo.color,c=id(n.rtl,this.left,this.width),h=es(s.font),{padding:p}=s,m=h.size,v=m/2;let b;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:E,boxHeight:D,itemHeight:I}=QL(s,m),A=this.isHorizontal(),U=this._computeTitleHeight();b=A?{x:qs(o,this.left+p,this.right-i[0]),y:this.top+p+U,line:0}:{x:this.left+p,y:qs(o,this.top+U+p,this.bottom-e[0].height),line:0},zR(this.ctx,n.textDirection);const z=I+p;this.legendItems.forEach((ct,pt)=>{r.strokeStyle=ct.fontColor,r.fillStyle=ct.fontColor;const mt=r.measureText(ct.text).width,it=c.textAlign(ct.textAlign||(ct.textAlign=s.textAlign)),re=E+v+mt;let ee=b.x,de=b.y;c.setWidth(this.width),A?pt>0&&ee+re+p>this.right&&(de=b.y+=z,b.line++,ee=b.x=qs(o,this.left+p,this.right-i[b.line])):pt>0&&de+z>this.bottom&&(ee=b.x=ee+e[b.line].width+p,b.line++,de=b.y=qs(o,this.top+U+p,this.bottom-e[b.line].height)),function(ct,pt,mt){if(isNaN(E)||E<=0||isNaN(D)||D<0)return;r.save();const it=Ln(mt.lineWidth,1);if(r.fillStyle=Ln(mt.fillStyle,u),r.lineCap=Ln(mt.lineCap,"butt"),r.lineDashOffset=Ln(mt.lineDashOffset,0),r.lineJoin=Ln(mt.lineJoin,"miter"),r.lineWidth=it,r.strokeStyle=Ln(mt.strokeStyle,u),r.setLineDash(Ln(mt.lineDash,[])),s.usePointStyle){const re={radius:D*Math.SQRT2/2,pointStyle:mt.pointStyle,rotation:mt.rotation,borderWidth:it},ee=c.xPlus(ct,E/2);MR(r,re,ee,pt+v,s.pointStyleWidth&&E)}else{const re=pt+Math.max((m-D)/2,0),ee=c.leftForLtr(ct,E),de=wh(mt.borderRadius);r.beginPath(),Object.values(de).some(Ie=>0!==Ie)?ng(r,{x:ee,y:re,w:E,h:D,radius:de}):r.rect(ee,re,E,D),r.fill(),0!==it&&r.stroke()}r.restore()}(c.x(ee),de,ct),ee=((t,n,e,i)=>t===(i?"left":"right")?e:"center"===t?(n+e)/2:n)(it,ee+E+v,A?ee+re:this.right,n.rtl),function(ct,pt,mt){bh(r,mt.text,ct,pt+I/2,h,{strikethrough:mt.hidden,textAlign:c.textAlign(mt.textAlign)})}(c.x(ee),de,ct),A?b.x+=re+p:b.y+="string"!=typeof ct.text?e2(ct,h.lineHeight)+p:z}),jR(this.ctx,n.textDirection)}drawTitle(){const n=this.options,e=n.title,i=es(e.font),r=Ws(e.padding);if(!e.display)return;const o=id(n.rtl,this.left,this.width),s=this.ctx,u=e.position,h=r.top+i.size/2;let p,m=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+h,m=qs(n.align,m,this.right-v);else{const E=this.columnSizes.reduce((D,I)=>Math.max(D,I.height),0);p=h+qs(n.align,this.top,this.bottom-E-n.labels.padding-this._computeTitleHeight())}const b=qs(u,m,m+v);s.textAlign=o.textAlign(tx(u)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,bh(s,e.text,b,p,i)}_computeTitleHeight(){const n=this.options.title,e=es(n.font),i=Ws(n.padding);return n.display?e.lineHeight+i.height:0}_getLegendItemAt(n,e){let i,r,o;if(Zl(n,this.left,this.right)&&Zl(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Zl(n,r.left,r.left+r.width)&&Zl(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(n){const e=this.options;if(!function HK(t,n){return!(("mousemove"!==t&&"mouseout"!==t||!n.onHover&&!n.onLeave)&&(!n.onClick||"click"!==t&&"mouseup"!==t))}(n.type,e))return;const i=this._getLegendItemAt(n.x,n.y);if("mousemove"===n.type||"mouseout"===n.type){const r=this._hoveredItem,o=((t,n)=>null!==t&&null!==n&&t.datasetIndex===n.datasetIndex&&t.index===n.index)(r,i);r&&!o&&Vr(e.onLeave,[n,r,this],this),this._hoveredItem=i,i&&!o&&Vr(e.onHover,[n,i,this],this)}else i&&Vr(e.onClick,[n,i,this],this)}}function e2(t,n){return n*(t.text?t.text.length:0)}var UK={id:"legend",_element:t2,start(t,n,e){const i=t.legend=new t2({ctx:t.ctx,options:e,chart:t});Ys.configure(t,i,e),Ys.addBox(t,i)},stop(t){Ys.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,n,e){const i=t.legend;Ys.configure(t,i,e),i.options=e},afterUpdate(t){const n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,n,e){const i=n.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),n.hidden=!0):(r.show(i),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const n=t.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(e?0:void 0),p=Ws(h.borderWidth);return{text:n[c.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:s&&(u||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Tx extends Ql{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=n,this.height=this.bottom=e;const r=Zr(i.text)?i.text.length:1;this._padding=Ws(i.padding);const o=r*es(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const n=this.options.position;return"top"===n||"bottom"===n}_drawArgs(n){const{top:e,left:i,bottom:r,right:o,options:s}=this,u=s.align;let h,p,m,c=0;return this.isHorizontal()?(p=qs(u,i,o),m=e+n,h=o-i):("left"===s.position?(p=i+n,m=qs(u,r,e),c=-.5*Xr):(p=o-n,m=qs(u,e,r),c=.5*Xr),h=r-e),{titleX:p,titleY:m,maxWidth:h,rotation:c}}draw(){const n=this.ctx,e=this.options;if(!e.display)return;const i=es(e.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:u,maxWidth:c,rotation:h}=this._drawArgs(o);bh(n,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:h,textAlign:tx(e.align),textBaseline:"middle",translation:[s,u]})}}var $K={id:"title",_element:Tx,start(t,n,e){!function GK(t,n){const e=new Tx({ctx:t.ctx,options:n,chart:t});Ys.configure(t,e,n),Ys.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){Ys.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,n,e){const i=t.titleBlock;Ys.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dv=new WeakMap;var qK={id:"subtitle",start(t,n,e){const i=new Tx({ctx:t.ctx,options:e,chart:t});Ys.configure(t,i,e),Ys.addBox(t,i),Dv.set(t,i)},stop(t){Ys.removeBox(t,Dv.get(t)),Dv.delete(t)},beforeUpdate(t,n,e){const i=Dv.get(t);Ys.configure(t,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fg={average(t){if(!t.length)return!1;let n,e,i=0,r=0,o=0;for(n=0,e=t.length;n<e;++n){const s=t[n].element;if(s&&s.hasValue()){const u=s.tooltipPosition();i+=u.x,r+=u.y,++o}}return{x:i/o,y:r/o}},nearest(t,n){if(!t.length)return!1;let o,s,u,e=n.x,i=n.y,r=Number.POSITIVE_INFINITY;for(o=0,s=t.length;o<s;++o){const c=t[o].element;if(c&&c.hasValue()){const p=Kw(n,c.getCenterPoint());p<r&&(r=p,u=c)}}if(u){const c=u.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function yl(t,n){return n&&(Zr(n)?Array.prototype.push.apply(t,n):t.push(n)),t}function tc(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function WK(t,n){const{element:e,datasetIndex:i,index:r}=n,o=t.getDatasetMeta(i).controller,{label:s,value:u}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function n2(t,n){const e=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:u}=n,c=es(n.bodyFont),h=es(n.titleFont),p=es(n.footerFont),m=o.length,v=r.length,b=i.length,E=Ws(n.padding);let D=E.height,I=0,T=i.reduce((U,z)=>U+z.before.length+z.lines.length+z.after.length,0);T+=t.beforeBody.length+t.afterBody.length,m&&(D+=m*h.lineHeight+(m-1)*n.titleSpacing+n.titleMarginBottom),T&&(D+=b*(n.displayColors?Math.max(u,c.lineHeight):c.lineHeight)+(T-b)*c.lineHeight+(T-1)*n.bodySpacing),v&&(D+=n.footerMarginTop+v*p.lineHeight+(v-1)*n.footerSpacing);let M=0;const A=function(U){I=Math.max(I,e.measureText(U).width+M)};return e.save(),e.font=h.string,pr(t.title,A),e.font=c.string,pr(t.beforeBody.concat(t.afterBody),A),M=n.displayColors?s+2+n.boxPadding:0,pr(i,U=>{pr(U.before,A),pr(U.lines,A),pr(U.after,A)}),M=0,e.font=p.string,pr(t.footer,A),e.restore(),I+=E.width,{width:I,height:D}}function XK(t,n,e,i){const{x:r,width:o}=e,{width:s,chartArea:{left:u,right:c}}=t;let h="center";return"center"===i?h=r<=(u+c)/2?"left":"right":r<=o/2?h="left":r>=s-o/2&&(h="right"),function ZK(t,n,e,i){const{x:r,width:o}=i,s=e.caretSize+e.caretPadding;if("left"===t&&r+o+s>n.width||"right"===t&&r-o-s<0)return!0}(h,t,n,e)&&(h="center"),h}function i2(t,n,e){const i=e.yAlign||n.yAlign||function YK(t,n){const{y:e,height:i}=n;return e<i/2?"top":e>t.height-i/2?"bottom":"center"}(t,e);return{xAlign:e.xAlign||n.xAlign||XK(t,n,e,i),yAlign:i}}function r2(t,n,e,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:u,yAlign:c}=e,h=r+o,{topLeft:p,topRight:m,bottomLeft:v,bottomRight:b}=wh(s);let E=function JK(t,n){let{x:e,width:i}=t;return"right"===n?e-=i:"center"===n&&(e-=i/2),e}(n,u);const D=function KK(t,n,e){let{y:i,height:r}=t;return"top"===n?i+=e:i-="bottom"===n?r+e:r/2,i}(n,c,h);return"center"===c?"left"===u?E+=h:"right"===u&&(E-=h):"left"===u?E-=Math.max(p,v)+r:"right"===u&&(E+=Math.max(m,b)+r),{x:_s(E,0,i.width-n.width),y:_s(D,0,i.height-n.height)}}function Sv(t,n,e){const i=Ws(e.padding);return"center"===n?t.x+t.width/2:"right"===n?t.x+t.width-i.right:t.x+i.left}function o2(t){return yl([],tc(t))}function s2(t,n){const e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?t.override(e):t}const a2={beforeTitle:Yl,title(t){if(t.length>0){const n=t[0],e=n.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(i>0&&n.dataIndex<i)return e[n.dataIndex]}return""},afterTitle:Yl,beforeBody:Yl,beforeLabel:Yl,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let n=t.dataset.label||"";n&&(n+=": ");const e=t.formattedValue;return Vi(e)||(n+=e),n},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yl,afterBody:Yl,beforeFooter:Yl,footer:Yl,afterFooter:Yl};function Ia(t,n,e,i){const r=t[n].call(e,i);return typeof r>"u"?a2[n].call(e,i):r}let u2=(()=>class t extends Ql{static positioners=fg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new ZR(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function QK(t,n,e){return Fc(t,{tooltip:n,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=Ia(r,"beforeTitle",this,e),s=Ia(r,"title",this,e),u=Ia(r,"afterTitle",this,e);let c=[];return c=yl(c,tc(o)),c=yl(c,tc(s)),c=yl(c,tc(u)),c}getBeforeBody(e,i){return o2(Ia(i.callbacks,"beforeBody",this,e))}getBody(e,i){const{callbacks:r}=i,o=[];return pr(e,s=>{const u={before:[],lines:[],after:[]},c=s2(r,s);yl(u.before,tc(Ia(c,"beforeLabel",this,s))),yl(u.lines,Ia(c,"label",this,s)),yl(u.after,tc(Ia(c,"afterLabel",this,s))),o.push(u)}),o}getAfterBody(e,i){return o2(Ia(i.callbacks,"afterBody",this,e))}getFooter(e,i){const{callbacks:r}=i,o=Ia(r,"beforeFooter",this,e),s=Ia(r,"footer",this,e),u=Ia(r,"afterFooter",this,e);let c=[];return c=yl(c,tc(o)),c=yl(c,tc(s)),c=yl(c,tc(u)),c}_createItems(e){const i=this._active,r=this.chart.data,o=[],s=[],u=[];let h,p,c=[];for(h=0,p=i.length;h<p;++h)c.push(WK(this.chart,i[h]));return e.filter&&(c=c.filter((m,v,b)=>e.filter(m,v,b,r))),e.itemSort&&(c=c.sort((m,v)=>e.itemSort(m,v,r))),pr(c,m=>{const v=s2(e.callbacks,m);o.push(Ia(v,"labelColor",this,m)),s.push(Ia(v,"labelPointStyle",this,m)),u.push(Ia(v,"labelTextColor",this,m))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=u,this.dataPoints=c,c}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let s,u=[];if(o.length){const c=fg[r.position].call(this,o,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const h=this._size=n2(this,r),p=Object.assign({},c,h),m=i2(this.chart,r,p),v=r2(r,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,s={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=u,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const s=this.getCaretPosition(e,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:s}=this,{caretSize:u,cornerRadius:c}=r,{topLeft:h,topRight:p,bottomLeft:m,bottomRight:v}=wh(c),{x:b,y:E}=e,{width:D,height:I}=i;let T,M,A,U,z,ct;return"center"===s?(z=E+I/2,"left"===o?(T=b,M=T-u,U=z+u,ct=z-u):(T=b+D,M=T+u,U=z-u,ct=z+u),A=T):(M="left"===o?b+Math.max(h,m)+u:"right"===o?b+D-Math.max(p,v)-u:this.caretX,"top"===s?(U=E,z=U-u,T=M-u,A=M+u):(U=E+I,z=U+u,T=M+u,A=M-u),ct=U),{x1:T,x2:M,x3:A,y1:U,y2:z,y3:ct}}drawTitle(e,i,r){const o=this.title,s=o.length;let u,c,h;if(s){const p=id(r.rtl,this.x,this.width);for(e.x=Sv(this,r.titleAlign,r),i.textAlign=p.textAlign(r.titleAlign),i.textBaseline="middle",u=es(r.titleFont),c=r.titleSpacing,i.fillStyle=r.titleColor,i.font=u.string,h=0;h<s;++h)i.fillText(o[h],p.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+c,h+1===s&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,i,r,o,s){const u=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:h,boxWidth:p}=s,m=es(s.bodyFont),v=Sv(this,"left",s),b=o.x(v),D=i.y+(h<m.lineHeight?(m.lineHeight-h)/2:0);if(s.usePointStyle){const I={radius:Math.min(p,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=o.leftForLtr(b,p)+p/2,M=D+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ox(e,I,T,M),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,ox(e,I,T,M)}else{e.lineWidth=Mi(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const I=o.leftForLtr(b,p),T=o.leftForLtr(o.xPlus(b,1),p-2),M=wh(u.borderRadius);Object.values(M).some(A=>0!==A)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ng(e,{x:I,y:D,w:p,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),ng(e,{x:T,y:D+1,w:p-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(I,D,p,h),e.strokeRect(I,D,p,h),e.fillStyle=u.backgroundColor,e.fillRect(T,D+1,p-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:s,bodyAlign:u,displayColors:c,boxHeight:h,boxWidth:p,boxPadding:m}=r,v=es(r.bodyFont);let b=v.lineHeight,E=0;const D=id(r.rtl,this.x,this.width),I=function(it){i.fillText(it,D.x(e.x+E),e.y+b/2),e.y+=b+s},T=D.textAlign(u);let M,A,U,z,ct,pt,mt;for(i.textAlign=u,i.textBaseline="middle",i.font=v.string,e.x=Sv(this,T,r),i.fillStyle=r.bodyColor,pr(this.beforeBody,I),E=c&&"right"!==T?"center"===u?p/2+m:p+2+m:0,z=0,pt=o.length;z<pt;++z){for(M=o[z],A=this.labelTextColors[z],i.fillStyle=A,pr(M.before,I),U=M.lines,c&&U.length&&(this._drawColorBox(i,e,z,D,r),b=Math.max(v.lineHeight,h)),ct=0,mt=U.length;ct<mt;++ct)I(U[ct]),b=v.lineHeight;pr(M.after,I)}E=0,b=v.lineHeight,pr(this.afterBody,I),e.y-=s}drawFooter(e,i,r){const o=this.footer,s=o.length;let u,c;if(s){const h=id(r.rtl,this.x,this.width);for(e.x=Sv(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=h.textAlign(r.footerAlign),i.textBaseline="middle",u=es(r.footerFont),i.fillStyle=r.footerColor,i.font=u.string,c=0;c<s;++c)i.fillText(o[c],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:s,yAlign:u}=this,{x:c,y:h}=e,{width:p,height:m}=r,{topLeft:v,topRight:b,bottomLeft:E,bottomRight:D}=wh(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(c+v,h),"top"===u&&this.drawCaret(e,i,r,o),i.lineTo(c+p-b,h),i.quadraticCurveTo(c+p,h,c+p,h+b),"center"===u&&"right"===s&&this.drawCaret(e,i,r,o),i.lineTo(c+p,h+m-D),i.quadraticCurveTo(c+p,h+m,c+p-D,h+m),"bottom"===u&&this.drawCaret(e,i,r,o),i.lineTo(c+E,h+m),i.quadraticCurveTo(c,h+m,c,h+m-E),"center"===u&&"left"===s&&this.drawCaret(e,i,r,o),i.lineTo(c,h+v),i.quadraticCurveTo(c,h,c+v,h),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){const u=fg[e.position].call(this,this._active,this._eventPosition);if(!u)return;const c=this._size=n2(this,e),h=Object.assign({},u,this._size),p=i2(i,e,h),m=r2(e,h,p,i);(o._to!==m.x||s._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=Ws(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,o,i),zR(e,i.textDirection),s.y+=u.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),jR(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:c,index:h})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[h],index:h}}),s=!iv(r,o),u=this._positionChanged(o,i);(s||u)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,s=this._active||[],u=this._getActiveElements(e,s,i,r),c=this._positionChanged(u,e),h=i||!iv(u,s)||c;return h&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),h}_getActiveElements(e,i,r,o){const s=this.options;if("mouseout"===e.type)return[];if(!o)return i;const u=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&u.reverse(),u}_positionChanged(e,i){const{caretX:r,caretY:o,options:s}=this,u=fg[s.position].call(this,e,i);return!1!==u&&(r!==u.x||o!==u.y)}})();var eQ=Object.freeze({__proto__:null,Colors:dK,Decimation:_K,Filler:FK,Legend:UK,SubTitle:qK,Title:$K,Tooltip:{id:"tooltip",_element:u2,positioners:fg,afterInit(t,n,e){e&&(t.tooltip=new u2({chart:t,options:e}))},beforeUpdate(t,n,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,n,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const n=t.tooltip;if(n&&n._willRender()){const e={tooltip:n};if(!1===t.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,n){t.tooltip&&t.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,n)=>n.bodyFont.size,boxWidth:(t,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:a2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function l2(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}let oQ=(()=>class t extends Sh{static id="category";static defaults={ticks:{callback:l2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const i=this._addedLabels;if(i.length){const r=this.getLabels();for(const{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Vi(e))return null;const r=this.getLabels();return((t,n)=>null===t?null:_s(Math.round(t),0,n))(i=isFinite(i)&&r[i]===e?i:function iQ(t,n,e,i){const r=t.indexOf(n);return-1===r?((t,n,e,i)=>("string"==typeof n?(e=t.push(n)-1,i.unshift({index:e,label:n})):isNaN(n)&&(e=null),e))(t,n,e,i):r!==t.lastIndexOf(n)?e:r}(r,e,Ln(i,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,i=this.max,r=this.options.offset,o=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let u=e;u<=i;u++)o.push({value:u});return o}getLabelForValue(e){return l2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function c2(t,n,{horizontal:e,minRotation:i}){const r=Uu(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(n/o,.75*n*(""+t).length)}class Mv extends Sh{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return Vi(n)||("number"==typeof n||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=c=>r=e?r:c,u=c=>o=i?o:c;if(n){const c=_l(r),h=_l(o);c<0&&h<0?u(0):c>0&&h>0&&s(0)}if(r===o){let c=0===o?1:Math.abs(.05*o);u(o+c),n||s(r-c)}this.min=r,this.max=o}getTickLimit(){const n=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=n;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,e=n.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s=function sQ(t,n){const e=[],{bounds:r,step:o,min:s,max:u,precision:c,count:h,maxTicks:p,maxDigits:m,includeBounds:v}=t,b=o||1,E=p-1,{min:D,max:I}=n,T=!Vi(s),M=!Vi(u),A=!Vi(h),U=(I-D)/(m+1);let ct,pt,mt,it,z=cR((I-D)/E/b)*b;if(z<1e-14&&!T&&!M)return[{value:D},{value:I}];it=Math.ceil(I/z)-Math.floor(D/z),it>E&&(z=cR(it*z/E/b)*b),Vi(c)||(ct=Math.pow(10,c),z=Math.ceil(z*ct)/ct),"ticks"===r?(pt=Math.floor(D/z)*z,mt=Math.ceil(I/z)*z):(pt=D,mt=I),T&&M&&o&&function WY(t,n){const e=Math.round(t);return e-n<=t&&e+n>=t}((u-s)/o,z/1e3)?(it=Math.round(Math.min((u-s)/z,p)),z=(u-s)/it,pt=s,mt=u):A?(pt=T?s:pt,mt=M?u:mt,it=h-1,z=(mt-pt)/it):(it=(mt-pt)/z,it=Jp(it,Math.round(it),z/1e3)?Math.round(it):Math.ceil(it));const re=Math.max(fR(z),fR(pt));ct=Math.pow(10,Vi(c)?re:c),pt=Math.round(pt*ct)/ct,mt=Math.round(mt*ct)/ct;let ee=0;for(T&&(v&&pt!==s?(e.push({value:s}),pt<s&&ee++,Jp(Math.round((pt+ee*z)*ct)/ct,s,c2(s,U,t))&&ee++):pt<s&&ee++);ee<it;++ee){const de=Math.round((pt+ee*z)*ct)/ct;if(M&&de>u)break;e.push({value:de})}return M&&v&&mt!==u?e.length&&Jp(e[e.length-1].value,u,c2(u,U,t))?e[e.length-1].value=u:e.push({value:u}):(!M||mt===u)&&e.push({value:mt}),e}({maxTicks:i,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===n.bounds&&hR(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const n=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&n.length){const r=(i-e)/Math.max(n.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(n){return tg(n,this.chart.options.locale,this.options.ticks.format)}}const dg=t=>Math.floor(kc(t)),Mh=(t,n)=>Math.pow(10,dg(t)+n);function h2(t){return t/Math.pow(10,dg(t))==1}function f2(t,n,e){const i=Math.pow(10,e),r=Math.floor(t/i);return Math.ceil(n/i)-r}function Nx(t){const n=t.ticks;if(n.display&&t.display){const e=Ws(n.backdropPadding);return Ln(n.font&&n.font.size,wo.font.size)+e.height}return 0}function hQ(t,n,e){return e=Zr(e)?e:[e],{w:cZ(t,n.string,e),h:e.length*n.lineHeight}}function d2(t,n,e,i,r){return t===i||t===r?{start:n-e/2,end:n+e/2}:t<i||t>r?{start:n-e,end:n}:{start:n,end:n+e}}function dQ(t,n,e,i,r){const o=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let u=0,c=0;i.start<n.l?(u=(n.l-i.start)/o,t.l=Math.min(t.l,n.l-u)):i.end>n.r&&(u=(i.end-n.r)/o,t.r=Math.max(t.r,n.r+u)),r.start<n.t?(c=(n.t-r.start)/s,t.t=Math.min(t.t,n.t-c)):r.end>n.b&&(c=(r.end-n.b)/s,t.b=Math.max(t.b,n.b+c))}function pQ(t,n,e){const i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:u}=e,c=t.getPointPosition(n,i+r+s,o),h=Math.round(Jw(Ja(c.angle+Oo))),p=function yQ(t,n,e){return 90===e||270===e?t-=n/2:(e>270||e<90)&&(t-=n),t}(c.y,u.h,h),m=function _Q(t){return 0===t||180===t?"center":t<180?"left":"right"}(h),v=function vQ(t,n,e){return"right"===e?t-=n:"center"===e&&(t-=n/2),t}(c.x,u.w,m);return{visible:!0,x:c.x,y:p,textAlign:m,left:v,top:p,right:v+u.w,bottom:p+u.h}}function gQ(t,n){if(!n)return!0;const{left:e,top:i,right:r,bottom:o}=t;return!(Jl({x:e,y:i},n)||Jl({x:e,y:o},n)||Jl({x:r,y:i},n)||Jl({x:r,y:o},n))}function bQ(t,n,e){const{left:i,top:r,right:o,bottom:s}=e,{backdropColor:u}=n;if(!Vi(u)){const c=wh(n.borderRadius),h=Ws(n.backdropPadding);t.fillStyle=u;const p=i-h.left,m=r-h.top,v=o-i+h.width,b=s-r+h.height;Object.values(c).some(E=>0!==E)?(t.beginPath(),ng(t,{x:p,y:m,w:v,h:b,radius:c}),t.fill()):t.fillRect(p,m,v,b)}}function p2(t,n,e,i){const{ctx:r}=t;if(e)r.arc(t.xCenter,t.yCenter,n,0,Jr);else{let o=t.getPointPosition(0,n);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,n),r.lineTo(o.x,o.y)}}const Iv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ta=Object.keys(Iv);function g2(t,n){return t-n}function m2(t,n){if(Vi(n))return null;const e=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let s=n;return"function"==typeof i&&(s=i(s)),bo(s)||(s="string"==typeof i?e.parse(s,i):e.parse(s)),null===s?null:(r&&(s="week"!==r||!td(o)&&!0!==o?e.startOf(s,r):e.startOf(s,"isoWeek",o)),+s)}function _2(t,n,e,i){const r=Ta.length;for(let o=Ta.indexOf(t);o<r-1;++o){const s=Iv[Ta[o]];if(s.common&&Math.ceil((e-n)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=i)return Ta[o]}return Ta[r-1]}function v2(t,n,e){if(e){if(e.length){const{lo:i,hi:r}=Qw(e,n);t[e[i]>=n?e[i]:e[r]]=!0}}else t[n]=!0}function y2(t,n,e){const i=[],r={},o=n.length;let s,u;for(s=0;s<o;++s)u=n[s],r[u]=s,i.push({value:u,major:!1});return 0!==o&&e?function MQ(t,n,e,i){const r=t._adapter,o=+r.startOf(n[0].value,i),s=n[n.length-1].value;let u,c;for(u=o;u<=s;u=+r.add(u,1,i))c=e[u],c>=0&&(n[c].major=!0);return n}(t,i,r,e):i}let Px=(()=>class t extends Sh{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){const r=e.time||(e.time={}),o=this._adapter=new TX__date(e.adapters.date);o.init(i),Zp(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:m2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:s,minDefined:u,maxDefined:c}=this.getUserBounds();function h(p){!u&&!isNaN(p.min)&&(o=Math.min(o,p.min)),!c&&!isNaN(p.max)&&(s=Math.max(s,p.max))}(!u||!c)&&(h(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&h(this.getMinMax(!1))),o=bo(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=bo(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const s=this.min,c=function JY(t,n,e){let i=0,r=t.length;for(;i<r&&t[i]<n;)i++;for(;r>i&&t[r-1]>e;)r--;return i>0||r<t.length?t.slice(i,r):t}(o,s,this.max);return this._unit=i.unit||(r.autoSkip?_2(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):function DQ(t,n,e,i,r){for(let o=Ta.length-1;o>=Ta.indexOf(e);o--){const s=Ta[o];if(Iv[s].common&&t._adapter.diff(r,i,s)>=n-1)return s}return Ta[e?Ta.indexOf(e):0]}(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function SQ(t){for(let n=Ta.indexOf(t)+1,e=Ta.length;n<e;++n)if(Iv[Ta[n]].common)return Ta[n]}(this._unit):void 0,this.initOffsets(o),e.reverse&&c.reverse(),y2(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let o,s,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,s=this.getDecimalForValue(e[e.length-1]),r=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;i=_s(i,0,u),r=_s(r,0,u),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,u=s.unit||_2(s.minUnit,i,r,this._getLabelCapacity(i)),c=Ln(o.ticks.stepSize,1),h="week"===u&&s.isoWeekday,p=td(h)||!0===h,m={};let b,E,v=i;if(p&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,p?"day":u),e.diff(r,i,u)>1e5*c)throw new Error(i+" and "+r+" are too far apart with stepSize of "+c+" "+u);const D="data"===o.ticks.source&&this.getDataTimestamps();for(b=v,E=0;b<r;b=+e.add(b,c,u),E++)v2(m,b,D);return(b===r||"ticks"===o.bounds||1===E)&&v2(m,b,D),Object.keys(m).sort(g2).map(I=>+I)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}format(e,i){return this._adapter.format(e,i||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,i,r,o){const s=this.options,u=s.ticks.callback;if(u)return Vr(u,[e,i,r],this);const c=s.time.displayFormats,h=this._unit,p=this._majorUnit,v=p&&c[p],b=r[i];return this._adapter.format(e,o||(p&&v&&b&&b.major?v:h&&c[h]))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=Uu(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),u=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:r*s+c*u,h:r*u+c*s}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(e,0,y2(this,[e],this._majorUnit),o),u=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return c>0?c:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(m2(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mR(e.sort(g2))}})();function Tv(t,n,e){let o,s,u,c,i=0,r=t.length-1;e?(n>=t[i].pos&&n<=t[r].pos&&({lo:i,hi:r}=Xl(t,"pos",n)),({pos:o,time:u}=t[i]),({pos:s,time:c}=t[r])):(n>=t[i].time&&n<=t[r].time&&({lo:i,hi:r}=Xl(t,"time",n)),({time:o,pos:u}=t[i]),({time:s,pos:c}=t[r]));const h=s-o;return h?u+(c-u)*(n-o)/h:u}wx.register(IX,aK,eQ,Object.freeze({__proto__:null,CategoryScale:oQ,LinearScale:class aQ extends Mv{static id="linear";static defaults={ticks:{callback:av.formatters.numeric}};determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=bo(n)?n:0,this.max=bo(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),e=n?this.width:this.height,i=Uu(this.options.ticks.minRotation),r=(n?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(n){return null===n?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},LogarithmicScale:class cQ extends Sh{static id="logarithmic";static defaults={ticks:{callback:av.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){const i=Mv.prototype.parse.apply(this,[n,e]);if(0!==i)return bo(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!0);this.min=bo(n)?Math.max(0,n):null,this.max=bo(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!bo(this._userMin)&&(this.min=n===Mh(this.min,0)?Mh(this.min,-1):Mh(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:n,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=n?i:u,s=u=>r=e?r:u;i===r&&(i<=0?(o(1),s(10)):(o(Mh(i,-1)),s(Mh(r,1)))),i<=0&&o(Mh(r,-1)),r<=0&&s(Mh(i,1)),this.min=i,this.max=r}buildTicks(){const n=this.options,i=function lQ(t,{min:n,max:e}){n=Xa(t.min,n);const i=[],r=dg(n);let o=function uQ(t,n){let i=dg(n-t);for(;f2(t,n,i)>10;)i++;for(;f2(t,n,i)<10;)i--;return Math.min(i,dg(t))}(n,e),s=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),c=r>o?Math.pow(10,r):0,h=Math.round((n-c)*s)/s,p=Math.floor((n-c)/u/10)*u*10;let m=Math.floor((h-p)/Math.pow(10,o)),v=Xa(t.min,Math.round((c+p+m*Math.pow(10,o))*s)/s);for(;v<e;)i.push({value:v,major:h2(v),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(o++,m=2,s=o>=0?1:s),v=Math.round((c+p+m*Math.pow(10,o))*s)/s;const b=Xa(t.max,v);return i.push({value:b,major:h2(b),significand:m}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===n.bounds&&hR(i,this,"value"),n.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(n){return void 0===n?"0":tg(n,this.chart.options.locale,this.options.ticks.format)}configure(){const n=this.min;super.configure(),this._startValue=kc(n),this._valueRange=kc(this.max)-kc(n)}getPixelForValue(n){return(void 0===n||0===n)&&(n=this.min),null===n||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(kc(n)-this._startValue)/this._valueRange)}getValueForPixel(n){const e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class CQ extends Mv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:av.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const n=this._padding=Ws(Nx(this.options)/2),e=this.width=this.maxWidth-n.width,i=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+i/2+n.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:n,max:e}=this.getMinMax(!1);this.min=bo(n)&&!isNaN(n)?n:0,this.max=bo(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nx(this.options))}generateTickLabels(n){Mv.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,i)=>{const r=Vr(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const n=this.options;n.display&&n.pointLabels.display?function fQ(t){const n={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},n),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,u=s.centerPointLabels?Xr/o:0;for(let c=0;c<o;c++){const h=s.setContext(t.getPointLabelContext(c));r[c]=h.padding;const p=t.getPointPosition(c,t.drawingArea+r[c],u),m=es(h.font),v=hQ(t.ctx,m,t._pointLabels[c]);i[c]=v;const b=Ja(t.getIndexAngle(c)+u),E=Math.round(Jw(b));dQ(e,n,b,d2(E,p.x,v.w,0,180),d2(E,p.y,v.h,90,270))}t.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),t._pointLabelItems=function mQ(t,n,e){const i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:u}=o.pointLabels,c={extra:Nx(o)/2,additionalAngle:s?Xr/r:0};let h;for(let p=0;p<r;p++){c.padding=e[p],c.size=n[p];const m=pQ(t,p,c);i.push(m),"auto"===u&&(m.visible=gQ(m,h),m.visible&&(h=m))}return i}(t,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,i,r){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,i,r))}getIndexAngle(n){return Ja(n*(Jr/(this._pointLabels.length||1))+Uu(this.options.startAngle||0))}getDistanceFromCenterForValue(n){if(Vi(n))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(Vi(n))return NaN;const e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){const e=this._pointLabels||[];if(n>=0&&n<e.length){const i=e[n];return function EQ(t,n,e){return Fc(t,{label:e,index:n,type:"pointLabel"})}(this.getContext(),n,i)}}getPointPosition(n,e,i=0){const r=this.getIndexAngle(n)-Oo+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[n];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:n,grid:{circular:e}}=this.options;if(n){const i=this.ctx;i.save(),i.beginPath(),p2(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=n,i.fill(),i.restore()}}drawGrid(){const n=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,s=this._pointLabels.length;let u,c,h;if(e.pointLabels.display&&function wQ(t,n){const{ctx:e,options:{pointLabels:i}}=t;for(let r=n-1;r>=0;r--){const o=t._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(t.getPointLabelContext(r));bQ(e,s,o);const u=es(s.font),{x:c,y:h,textAlign:p}=o;bh(e,t._pointLabels[r],c,h+u.lineHeight/2,u,{color:s.color,textAlign:p,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((p,m)=>{if(0!==m){c=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(m),b=r.setContext(v),E=o.setContext(v);!function xQ(t,n,e,i,r){const o=t.ctx,s=n.circular,{color:u,lineWidth:c}=n;!s&&!i||!u||!c||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=c,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),p2(t,e,s,i),o.closePath(),o.stroke(),o.restore())}(this,b,c,s,E)}}),i.display){for(n.save(),u=s-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:m,lineWidth:v}=p;!v||!m||(n.lineWidth=v,n.strokeStyle=m,n.setLineDash(p.borderDash),n.lineDashOffset=p.borderDashOffset,c=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),h=this.getPointPosition(u,c),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(h.x,h.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){const n=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(r),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((u,c)=>{if(0===c&&!e.reverse)return;const h=i.setContext(this.getContext(c)),p=es(h.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){n.font=p.string,s=n.measureText(u.label).width,n.fillStyle=h.backdropColor;const m=Ws(h.backdropPadding);n.fillRect(-s/2-m.left,-o-p.size/2-m.top,s+m.width,p.size+m.height)}bh(n,u.label,0,-o,p,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),n.restore()}drawTitle(){}},TimeScale:Px,TimeSeriesScale:class IQ extends Px{static id="timeseries";static defaults=Px.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=Tv(e,this.min),this._tableRange=Tv(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:e,max:i}=this,r=[],o=[];let s,u,c,h,p;for(s=0,u=n.length;s<u;++s)h=n[s],h>=e&&h<=i&&r.push(h);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,u=r.length;s<u;++s)p=r[s+1],c=r[s-1],h=r[s],Math.round((p+c)/2)!==h&&o.push({time:h,pos:s/(u-1)});return o}_generate(){const n=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(n)||!i.length)&&i.splice(0,0,n),(!i.includes(e)||1===i.length)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return n=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,n=this._cache.all=n,n}getDecimalForValue(n){return(Tv(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const e=this._offsets,i=this.getDecimalForPixel(n)/e.factor-e.end;return Tv(this._table,i*this._tableRange+this._minPos,!0)}}}));const PQ=wx;var OQ=$(50),Na=$(8433),Zs=6371008.8,b2={centimeters:100*Zs,centimetres:100*Zs,degrees:Zs/111325,feet:3.28084*Zs,inches:39.37*Zs,kilometers:Zs/1e3,kilometres:Zs/1e3,meters:Zs,metres:Zs,miles:Zs/1609.344,millimeters:1e3*Zs,millimetres:1e3*Zs,nauticalmiles:Zs/1852,radians:1,yards:1.0936*Zs};function bl(t,n,e){void 0===e&&(e={});var i={type:"Feature"};return(0===e.id||e.id)&&(i.id=e.id),e.bbox&&(i.bbox=e.bbox),i.properties=n||{},i.geometry=t,i}function zc(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Lx(t[0])||!Lx(t[1]))throw new Error("coordinates must contain numbers");return bl({type:"Point",coordinates:t},n,e)}function od(t,n,e){void 0===e&&(e={});for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return bl({type:"Polygon",coordinates:t},n,e)}function Nv(t,n,e){if(void 0===e&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return bl({type:"LineString",coordinates:t},n,e)}function wl(t,n){void 0===n&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}function Ox(t,n,e){return void 0===e&&(e={}),bl({type:"MultiPoint",coordinates:t},n,e)}function Ax(t,n){void 0===n&&(n="kilometers");var e=b2[n];if(!e)throw new Error(n+" units is invalid");return t*e}function Pv(t){return t%360*Math.PI/180}function Lx(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function sd(t,n,e){if(null!==t)for(var i,r,o,s,u,c,h,v,p=0,m=0,b=t.type,E="FeatureCollection"===b,D="Feature"===b,I=E?t.features.length:1,T=0;T<I;T++){u=(v=!!(h=E?t.features[T].geometry:D?t.geometry:t)&&"GeometryCollection"===h.type)?h.geometries.length:1;for(var M=0;M<u;M++){var A=0,U=0;if(null!==(s=v?h.geometries[M]:h)){c=s.coordinates;var z=s.type;switch(p=!e||"Polygon"!==z&&"MultiPolygon"!==z?0:1,z){case null:break;case"Point":if(!1===n(c,m,T,A,U))return!1;m++,A++;break;case"LineString":case"MultiPoint":for(i=0;i<c.length;i++){if(!1===n(c[i],m,T,A,U))return!1;m++,"MultiPoint"===z&&A++}"LineString"===z&&A++;break;case"Polygon":case"MultiLineString":for(i=0;i<c.length;i++){for(r=0;r<c[i].length-p;r++){if(!1===n(c[i][r],m,T,A,U))return!1;m++}"MultiLineString"===z&&A++,"Polygon"===z&&U++}"Polygon"===z&&A++;break;case"MultiPolygon":for(i=0;i<c.length;i++){for(U=0,r=0;r<c[i].length;r++){for(o=0;o<c[i][r].length-p;o++){if(!1===n(c[i][r][o],m,T,A,U))return!1;m++}U++}A++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===sd(s.geometries[i],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ov(t,n){if("Feature"===t.type)n(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==n(t.features[e],e);e++);}function ad(t,n){var e,i,r,o,s,u,c,h,p,m,v=0,b="FeatureCollection"===t.type,E="Feature"===t.type,D=b?t.features.length:1;for(e=0;e<D;e++){for(h=b?t.features[e].properties:E?t.properties:{},p=b?t.features[e].bbox:E?t.bbox:void 0,m=b?t.features[e].id:E?t.id:void 0,s=(c=!!(u=b?t.features[e].geometry:E?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1,r=0;r<s;r++)if(null!==(o=c?u.geometries[r]:u))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(o,v,h,p,m))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===n(o.geometries[i],v,h,p,m))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,v,h,p,m))return!1;v++}}function kx(t){var n=[1/0,1/0,-1/0,-1/0];return sd(t,function(e){n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])}),n}kx.default=kx;const Su=kx;function Rv(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function pg(t){return"Feature"===t.type?t.geometry:t}function Gu(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("point is required");if(!n)throw new Error("polygon is required");var i=Rv(t),r=pg(n),o=r.type,s=n.bbox,u=r.coordinates;if(s&&!1===function ttt(t,n){return n[0]<=t[0]&&n[1]<=t[1]&&n[2]>=t[0]&&n[3]>=t[1]}(i,s))return!1;"Polygon"===o&&(u=[u]);for(var c=!1,h=0;h<u.length&&!c;h++)if(S2(i,u[h][0],e.ignoreBoundary)){for(var p=!1,m=1;m<u[h].length&&!p;)S2(i,u[h][m],!e.ignoreBoundary)&&(p=!0),m++;p||(c=!0)}return c}function S2(t,n,e){var i=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var r=0,o=n.length-1;r<n.length;o=r++){var s=n[r][0],u=n[r][1],c=n[o][0],h=n[o][1];if(t[1]*(s-c)+u*(c-t[0])+h*(t[0]-s)==0&&(s-t[0])*(c-t[0])<=0&&(u-t[1])*(h-t[1])<=0)return!e;u>t[1]!=h>t[1]&&t[0]<(c-s)*(t[1]-u)/(h-u)+s&&(i=!i)}return i}$(4772),$(3664);const ud=function ett(t,n){var e=[];return Ov(t,function(i){var r=!1;if("Point"===i.geometry.type)ad(n,function(s){Gu(i,s)&&(r=!0)}),r&&e.push(i);else{if("MultiPoint"!==i.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var o=[];ad(n,function(s){sd(i,function(u){Gu(u,s)&&(r=!0,o.push(u))})}),r&&e.push(Ox(o))}}),wl(e)},Bx=function ntt(t,n,e){void 0===e&&(e={});var i=Rv(t),r=Rv(n),o=Pv(r[1]-i[1]),s=Pv(r[0]-i[0]),u=Pv(i[1]),c=Pv(r[1]),h=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(c);return Ax(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),e.units)};var I2=new ArrayBuffer(16);new Float64Array(I2),new Uint32Array(I2),$(7861),function(){function t(n){this.points=n.points||[],this.duration=n.duration||1e4,this.sharpness=n.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=n.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var i=this.points[e],r=this.points[e+1];this.centers.push({x:(i.x+r.x)/2,y:(i.y+r.y)/2,z:(i.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,s=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,u=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+s),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+u)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+s),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+u)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(n){var e=[],i=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var o=this.pos(r);Math.sqrt((o.x-i.x)*(o.x-i.x)+(o.y-i.y)*(o.y-i.y)+(o.z-i.z)*(o.z-i.z))>n&&(e.push(r),i=o)}return e},t.prototype.vector=function(n){var e=this.pos(n+10),i=this.pos(n-10);return{angle:180*Math.atan2(e.y-i.y,e.x-i.x)/3.14,speed:Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)+(i.z-e.z)*(i.z-e.z))}},t.prototype.pos=function(n){var e=n-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var i=e/this.duration;if(i>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*i);return function vtt(t,n,e,i,r){var o=function ytt(t){var n=t*t;return[n*t,3*n*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+e.x*o[2]+n.x*o[3],y:r.y*o[0]+i.y*o[1]+e.y*o[2]+n.y*o[3],z:r.z*o[0]+i.z*o[1]+e.z*o[2]+n.z*o[3]}}((this.length-1)*i-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}();const R2=function Stt(t,n){void 0===n&&(n={});var e=Su(t);return zc([(e[0]+e[2])/2,(e[1]+e[3])/2],n.properties,n)};$(9145),$(5665);var V2=6378137;function Bv(t){return function BQ(t,n,e){var i=e;return ad(t,function(r,o,s,u,c){i=0===o&&void 0===e?r:n(i,r,o,s,u,c)}),i}(t,function(n,e){return n+function Ftt(t){var e,n=0;switch(t.type){case"Polygon":return z2(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=z2(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}function z2(t){var n=0;if(t&&t.length>0){n+=Math.abs(j2(t[0]));for(var e=1;e<t.length;e++)n-=Math.abs(j2(t[e]))}return n}function j2(t){var n,e,r,o,s,u,c=0,h=t.length;if(h>2){for(u=0;u<h;u++)u===h-2?(r=h-2,o=h-1,s=0):u===h-1?(r=h-1,o=0,s=1):(r=u,o=u+1,s=u+2),n=t[r],e=t[o],c+=(Gx(t[s][0])-Gx(n[0]))*Math.sin(Gx(e[1]));c=c*V2*V2/2}return c}function Gx(t){return t*Math.PI/180}function Vtt(t,n,e,i,r){var o=e[0],s=e[1],u=t[0],c=t[1],h=n[0],p=n[1],b=h-u,E=p-c,D=(e[0]-u)*E-(e[1]-c)*b;if(null!==r){if(Math.abs(D)>r)return!1}else if(0!==D)return!1;return i?"start"===i?Math.abs(b)>=Math.abs(E)?b>0?u<o&&o<=h:h<=o&&o<u:E>0?c<s&&s<=p:p<=s&&s<c:"end"===i?Math.abs(b)>=Math.abs(E)?b>0?u<=o&&o<h:h<o&&o<=u:E>0?c<=s&&s<p:p<s&&s<=c:"both"===i&&(Math.abs(b)>=Math.abs(E)?b>0?u<o&&o<h:h<o&&o<u:E>0?c<s&&s<p:p<s&&s<c):Math.abs(b)>=Math.abs(E)?b>0?u<=o&&o<=h:h<=o&&o<=u:E>0?c<=s&&s<=p:p<=s&&s<=c}const Vv=function Btt(t,n,e){void 0===e&&(e={});for(var i=Rv(t),r=function jQ(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(n),o=0;o<r.length-1;o++){var s=!1;if(e.ignoreEndVertices&&(0===o&&(s="start"),o===r.length-2&&(s="end"),0===o&&o+1===r.length-1&&(s="both")),Vtt(r[o],r[o+1],i,s,typeof e.epsilon>"u"?null:e.epsilon))return!0}return!1};function H2(t,n){return!(t[0]>n[0]||t[2]<n[2]||t[1]>n[1]||t[3]<n[3])}function U2(t,n){return t[0]===n[0]&&t[1]===n[1]}function Ytt(t,n){return[(t[0]+n[0])/2,(t[1]+n[1])/2]}const Ztt=function ztt(t,n){var e=pg(t),i=pg(n),r=e.type,o=i.type;switch(r){case"Point":switch(o){case"MultiPoint":return function jtt(t,n){var e,i=!1;for(e=0;e<n.coordinates.length;e++)if(U2(n.coordinates[e],t.coordinates)){i=!0;break}return i}(e,i);case"LineString":return Vv(e,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return Gu(e,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function Htt(t,n){for(var e=0;e<t.coordinates.length;e++){for(var i=!1,r=0;r<n.coordinates.length;r++)U2(t.coordinates[e],n.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(e,i);case"LineString":return function Utt(t,n){for(var e=!1,i=0;i<t.coordinates.length;i++){if(!Vv(t.coordinates[i],n))return!1;e||(e=Vv(t.coordinates[i],n,{ignoreEndVertices:!0}))}return e}(e,i);case"Polygon":case"MultiPolygon":return function Gtt(t,n){for(var e=!0,r=!1,o=0;o<t.coordinates.length;o++){if(!(r=Gu(t.coordinates[1],n))){e=!1;break}r=Gu(t.coordinates[1],n,{ignoreBoundary:!0})}return e&&r}(e,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function $tt(t,n){for(var e=0;e<t.coordinates.length;e++)if(!Vv(t.coordinates[e],n))return!1;return!0}(e,i);case"Polygon":case"MultiPolygon":return function qtt(t,n){if(!H2(Su(n),Su(t)))return!1;for(var r=!1,o=0;o<t.coordinates.length-1;o++){if(!Gu(t.coordinates[o],n))return!1;r||(r=Gu(t.coordinates[o],n,{ignoreBoundary:!0})),r||(r=Gu(Ytt(t.coordinates[o],t.coordinates[o+1]),n,{ignoreBoundary:!0}))}return r}(e,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function Wtt(t,n){var e=Su(t);if(!H2(Su(n),e))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Gu(t.coordinates[0][r],n))return!1;return!0}(e,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}};var q2=Math.PI/180,W2=180/Math.PI,_g=function(t,n){this.lon=t,this.lat=n,this.x=q2*t,this.y=q2*n};_g.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},_g.prototype.antipode=function(){return new _g(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Y2=function(){this.coords=[],this.length=0};Y2.prototype.move_to=function(t){this.length++,this.coords.push(t)};var $x=function(t){this.properties=t||{},this.geometries=[]};$x.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],n=0;n<this.geometries.length;n++)t.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},$x.prototype.wkt=function(){for(var t="",n="LINESTRING(",e=function(o){n+=o[0]+" "+o[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(e),t+=n.substring(0,n.length-1)+")"}return t};var qx=function(t,n,e){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new _g(t.x,t.y),this.end=new _g(n.x,n.y),this.properties=e||{};var i=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+n)};qx.prototype.interpolate=function(t){var n=Math.sin((1-t)*this.g)/Math.sin(this.g),e=Math.sin(t*this.g)/Math.sin(this.g),i=n*Math.cos(this.start.y)*Math.cos(this.start.x)+e*Math.cos(this.end.y)*Math.cos(this.end.x),r=n*Math.cos(this.start.y)*Math.sin(this.start.x)+e*Math.cos(this.end.y)*Math.sin(this.end.x),o=n*Math.sin(this.start.y)+e*Math.sin(this.end.y),s=W2*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[W2*Math.atan2(r,i),s]},qx.prototype.Arc=function(t,n){var e=[];if(!t||t<=2)e.push([this.start.lon,this.start.lat]),e.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var s=this.interpolate(i*r);e.push(s)}for(var u=!1,c=0,h=n&&n.offset?n.offset:10,p=180-h,m=-180+h,v=360-h,b=1;b<e.length;++b){var E=e[b-1][0],D=e[b][0],I=Math.abs(D-E);I>v&&(D>p&&E<m||E>p&&D<m)?u=!0:I>c&&(c=I)}var T=[];if(u&&c<h){var M=[];T.push(M);for(var A=0;A<e.length;++A){var U=parseFloat(e[A][0]);if(A>0&&Math.abs(U-e[A-1][0])>v){var z=parseFloat(e[A-1][0]),ct=parseFloat(e[A-1][1]),pt=parseFloat(e[A][0]),mt=parseFloat(e[A][1]);if(z>-180&&z<m&&180===pt&&A+1<e.length&&e[A-1][0]>-180&&e[A-1][0]<m){M.push([-180,e[A][1]]),A++,M.push([e[A][0],e[A][1]]);continue}if(z>p&&z<180&&-180===pt&&A+1<e.length&&e[A-1][0]>p&&e[A-1][0]<180){M.push([180,e[A][1]]),A++,M.push([e[A][0],e[A][1]]);continue}if(z<m&&pt>p){var it=z;z=pt,pt=it;var re=ct;ct=mt,mt=re}if(z>p&&pt<m&&(pt+=360),z<=180&&pt>=180&&z<pt){var ee=(180-z)/(pt-z),de=ee*mt+(1-ee)*ct;M.push([e[A-1][0]>p?180:-180,de]),(M=[]).push([e[A-1][0]>p?-180:180,de]),T.push(M)}else T.push(M=[]);M.push([U,e[A][1]])}else M.push([e[A][0],e[A][1]])}}else{var Ie=[];T.push(Ie);for(var oe=0;oe<e.length;++oe)Ie.push([e[oe][0],e[oe][1]])}for(var me=new $x(this.properties),le=0;le<T.length;++le){var je=new Y2;me.geometries.push(je);for(var hn=T[le],He=0;He<hn.length;++He)je.move_to(hn[He])}return me},$(3970);var Un=[],Gn=[],$n=[],qn=[],Wn=[],Yn=[],Zn=[],Xn=[],Jn=[],Kn=[],Qn=[],ti=[],ei=[],ni=[],ii=[],ri=[],oi=[],si=[],ai=[],ui=[],li=[],ci=[],hi=[],fi=[];Zn[85]=Kn[85]=-1,Xn[85]=Qn[85]=0,Jn[85]=ti[85]=1,ai[85]=ci[85]=1,ui[85]=hi[85]=0,li[85]=fi[85]=1,Un[85]=qn[85]=0,Gn[85]=Wn[85]=-1,$n[85]=ii[85]=0,ri[85]=ei[85]=0,oi[85]=ni[85]=1,Yn[85]=si[85]=1,ci[1]=ci[169]=0,hi[1]=hi[169]=-1,fi[1]=fi[169]=0,ei[1]=ei[169]=-1,ni[1]=ni[169]=0,ii[1]=ii[169]=0,Kn[4]=Kn[166]=0,Qn[4]=Qn[166]=-1,ti[4]=ti[166]=1,ri[4]=ri[166]=1,oi[4]=oi[166]=0,si[4]=si[166]=0,Zn[16]=Zn[154]=0,Xn[16]=Xn[154]=1,Jn[16]=Jn[154]=1,qn[16]=qn[154]=1,Wn[16]=Wn[154]=0,Yn[16]=Yn[154]=1,ai[64]=ai[106]=0,ui[64]=ui[106]=1,li[64]=li[106]=0,Un[64]=Un[106]=-1,Gn[64]=Gn[106]=0,$n[64]=$n[106]=1,ai[2]=ai[168]=0,ui[2]=ui[168]=-1,li[2]=li[168]=1,ci[2]=ci[168]=0,hi[2]=hi[168]=-1,fi[2]=fi[168]=0,ei[2]=ei[168]=-1,ni[2]=ni[168]=0,ii[2]=ii[168]=0,ri[2]=ri[168]=-1,oi[2]=oi[168]=0,si[2]=si[168]=1,Zn[8]=Zn[162]=0,Xn[8]=Xn[162]=-1,Jn[8]=Jn[162]=0,Kn[8]=Kn[162]=0,Qn[8]=Qn[162]=-1,ti[8]=ti[162]=1,ei[8]=ei[162]=1,ni[8]=ni[162]=0,ii[8]=ii[162]=1,ri[8]=ri[162]=1,oi[8]=oi[162]=0,si[8]=si[162]=0,Zn[32]=Zn[138]=0,Xn[32]=Xn[138]=1,Jn[32]=Jn[138]=1,Kn[32]=Kn[138]=0,Qn[32]=Qn[138]=1,ti[32]=ti[138]=0,Un[32]=Un[138]=1,Gn[32]=Gn[138]=0,$n[32]=$n[138]=0,qn[32]=qn[138]=1,Wn[32]=Wn[138]=0,Yn[32]=Yn[138]=1,ci[128]=ci[42]=0,hi[128]=hi[42]=1,fi[128]=fi[42]=1,ai[128]=ai[42]=0,ui[128]=ui[42]=1,li[128]=li[42]=0,Un[128]=Un[42]=-1,Gn[128]=Gn[42]=0,$n[128]=$n[42]=1,qn[128]=qn[42]=-1,Wn[128]=Wn[42]=0,Yn[128]=Yn[42]=0,Kn[5]=Kn[165]=-1,Qn[5]=Qn[165]=0,ti[5]=ti[165]=0,ci[5]=ci[165]=1,hi[5]=hi[165]=0,fi[5]=fi[165]=0,ri[20]=ri[150]=0,oi[20]=oi[150]=1,si[20]=si[150]=1,qn[20]=qn[150]=0,Wn[20]=Wn[150]=-1,Yn[20]=Yn[150]=1,Zn[80]=Zn[90]=-1,Xn[80]=Xn[90]=0,Jn[80]=Jn[90]=1,ai[80]=ai[90]=1,ui[80]=ui[90]=0,li[80]=li[90]=1,ei[65]=ei[105]=0,ni[65]=ni[105]=1,ii[65]=ii[105]=0,Un[65]=Un[105]=0,Gn[65]=Gn[105]=-1,$n[65]=$n[105]=0,Zn[160]=Zn[10]=-1,Xn[160]=Xn[10]=0,Jn[160]=Jn[10]=1,Kn[160]=Kn[10]=-1,Qn[160]=Qn[10]=0,ti[160]=ti[10]=0,ci[160]=ci[10]=1,hi[160]=hi[10]=0,fi[160]=fi[10]=0,ai[160]=ai[10]=1,ui[160]=ui[10]=0,li[160]=li[10]=1,ri[130]=ri[40]=0,oi[130]=oi[40]=1,si[130]=si[40]=1,ei[130]=ei[40]=0,ni[130]=ni[40]=1,ii[130]=ii[40]=0,Un[130]=Un[40]=0,Gn[130]=Gn[40]=-1,$n[130]=$n[40]=0,qn[130]=qn[40]=0,Wn[130]=Wn[40]=-1,Yn[130]=Yn[40]=1,Kn[37]=Kn[133]=0,Qn[37]=Qn[133]=1,ti[37]=ti[133]=1,ci[37]=ci[133]=0,hi[37]=hi[133]=1,fi[37]=fi[133]=0,Un[37]=Un[133]=-1,Gn[37]=Gn[133]=0,$n[37]=$n[133]=0,qn[37]=qn[133]=1,Wn[37]=Wn[133]=0,Yn[37]=Yn[133]=0,ri[148]=ri[22]=-1,oi[148]=oi[22]=0,si[148]=si[22]=0,ci[148]=ci[22]=0,hi[148]=hi[22]=-1,fi[148]=fi[22]=1,ai[148]=ai[22]=0,ui[148]=ui[22]=1,li[148]=li[22]=1,qn[148]=qn[22]=-1,Wn[148]=Wn[22]=0,Yn[148]=Yn[22]=1,Zn[82]=Zn[88]=0,Xn[82]=Xn[88]=-1,Jn[82]=Jn[88]=1,ri[82]=ri[88]=1,oi[82]=oi[88]=0,si[82]=si[88]=1,ei[82]=ei[88]=-1,ni[82]=ni[88]=0,ii[82]=ii[88]=1,ai[82]=ai[88]=0,ui[82]=ui[88]=-1,li[82]=li[88]=0,Zn[73]=Zn[97]=0,Xn[73]=Xn[97]=1,Jn[73]=Jn[97]=0,Kn[73]=Kn[97]=0,Qn[73]=Qn[97]=-1,ti[73]=ti[97]=0,ei[73]=ei[97]=1,ni[73]=ni[97]=0,ii[73]=ii[97]=0,Un[73]=Un[97]=1,Gn[73]=Gn[97]=0,$n[73]=$n[97]=1,Zn[145]=Zn[25]=0,Xn[145]=Xn[25]=-1,Jn[145]=Jn[25]=0,ei[145]=ei[25]=1,ni[145]=ni[25]=0,ii[145]=ii[25]=1,ci[145]=ci[25]=0,hi[145]=hi[25]=1,fi[145]=fi[25]=1,qn[145]=qn[25]=-1,Wn[145]=Wn[25]=0,Yn[145]=Yn[25]=0,Kn[70]=Kn[100]=0,Qn[70]=Qn[100]=1,ti[70]=ti[100]=0,ri[70]=ri[100]=-1,oi[70]=oi[100]=0,si[70]=si[100]=1,ai[70]=ai[100]=0,ui[70]=ui[100]=-1,li[70]=li[100]=1,Un[70]=Un[100]=1,Gn[70]=Gn[100]=0,$n[70]=$n[100]=0,Kn[101]=Kn[69]=0,Qn[101]=Qn[69]=1,ti[101]=ti[69]=0,Un[101]=Un[69]=1,Gn[101]=Gn[69]=0,$n[101]=$n[69]=0,ci[149]=ci[21]=0,hi[149]=hi[21]=1,fi[149]=fi[21]=1,qn[149]=qn[21]=-1,Wn[149]=Wn[21]=0,Yn[149]=Yn[21]=0,ri[86]=ri[84]=-1,oi[86]=oi[84]=0,si[86]=si[84]=1,ai[86]=ai[84]=0,ui[86]=ui[84]=-1,li[86]=li[84]=1,Zn[89]=Zn[81]=0,Xn[89]=Xn[81]=-1,Jn[89]=Jn[81]=0,ei[89]=ei[81]=1,ni[89]=ni[81]=0,ii[89]=ii[81]=1,Zn[96]=Zn[74]=0,Xn[96]=Xn[74]=1,Jn[96]=Jn[74]=0,Kn[96]=Kn[74]=-1,Qn[96]=Qn[74]=0,ti[96]=ti[74]=1,ai[96]=ai[74]=1,ui[96]=ui[74]=0,li[96]=li[74]=0,Un[96]=Un[74]=1,Gn[96]=Gn[74]=0,$n[96]=$n[74]=1,Zn[24]=Zn[146]=0,Xn[24]=Xn[146]=-1,Jn[24]=Jn[146]=1,ri[24]=ri[146]=1,oi[24]=oi[146]=0,si[24]=si[146]=1,ei[24]=ei[146]=0,ni[24]=ni[146]=1,ii[24]=ii[146]=1,qn[24]=qn[146]=0,Wn[24]=Wn[146]=-1,Yn[24]=Yn[146]=0,Kn[6]=Kn[164]=-1,Qn[6]=Qn[164]=0,ti[6]=ti[164]=1,ri[6]=ri[164]=-1,oi[6]=oi[164]=0,si[6]=si[164]=0,ci[6]=ci[164]=0,hi[6]=hi[164]=-1,fi[6]=fi[164]=1,ai[6]=ai[164]=1,ui[6]=ui[164]=0,li[6]=li[164]=0,ei[129]=ei[41]=0,ni[129]=ni[41]=1,ii[129]=ii[41]=1,ci[129]=ci[41]=0,hi[129]=hi[41]=1,fi[129]=fi[41]=0,Un[129]=Un[41]=-1,Gn[129]=Gn[41]=0,$n[129]=$n[41]=0,qn[129]=qn[41]=0,Wn[129]=Wn[41]=-1,Yn[129]=Yn[41]=0,ri[66]=ri[104]=0,oi[66]=oi[104]=1,si[66]=si[104]=0,ei[66]=ei[104]=-1,ni[66]=ni[104]=0,ii[66]=ii[104]=1,ai[66]=ai[104]=0,ui[66]=ui[104]=-1,li[66]=li[104]=0,Un[66]=Un[104]=0,Gn[66]=Gn[104]=-1,$n[66]=$n[104]=1,Zn[144]=Zn[26]=-1,Xn[144]=Xn[26]=0,Jn[144]=Jn[26]=0,ci[144]=ci[26]=1,hi[144]=hi[26]=0,fi[144]=fi[26]=1,ai[144]=ai[26]=0,ui[144]=ui[26]=1,li[144]=li[26]=1,qn[144]=qn[26]=-1,Wn[144]=Wn[26]=0,Yn[144]=Yn[26]=1,Kn[36]=Kn[134]=0,Qn[36]=Qn[134]=1,ti[36]=ti[134]=1,ri[36]=ri[134]=0,oi[36]=oi[134]=1,si[36]=si[134]=0,Un[36]=Un[134]=0,Gn[36]=Gn[134]=-1,$n[36]=$n[134]=1,qn[36]=qn[134]=1,Wn[36]=Wn[134]=0,Yn[36]=Yn[134]=0,Zn[9]=Zn[161]=-1,Xn[9]=Xn[161]=0,Jn[9]=Jn[161]=0,Kn[9]=Kn[161]=0,Qn[9]=Qn[161]=-1,ti[9]=ti[161]=0,ei[9]=ei[161]=1,ni[9]=ni[161]=0,ii[9]=ii[161]=0,ci[9]=ci[161]=1,hi[9]=hi[161]=0,fi[9]=fi[161]=1,Zn[136]=0,Xn[136]=1,Jn[136]=1,Kn[136]=0,Qn[136]=1,ti[136]=0,ri[136]=-1,oi[136]=0,si[136]=1,ei[136]=-1,ni[136]=0,ii[136]=0,ci[136]=0,hi[136]=-1,fi[136]=0,ai[136]=0,ui[136]=-1,li[136]=1,Un[136]=1,Gn[136]=0,$n[136]=0,qn[136]=1,Wn[136]=0,Yn[136]=1,Zn[34]=0,Xn[34]=-1,Jn[34]=0,Kn[34]=0,Qn[34]=-1,ti[34]=1,ri[34]=1,oi[34]=0,si[34]=0,ei[34]=1,ni[34]=0,ii[34]=1,ci[34]=0,hi[34]=1,fi[34]=1,ai[34]=0,ui[34]=1,li[34]=0,Un[34]=-1,Gn[34]=0,$n[34]=1,qn[34]=-1,Wn[34]=0,Yn[34]=0,Zn[35]=0,Xn[35]=1,Jn[35]=1,Kn[35]=0,Qn[35]=-1,ti[35]=1,ri[35]=1,oi[35]=0,si[35]=0,ei[35]=-1,ni[35]=0,ii[35]=0,ci[35]=0,hi[35]=-1,fi[35]=0,ai[35]=0,ui[35]=1,li[35]=0,Un[35]=-1,Gn[35]=0,$n[35]=1,qn[35]=1,Wn[35]=0,Yn[35]=1,Zn[153]=0,Xn[153]=1,Jn[153]=1,ei[153]=-1,ni[153]=0,ii[153]=0,ci[153]=0,hi[153]=-1,fi[153]=0,qn[153]=1,Wn[153]=0,Yn[153]=1,Kn[102]=0,Qn[102]=-1,ti[102]=1,ri[102]=1,oi[102]=0,si[102]=0,ai[102]=0,ui[102]=1,li[102]=0,Un[102]=-1,Gn[102]=0,$n[102]=1,Zn[155]=0,Xn[155]=-1,Jn[155]=0,ei[155]=1,ni[155]=0,ii[155]=1,ci[155]=0,hi[155]=1,fi[155]=1,qn[155]=-1,Wn[155]=0,Yn[155]=0,Kn[103]=0,Qn[103]=1,ti[103]=0,ri[103]=-1,oi[103]=0,si[103]=1,ai[103]=0,ui[103]=-1,li[103]=1,Un[103]=1,Gn[103]=0,$n[103]=0,Zn[152]=0,Xn[152]=1,Jn[152]=1,ri[152]=-1,oi[152]=0,si[152]=1,ei[152]=-1,ni[152]=0,ii[152]=0,ci[152]=0,hi[152]=-1,fi[152]=0,ai[152]=0,ui[152]=-1,li[152]=1,qn[152]=1,Wn[152]=0,Yn[152]=1,Zn[156]=0,Xn[156]=-1,Jn[156]=1,ri[156]=1,oi[156]=0,si[156]=1,ei[156]=-1,ni[156]=0,ii[156]=0,ci[156]=0,hi[156]=-1,fi[156]=0,ai[156]=0,ui[156]=1,li[156]=1,qn[156]=-1,Wn[156]=0,Yn[156]=1,Zn[137]=0,Xn[137]=1,Jn[137]=1,Kn[137]=0,Qn[137]=1,ti[137]=0,ei[137]=-1,ni[137]=0,ii[137]=0,ci[137]=0,hi[137]=-1,fi[137]=0,Un[137]=1,Gn[137]=0,$n[137]=0,qn[137]=1,Wn[137]=0,Yn[137]=1,Zn[139]=0,Xn[139]=1,Jn[139]=1,Kn[139]=0,Qn[139]=-1,ti[139]=0,ei[139]=1,ni[139]=0,ii[139]=0,ci[139]=0,hi[139]=1,fi[139]=0,Un[139]=-1,Gn[139]=0,$n[139]=0,qn[139]=1,Wn[139]=0,Yn[139]=1,Zn[98]=0,Xn[98]=-1,Jn[98]=0,Kn[98]=0,Qn[98]=-1,ti[98]=1,ri[98]=1,oi[98]=0,si[98]=0,ei[98]=1,ni[98]=0,ii[98]=1,ai[98]=0,ui[98]=1,li[98]=0,Un[98]=-1,Gn[98]=0,$n[98]=1,Zn[99]=0,Xn[99]=1,Jn[99]=0,Kn[99]=0,Qn[99]=-1,ti[99]=1,ri[99]=1,oi[99]=0,si[99]=0,ei[99]=-1,ni[99]=0,ii[99]=1,ai[99]=0,ui[99]=-1,li[99]=0,Un[99]=1,Gn[99]=0,$n[99]=1,Kn[38]=0,Qn[38]=-1,ti[38]=1,ri[38]=1,oi[38]=0,si[38]=0,ci[38]=0,hi[38]=1,fi[38]=1,ai[38]=0,ui[38]=1,li[38]=0,Un[38]=-1,Gn[38]=0,$n[38]=1,qn[38]=-1,Wn[38]=0,Yn[38]=0,Kn[39]=0,Qn[39]=1,ti[39]=1,ri[39]=-1,oi[39]=0,si[39]=0,ci[39]=0,hi[39]=-1,fi[39]=1,ai[39]=0,ui[39]=1,li[39]=0,Un[39]=-1,Gn[39]=0,$n[39]=1,qn[39]=1,Wn[39]=0,Yn[39]=0;var Xx=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Jx=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Kx=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Qx=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},tE=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},eE=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},nE=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},iE=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Fe=[],Re=[],tn=[],Ye=[],un=[],an=[],di=[],yi=[];Ye[1]=un[1]=18,Ye[169]=un[169]=18,tn[4]=Re[4]=12,tn[166]=Re[166]=12,Fe[16]=yi[16]=4,Fe[154]=yi[154]=4,an[64]=di[64]=22,an[106]=di[106]=22,tn[2]=an[2]=17,Ye[2]=un[2]=18,tn[168]=an[168]=17,Ye[168]=un[168]=18,Fe[8]=Ye[8]=9,Re[8]=tn[8]=12,Fe[162]=Ye[162]=9,Re[162]=tn[162]=12,Fe[32]=yi[32]=4,Re[32]=di[32]=1,Fe[138]=yi[138]=4,Re[138]=di[138]=1,un[128]=yi[128]=21,an[128]=di[128]=22,un[42]=yi[42]=21,an[42]=di[42]=22,Re[5]=un[5]=14,Re[165]=un[165]=14,tn[20]=yi[20]=6,tn[150]=yi[150]=6,Fe[80]=an[80]=11,Fe[90]=an[90]=11,Ye[65]=di[65]=3,Ye[105]=di[105]=3,Fe[160]=an[160]=11,Re[160]=un[160]=14,Fe[10]=an[10]=11,Re[10]=un[10]=14,tn[130]=yi[130]=6,Ye[130]=di[130]=3,tn[40]=yi[40]=6,Ye[40]=di[40]=3,Re[101]=di[101]=1,Re[69]=di[69]=1,un[149]=yi[149]=21,un[21]=yi[21]=21,tn[86]=an[86]=17,tn[84]=an[84]=17,Fe[89]=Ye[89]=9,Fe[81]=Ye[81]=9,Fe[96]=di[96]=0,Re[96]=an[96]=15,Fe[74]=di[74]=0,Re[74]=an[74]=15,Fe[24]=tn[24]=8,Ye[24]=yi[24]=7,Fe[146]=tn[146]=8,Ye[146]=yi[146]=7,Re[6]=an[6]=15,tn[6]=un[6]=16,Re[164]=an[164]=15,tn[164]=un[164]=16,Ye[129]=yi[129]=7,un[129]=di[129]=20,Ye[41]=yi[41]=7,un[41]=di[41]=20,tn[66]=di[66]=2,Ye[66]=an[66]=19,tn[104]=di[104]=2,Ye[104]=an[104]=19,Fe[144]=un[144]=10,an[144]=yi[144]=23,Fe[26]=un[26]=10,an[26]=yi[26]=23,Re[36]=yi[36]=5,tn[36]=di[36]=2,Re[134]=yi[134]=5,tn[134]=di[134]=2,Fe[9]=un[9]=10,Re[9]=Ye[9]=13,Fe[161]=un[161]=10,Re[161]=Ye[161]=13,Re[37]=yi[37]=5,un[37]=di[37]=20,Re[133]=yi[133]=5,un[133]=di[133]=20,tn[148]=un[148]=16,an[148]=yi[148]=23,tn[22]=un[22]=16,an[22]=yi[22]=23,Fe[82]=tn[82]=8,Ye[82]=an[82]=19,Fe[88]=tn[88]=8,Ye[88]=an[88]=19,Fe[73]=di[73]=0,Re[73]=Ye[73]=13,Fe[97]=di[97]=0,Re[97]=Ye[97]=13,Fe[145]=Ye[145]=9,un[145]=yi[145]=21,Fe[25]=Ye[25]=9,un[25]=yi[25]=21,Re[70]=di[70]=1,tn[70]=an[70]=17,Re[100]=di[100]=1,tn[100]=an[100]=17,Fe[34]=Ye[34]=9,Re[34]=tn[34]=12,un[34]=yi[34]=21,an[34]=di[34]=22,Fe[136]=yi[136]=4,Re[136]=di[136]=1,tn[136]=an[136]=17,Ye[136]=un[136]=18,Fe[35]=yi[35]=4,Re[35]=tn[35]=12,Ye[35]=un[35]=18,an[35]=di[35]=22,Fe[153]=yi[153]=4,Ye[153]=un[153]=18,Re[102]=tn[102]=12,an[102]=di[102]=22,Fe[155]=Ye[155]=9,un[155]=yi[155]=23,Re[103]=di[103]=1,tn[103]=an[103]=17,Fe[152]=yi[152]=4,tn[152]=an[152]=17,Ye[152]=un[152]=18,Fe[156]=tn[156]=8,Ye[156]=un[156]=18,an[156]=yi[156]=23,Fe[137]=yi[137]=4,Re[137]=di[137]=1,Ye[137]=un[137]=18,Fe[139]=yi[139]=4,Re[139]=Ye[139]=13,un[139]=di[139]=20,Fe[98]=Ye[98]=9,Re[98]=tn[98]=12,an[98]=di[98]=22,Fe[99]=di[99]=0,Re[99]=tn[99]=12,Ye[99]=an[99]=19,Re[38]=tn[38]=12,un[38]=yi[38]=21,an[38]=di[38]=22,Re[39]=yi[39]=5,tn[39]=un[39]=16,an[39]=di[39]=22;var Me=[];function sE(t,n,e){return function gnt(t){return(t>0)-(t<0)||+t}((n[0]-t[0])*(e[1]-n[1])-(e[0]-n[0])*(n[1]-t[1]))}function ck(t,n){return n.geometry.coordinates[0].every(function(e){return Gu(zc(e),t)})}Me[1]=Me[169]=Xx,Me[4]=Me[166]=Jx,Me[16]=Me[154]=Kx,Me[64]=Me[106]=Qx,Me[168]=Me[2]=tE,Me[162]=Me[8]=eE,Me[138]=Me[32]=nE,Me[42]=Me[128]=iE,Me[5]=Me[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Me[20]=Me[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Me[80]=Me[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Me[65]=Me[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Me[160]=Me[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Me[130]=Me[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Me[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Me[101]=Me[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Me[149]=Me[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Me[86]=Me[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Me[89]=Me[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Me[96]=Me[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Me[24]=Me[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Me[6]=Me[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Me[129]=Me[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Me[66]=Me[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Me[144]=Me[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Me[36]=Me[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Me[9]=Me[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Me[37]=Me[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Me[148]=Me[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Me[82]=Me[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Me[73]=Me[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Me[145]=Me[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Me[70]=Me[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Me[34]=function(t){return[iE(t),eE(t)]},Me[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Me[136]=function(t){return[nE(t),tE(t)]},Me[153]=function(t){return[Kx(t),Xx(t)]},Me[102]=function(t){return[Jx(t),Qx(t)]},Me[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Me[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Me[152]=function(t){return[Kx(t),tE(t)]},Me[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Me[137]=function(t){return[nE(t),Xx(t)]},Me[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Me[98]=function(t){return[eE(t),Qx(t)]},Me[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Me[38]=function(t){return[Jx(t),iE(t)]},Me[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};const hk=function(){function t(n){this.id=t.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(n){return n.join(",")},t.prototype.removeInnerEdge=function(n){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==n.from.id})},t.prototype.removeOuterEdge=function(n){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==n.to.id})},t.prototype.addOuterEdge=function(n){this.outerEdges.push(n),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var n=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,i){var r=e.to,o=i.to;if(r.coordinates[0]-n.coordinates[0]>=0&&o.coordinates[0]-n.coordinates[0]<0)return 1;if(r.coordinates[0]-n.coordinates[0]<0&&o.coordinates[0]-n.coordinates[0]>=0)return-1;if(r.coordinates[0]-n.coordinates[0]==0&&o.coordinates[0]-n.coordinates[0]==0)return r.coordinates[1]-n.coordinates[1]>=0||o.coordinates[1]-n.coordinates[1]>=0?r.coordinates[1]-o.coordinates[1]:o.coordinates[1]-r.coordinates[1];var s=sE(n.coordinates,r.coordinates,o.coordinates);return s<0?1:s>0?-1:Math.pow(r.coordinates[0]-n.coordinates[0],2)+Math.pow(r.coordinates[1]-n.coordinates[1],2)-(Math.pow(o.coordinates[0]-n.coordinates[0],2)+Math.pow(o.coordinates[1]-n.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(n){return this.sortOuterEdges(),this.outerEdges[n]},t.prototype.addInnerEdge=function(n){this.innerEdges.push(n)},t}(),bnt=function(){function t(n,e){this.from=n,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(n){return this.from.id===n.from.id&&this.to.id===n.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return Nv([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(n){return sE(n.from.coordinates,n.to.coordinates,this.to.coordinates)},t}(),xnt=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(n){this.edges.push(n),this.polygon=this.envelope=void 0},t.prototype.get=function(n){return this.edges[n]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(n){this.edges.forEach(n)},t.prototype.map=function(n){return this.edges.map(n)},t.prototype.some=function(n){return this.edges.some(n)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var n=this,e=this.edges.reduce(function(s,u,c){return u.from.coordinates[1]>n.edges[s].from.coordinates[1]&&(s=c),s},0),i=(0===e?this.length:e)-1,r=(e+1)%this.length,o=sE(this.edges[i].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[i].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return Ox(this.edges.map(function(n){return n.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var n=this.edges.map(function(e){return e.from.coordinates});return n.push(this.edges[0].from.coordinates),this.polygon=od([n])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function xtt(t){return function wtt(t,n){void 0===n&&(n={});var e=Number(t[0]),i=Number(t[1]),r=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,i];return od([[s,[r,i],[r,o],[e,o],s]],n.properties,{bbox:t,id:n.id})}(Su(t))}(this.toPolygon())},t.findEdgeRingContaining=function(n,e){var r,o,i=n.getEnvelope();return e.forEach(function(s){var u=s.getEnvelope();if(o&&(r=o.getEnvelope()),!function mnt(t,n){var e=t.geometry.coordinates[0].map(function(s){return s[0]}),i=t.geometry.coordinates[0].map(function(s){return s[1]}),r=n.geometry.coordinates[0].map(function(s){return s[0]}),o=n.geometry.coordinates[0].map(function(s){return s[1]});return Math.max.apply(null,e)===Math.max.apply(null,r)&&Math.max.apply(null,i)===Math.max.apply(null,o)&&Math.min.apply(null,e)===Math.min.apply(null,r)&&Math.min.apply(null,i)===Math.min.apply(null,o)}(u,i)&&ck(u,i)){for(var c=n.map(function(E){return E.from.coordinates}),h=void 0,p=function(E){s.some(function(D){return function _nt(t,n){return t[0]===n[0]&&t[1]===n[1]}(E,D.from.coordinates)})||(h=E)},m=0,v=c;m<v.length;m++)p(v[m]);h&&s.inside(zc(h))&&(!o||ck(r,u))&&(o=s)}}),o},t.prototype.inside=function(n){return Gu(n,this.toPolygon())},t}();function bk(t){for(var n=t,e=[];n.parent;)e.unshift(n),n=n.parent;return e}!function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(n){!function Ent(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(n);var e=new t;return function Av(t,n){ad(t,function(e,i,r,o,s){var c,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==n(bl(e,r,{bbox:o,id:s}),i,0)&&void 0}switch(u){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var h=0;h<e.coordinates.length;h++)if(!1===n(bl({type:c,coordinates:e.coordinates[h]},r),i,h))return!1})}(n,function(i){(function UQ(t,n,e){if(!t)throw new Error("No feature passed");if(!e)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!t.geometry||t.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.geometry.type)})(i,"LineString","Graph::fromGeoJson"),function kQ(t,n,e,i){var r=e;sd(t,function(o,s,u,c,h){r=0===s&&void 0===e?o:n(r,o,s,u,c,h)},i)}(i,function(r,o){if(r){var s=e.getNode(r),u=e.getNode(o);e.addEdge(s,u)}return o})}),e},t.prototype.getNode=function(n){var e=hk.buildId(n),i=this.nodes[e];return i||(i=this.nodes[e]=new hk(n)),i},t.prototype.addEdge=function(n,e){var i=new bnt(n,e),r=i.getSymetric();this.edges.push(i),this.edges.push(r)},t.prototype.deleteDangles=function(){var n=this;Object.keys(this.nodes).map(function(e){return n.nodes[e]}).forEach(function(e){return n._removeIfDangle(e)})},t.prototype._removeIfDangle=function(n){var e=this;if(n.innerEdges.length<=1){var i=n.getOuterEdges().map(function(r){return r.to});this.removeNode(n),i.forEach(function(r){return e._removeIfDangle(r)})}},t.prototype.deleteCutEdges=function(){var n=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(n.removeEdge(e.symetric),n.removeEdge(e))})},t.prototype._computeNextCWEdges=function(n){var e=this;typeof n>"u"?Object.keys(this.nodes).forEach(function(i){return e._computeNextCWEdges(e.nodes[i])}):n.getOuterEdges().forEach(function(i,r){n.getOuterEdge((0===r?n.getOuterEdges().length:r)-1).symetric.next=i})},t.prototype._computeNextCCWEdges=function(n,e){for(var r,o,i=n.getOuterEdges(),s=i.length-1;s>=0;--s){var u=i[s],c=u.symetric,h=void 0,p=void 0;u.label===e&&(h=u),c.label===e&&(p=c),h&&p&&(p&&(o=p),h&&(o&&(o.next=h,o=void 0),r||(r=h)))}o&&(o.next=r)},t.prototype._findLabeledEdgeRings=function(){var n=[],e=0;return this.edges.forEach(function(i){if(!(i.label>=0)){n.push(i);var r=i;do{r.label=e,r=r.next}while(!i.isEqual(r));e++}}),n},t.prototype.getEdgeRings=function(){var n=this;this._computeNextCWEdges(),this.edges.forEach(function(i){i.label=void 0}),this._findLabeledEdgeRings().forEach(function(i){n._findIntersectionNodes(i).forEach(function(r){n._computeNextCCWEdges(r,i.label)})});var e=[];return this.edges.forEach(function(i){i.ring||e.push(n._findEdgeRing(i))}),e},t.prototype._findIntersectionNodes=function(n){var e=[],i=n,r=function(){var o=0;i.from.getOuterEdges().forEach(function(s){s.label===n.label&&++o}),o>1&&e.push(i.from),i=i.next};do{r()}while(!n.isEqual(i));return e},t.prototype._findEdgeRing=function(n){var e=n,i=new xnt;do{i.push(e),e.ring=i,e=e.next}while(!n.isEqual(e));return i},t.prototype.removeNode=function(n){var e=this;n.getOuterEdges().forEach(function(i){return e.removeEdge(i)}),n.innerEdges.forEach(function(i){return e.removeEdge(i)}),delete this.nodes[n.id]},t.prototype.removeEdge=function(n){this.edges=this.edges.filter(function(e){return!e.isEqual(n)}),n.deleteEdge()}}(),$(3198),$(3367),$(3282);var Uv={search:function(t,n,e,i){t.cleanDirty();var r=(i=i||{}).heuristic||Uv.heuristics.manhattan,o=i.closest||!1,s=function Vnt(){return new wk(function(t){return t.f})}(),u=n;for(n.h=r(n,e),s.push(n);s.size()>0;){var c=s.pop();if(c===e)return bk(c);c.closed=!0;for(var h=t.neighbors(c),p=0,m=h.length;p<m;++p){var v=h[p];if(!v.closed&&!v.isWall()){var b=c.g+v.getCost(c),E=v.visited;(!E||b<v.g)&&(v.visited=!0,v.parent=c,v.h=v.h||r(v,e),v.g=b,v.f=v.g+v.h,t.markDirty(v),o&&(v.h<u.h||v.h===u.h&&v.g<u.g)&&(u=v),E?s.rescoreElement(v):s.push(v))}}}return o?bk(u):[]},heuristics:{manhattan:function(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},diagonal:function(t,n){var i=Math.sqrt(2),r=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y);return 1*(r+o)+(i-2)*Math.min(r,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function cd(t,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var e=0;e<t.length;e++){this.grid[e]=[];for(var i=0,r=t[e];i<r.length;i++){var o=new Gv(e,i,r[i]);this.grid[e][i]=o,this.nodes.push(o)}}this.init()}function Gv(t,n,e){this.x=t,this.y=n,this.weight=e}function wk(t){this.content=[],this.scoreFunction=t}function xk(t){return function(){return t}}function jnt(t){return t[0]}function Hnt(t){return t[1]}function uE(){this._=null}function $v(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function yg(t,n){var e=n,i=n.R,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function bg(t,n){var e=n,i=n.L,r=e.U;r?r.L===e?r.L=i:r.R=i:t._=i,i.U=r,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function Ek(t){for(;t.L;)t=t.L;return t}cd.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Uv.cleanNode(this.nodes[t])},cd.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Uv.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},cd.prototype.markDirty=function(t){this.dirtyNodes.push(t)},cd.prototype.neighbors=function(t){var n=[],e=t.x,i=t.y,r=this.grid;return r[e-1]&&r[e-1][i]&&n.push(r[e-1][i]),r[e+1]&&r[e+1][i]&&n.push(r[e+1][i]),r[e]&&r[e][i-1]&&n.push(r[e][i-1]),r[e]&&r[e][i+1]&&n.push(r[e][i+1]),this.diagonal&&(r[e-1]&&r[e-1][i-1]&&n.push(r[e-1][i-1]),r[e+1]&&r[e+1][i-1]&&n.push(r[e+1][i-1]),r[e-1]&&r[e-1][i+1]&&n.push(r[e-1][i+1]),r[e+1]&&r[e+1][i+1]&&n.push(r[e+1][i+1])),n},cd.prototype.toString=function(){for(var e,i,r,o,t=[],n=this.grid,s=0,u=n.length;s<u;s++){for(e=[],r=0,o=(i=n[s]).length;r<o;r++)e.push(i[r].weight);t.push(e.join(" "))}return t.join("\n")},Gv.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Gv.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Gv.prototype.isWall=function(){return 0===this.weight},wk.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},remove:function(t){var n=this.content.indexOf(t),e=this.content.pop();n!==this.content.length-1&&(this.content[n]=e,this.scoreFunction(e)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var n=this.content[t];t>0;){var e=(t+1>>1)-1,i=this.content[e];if(!(this.scoreFunction(n)<this.scoreFunction(i)))break;this.content[e]=n,this.content[t]=i,t=e}},bubbleUp:function(t){for(var n=this.content.length,e=this.content[t],i=this.scoreFunction(e);;){var u,r=t+1<<1,o=r-1,s=null;if(o<n&&(u=this.scoreFunction(this.content[o]))<i&&(s=o),r<n&&this.scoreFunction(this.content[r])<(null===s?i:u)&&(s=r),null===s)break;this.content[t]=this.content[s],this.content[s]=e,t=s}}},uE.prototype={constructor:uE,insert:function(t,n){var e,i,r;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Ek(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(i=e.U).L?(r=i.R)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.R&&(yg(this,e),e=(t=e).U),e.C=!1,i.C=!0,bg(this,i)):(r=i.L)&&r.C?(e.C=r.C=!1,i.C=!0,t=i):(t===e.L&&(bg(this,e),e=(t=e).U),e.C=!1,i.C=!0,yg(this,i)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,o,s,n=t.U,i=t.L,r=t.R;if(o=i?r?Ek(r):i:r,n?n.L===t?n.L=o:n.R=o:this._=o,i&&r?(s=o.C,o.C=t.C,o.L=i,i.U=o,o!==r?(n=o.U,o.U=t.U,n.L=t=o.R,o.R=r,r.U=o):(o.U=n,n=o,t=o.R)):(s=t.C,t=o),t&&(t.U=n),!s){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===n.L){if((e=n.R).C&&(e.C=!1,n.C=!0,yg(this,n),e=n.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,bg(this,e),e=n.R),e.C=n.C,n.C=e.R.C=!1,yg(this,n),t=this._;break}}else if((e=n.L).C&&(e.C=!1,n.C=!0,bg(this,n),e=n.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,yg(this,e),e=n.L),e.C=n.C,n.C=e.L.C=!1,bg(this,n),t=this._;break}e.C=!0,t=n,n=n.U}while(!t.C);t&&(t.C=!1)}}};const Ck=uE;function wg(t,n,e,i){var r=[null,null],o=Xs.push(r)-1;return r.left=t,r.right=n,e&&qv(r,t,n,e),i&&qv(r,n,t,i),Ka[t.index].halfedges.push(o),Ka[n.index].halfedges.push(o),r}function xg(t,n,e){var i=[n,e];return i.left=t,i}function qv(t,n,e,i){t[0]||t[1]?t.left===e?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=e)}function Unt(t,n,e,i,r){var D,o=t[0],s=t[1],u=o[0],c=o[1],m=0,v=1,b=s[0]-u,E=s[1]-c;if(D=n-u,b||!(D>0)){if(D/=b,b<0){if(D<m)return;D<v&&(v=D)}else if(b>0){if(D>v)return;D>m&&(m=D)}if(D=i-u,b||!(D<0)){if(D/=b,b<0){if(D>v)return;D>m&&(m=D)}else if(b>0){if(D<m)return;D<v&&(v=D)}if(D=e-c,E||!(D>0)){if(D/=E,E<0){if(D<m)return;D<v&&(v=D)}else if(E>0){if(D>v)return;D>m&&(m=D)}if(D=r-c,E||!(D<0)){if(D/=E,E<0){if(D>v)return;D>m&&(m=D)}else if(E>0){if(D<m)return;D<v&&(v=D)}return!(m>0)&&!(v<1)||(m>0&&(t[0]=[u+m*b,c+m*E]),v<1&&(t[1]=[u+v*b,c+v*E])),!0}}}}}function Gnt(t,n,e,i,r){var o=t[1];if(o)return!0;var D,I,s=t[0],u=t.left,c=t.right,h=u[0],p=u[1],m=c[0],v=c[1],b=(h+m)/2;if(v===p){if(b<n||b>=i)return;if(h>m){if(s){if(s[1]>=r)return}else s=[b,e];o=[b,r]}else{if(s){if(s[1]<e)return}else s=[b,r];o=[b,e]}}else if(I=(p+v)/2-(D=(h-m)/(v-p))*b,D<-1||D>1)if(h>m){if(s){if(s[1]>=r)return}else s=[(e-I)/D,e];o=[(r-I)/D,r]}else{if(s){if(s[1]<e)return}else s=[(r-I)/D,r];o=[(e-I)/D,e]}else if(p<v){if(s){if(s[0]>=i)return}else s=[n,D*n+I];o=[i,D*i+I]}else{if(s){if(s[0]<n)return}else s=[i,D*i+I];o=[n,D*n+I]}return t[0]=s,t[1]=o,!0}function Wnt(t,n){var e=t.site,i=n.left,r=n.right;return e===r&&(r=i,i=e),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(e===i?(i=n[1],r=n[0]):(i=n[0],r=n[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Dk(t,n){return n[+(n.left!==t.site)]}function Ynt(t,n){return n[+(n.left===t.site)]}var lE,Sk=[];function Jnt(){$v(this),this.x=this.y=this.arc=this.site=this.cy=null}function hd(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,r=t.site,o=e.site;if(i!==o){var s=r[0],u=r[1],c=i[0]-s,h=i[1]-u,p=o[0]-s,m=o[1]-u,v=2*(c*m-h*p);if(!(v>=-nit)){var b=c*c+h*h,E=p*p+m*m,D=(m*b-h*E)/v,I=(c*E-p*b)/v,T=Sk.pop()||new Jnt;T.arc=t,T.site=r,T.x=D+s,T.y=(T.cy=I+u)+Math.sqrt(D*D+I*I),t.circle=T;for(var M=null,A=Eg._;A;)if(T.y<A.y||T.y===A.y&&T.x<=A.x){if(!A.L){M=A.P;break}A=A.L}else{if(!A.R){M=A;break}A=A.R}Eg.insert(M,T),M||(lE=T)}}}}function fd(t){var n=t.circle;n&&(n.P||(lE=n.N),Eg.remove(n),Sk.push(n),$v(n),t.circle=null)}var Mk=[];function Knt(){$v(this),this.edge=this.site=this.circle=null}function Ik(t){var n=Mk.pop()||new Knt;return n.site=t,n}function cE(t){fd(t),dd.remove(t),Mk.push(t),$v(t)}function Qnt(t){var n=t.circle,e=n.x,i=n.cy,r=[e,i],o=t.P,s=t.N,u=[t];cE(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<xr&&Math.abs(i-c.circle.cy)<xr;)o=c.P,u.unshift(c),cE(c),c=o;u.unshift(c),fd(c);for(var h=s;h.circle&&Math.abs(e-h.circle.x)<xr&&Math.abs(i-h.circle.cy)<xr;)s=h.N,u.push(h),cE(h),h=s;u.push(h),fd(h);var m,p=u.length;for(m=1;m<p;++m)qv((h=u[m]).edge,(c=u[m-1]).site,h.site,r);(h=u[p-1]).edge=wg((c=u[0]).site,h.site,null,r),hd(c),hd(h)}function tit(t){for(var i,r,o,s,n=t[0],e=t[1],u=dd._;u;)if((o=Tk(u,e)-n)>xr)u=u.L;else{if(!((s=n-eit(u,e))>xr)){o>-xr?(i=u.P,r=u):s>-xr?(i=u,r=u.N):i=r=u;break}if(!u.R){i=u;break}u=u.R}!function qnt(t){Ka[t.index]={site:t,halfedges:[]}}(t);var c=Ik(t);if(dd.insert(i,c),i||r){if(i===r)return fd(i),r=Ik(i.site),dd.insert(c,r),c.edge=r.edge=wg(i.site,c.site),hd(i),void hd(r);if(!r)return void(c.edge=wg(i.site,c.site));fd(i),fd(r);var h=i.site,p=h[0],m=h[1],v=t[0]-p,b=t[1]-m,E=r.site,D=E[0]-p,I=E[1]-m,T=2*(v*I-b*D),M=v*v+b*b,A=D*D+I*I,U=[(I*M-b*A)/T+p,(v*A-D*M)/T+m];qv(r.edge,h,E,U),c.edge=wg(h,t,null,U),r.edge=wg(t,E,null,U),hd(i),hd(r)}}function Tk(t,n){var e=t.site,i=e[0],r=e[1],o=r-n;if(!o)return i;var s=t.P;if(!s)return-1/0;var u=(e=s.site)[0],c=e[1],h=c-n;if(!h)return u;var p=u-i,m=1/o-1/h,v=p/h;return m?(-v+Math.sqrt(v*v-2*m*(p*p/(-2*h)-c+h/2+r-o/2)))/m+i:(i+u)/2}function eit(t,n){var e=t.N;if(e)return Tk(e,n);var i=t.site;return i[1]===n?i[0]:1/0}var dd,Ka,Eg,Xs,xr=1e-6,nit=1e-12;function iit(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function rit(t,n){return n[1]-t[1]||n[0]-t[0]}function hE(t,n){var i,r,o,e=t.sort(rit).pop();for(Xs=[],Ka=new Array(t.length),dd=new Ck,Eg=new Ck;;)if(o=lE,e&&(!o||e[1]<o.y||e[1]===o.y&&e[0]<o.x))(e[0]!==i||e[1]!==r)&&(tit(e),i=e[0],r=e[1]),e=t.pop();else{if(!o)break;Qnt(o.arc)}if(function Znt(){for(var e,i,r,o,t=0,n=Ka.length;t<n;++t)if((e=Ka[t])&&(o=(i=e.halfedges).length)){var s=new Array(o),u=new Array(o);for(r=0;r<o;++r)s[r]=r,u[r]=Wnt(e,Xs[i[r]]);for(s.sort(function(c,h){return u[h]-u[c]}),r=0;r<o;++r)u[r]=i[s[r]];for(r=0;r<o;++r)i[r]=u[r]}}(),n){var s=+n[0][0],u=+n[0][1],c=+n[1][0],h=+n[1][1];(function $nt(t,n,e,i){for(var o,r=Xs.length;r--;)Gnt(o=Xs[r],t,n,e,i)&&Unt(o,t,n,e,i)&&(Math.abs(o[0][0]-o[1][0])>xr||Math.abs(o[0][1]-o[1][1])>xr)||delete Xs[r]})(s,u,c,h),function Xnt(t,n,e,i){var o,s,u,c,h,p,m,v,b,E,D,I,r=Ka.length,T=!0;for(o=0;o<r;++o)if(s=Ka[o]){for(u=s.site,c=(h=s.halfedges).length;c--;)Xs[h[c]]||h.splice(c,1);for(c=0,p=h.length;c<p;)D=(E=Ynt(s,Xs[h[c]]))[0],I=E[1],v=(m=Dk(s,Xs[h[++c%p]]))[0],b=m[1],(Math.abs(D-v)>xr||Math.abs(I-b)>xr)&&(h.splice(c,0,Xs.push(xg(u,E,Math.abs(D-t)<xr&&i-I>xr?[t,Math.abs(v-t)<xr?b:i]:Math.abs(I-i)<xr&&e-D>xr?[Math.abs(b-i)<xr?v:e,i]:Math.abs(D-e)<xr&&I-n>xr?[e,Math.abs(v-e)<xr?b:n]:Math.abs(I-n)<xr&&D-t>xr?[Math.abs(b-n)<xr?v:t,n]:null))-1),++p);p&&(T=!1)}if(T){var M,A,U,z=1/0;for(o=0,T=null;o<r;++o)(s=Ka[o])&&(U=(M=(u=s.site)[0]-t)*M+(A=u[1]-n)*A)<z&&(z=U,T=s);if(T){var ct=[t,n],pt=[t,i],mt=[e,i],it=[e,n];T.halfedges.push(Xs.push(xg(u=T.site,ct,pt))-1,Xs.push(xg(u,pt,mt))-1,Xs.push(xg(u,mt,it))-1,Xs.push(xg(u,it,ct))-1)}}for(o=0;o<r;++o)(s=Ka[o])&&(s.halfedges.length||delete Ka[o])}(s,u,c,h)}this.edges=Xs,this.cells=Ka,dd=Eg=Xs=Ka=null}function sit(t){return(t=t.slice()).push(t[0]),od([t])}hE.prototype={constructor:hE,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(i){return Dk(n,t[i])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,i){if(u=(o=e.halfedges).length)for(var o,u,c,r=e.site,s=-1,h=n[o[u-1]],p=h.left===r?h.right:h.left;++s<u;)c=p,p=(h=n[o[s]]).left===r?h.right:h.left,c&&p&&i<c.index&&i<p.index&&iit(r,c,p)<0&&t.push([r.data,c.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,u,i=this,o=i._found||0,s=i.cells.length;!(u=i.cells[o]);)if(++o>=s)return null;var c=t-u.site[0],h=n-u.site[1],p=c*c+h*h;do{u=i.cells[r=o],o=null,u.halfedges.forEach(function(m){var v=i.edges[m],b=v.left;if(b!==u.site&&b||(b=v.right)){var E=t-b[0],D=n-b[1],I=E*E+D*D;I<p&&(p=I,o=b.index)}})}while(null!==o);return i._found=r,null==e||p<=e*e?u.site:null}};function fE(t){return Array.isArray(t)?Bk(t):t&&t.bbox?Bk(t.bbox):[360*Fk(),180*Fk()]}function Wv(t,n){void 0===n&&(n={}),null==t&&(t=1);for(var e=[],i=0;i<t;i++)e.push(zc(fE(n.bbox)));return wl(e)}function Fk(){return Math.random()-.5}function Bk(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var wit=$(8464),dE=$(4855);function jc(){return new Yv}function Yv(){this.reset()}Yv.prototype={constructor:Yv,reset:function(){this.s=this.t=0},add:function(t){zk(Zv,t,this.t),zk(this,Zv.s,this.s),this.s?this.t+=Zv.t:this.s=Zv.t},valueOf:function(){return this.s}};var Zv=new Yv;function zk(t,n,e){var i=t.s=n+e,r=i-n;t.t=n-(i-r)+(e-r)}var Ji=1e-6,Wi=Math.PI,Pa=Wi/2,Xv=Wi/4,Qa=2*Wi,$u=180/Wi,Oi=Wi/180,no=Math.abs,Cg=Math.atan,ec=Math.atan2,Mn=Math.cos,xn=(Math,Math,Math,Math,Math,Math.sin),Iu=(Math,Math.sqrt);Math;function Gk(t){return t>1?0:t<-1?Wi:Math.acos(t)}function nc(t){return t>1?Pa:t<-1?-Pa:Math.asin(t)}function go(){}function Jv(t,n){t&&qk.hasOwnProperty(t.type)&&qk[t.type](t,n)}var $k={Feature:function(t,n){Jv(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)Jv(e[i].geometry,n)}},qk={Sphere:function(t,n){n.sphere()},Point:function(t,n){n.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)n.point((t=e[i])[0],t[1],t[2])},LineString:function(t,n){pE(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)pE(e[i],n,0)},Polygon:function(t,n){Wk(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Wk(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)Jv(e[i],n)}};function pE(t,n,e){var o,i=-1,r=t.length-e;for(n.lineStart();++i<r;)n.point((o=t[i])[0],o[1],o[2]);n.lineEnd()}function Wk(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)pE(t[e],n,1);n.polygonEnd()}function ty(t){return[ec(t[1],t[0]),nc(t[2])]}function Th(t){var n=t[0],e=t[1],i=Mn(e);return[i*Mn(n),i*xn(n),xn(e)]}function ey(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function pd(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function vE(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ny(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function iy(t){var n=Iu(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function cF(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return(i=n.invert(i,r))&&t.invert(i[0],i[1])}),e}function CE(t,n){return[t>Wi?t-Qa:t<-Wi?t+Qa:t,n]}function fF(t){return function(n,e){return[(n+=t)>Wi?n-Qa:n<-Wi?n+Qa:n,e]}}function dF(t){var n=fF(t);return n.invert=fF(-t),n}function pF(t,n){var e=Mn(t),i=xn(t),r=Mn(n),o=xn(n);function s(u,c){var h=Mn(c),p=Mn(u)*h,m=xn(u)*h,v=xn(c),b=v*e+p*i;return[ec(m*r-b*o,p*e-v*i),nc(b*r+m*o)]}return s.invert=function(u,c){var h=Mn(c),p=Mn(u)*h,m=xn(u)*h,v=xn(c),b=v*r-m*o;return[ec(m*r+v*o,p*e+b*i),nc(b*e-p*i)]},s}function mF(t,n){(n=Th(n))[0]-=t,iy(n);var e=Gk(-n[1]);return((-n[2]<0?-e:e)+Qa-Ji)%Qa}function _F(){var n,t=[];return{point:function(e,i){n.push([e,i])},lineStart:function(){t.push(n=[])},lineEnd:go,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function hy(t,n){return no(t[0]-n[0])<Ji&&no(t[1]-n[1])<Ji}function fy(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function vF(t,n,e,i,r){var u,c,o=[],s=[];if(t.forEach(function(E){if(!((D=E.length-1)<=0)){var D,M,I=E[0],T=E[D];if(hy(I,T)){for(r.lineStart(),u=0;u<D;++u)r.point((I=E[u])[0],I[1]);return void r.lineEnd()}o.push(M=new fy(I,E,null,!0)),s.push(M.o=new fy(I,null,M,!1)),o.push(M=new fy(T,E,null,!1)),s.push(M.o=new fy(T,null,M,!0))}}),o.length){for(s.sort(n),yF(o),yF(s),u=0,c=s.length;u<c;++u)s[u].e=e=!e;for(var p,m,h=o[0];;){for(var v=h,b=!0;v.v;)if((v=v.n)===h)return;p=v.z,r.lineStart();do{if(v.v=v.o.v=!0,v.e){if(b)for(u=0,c=p.length;u<c;++u)r.point((m=p[u])[0],m[1]);else i(v.x,v.n.x,1,r);v=v.n}else{if(b)for(u=(p=v.p.z).length-1;u>=0;--u)r.point((m=p[u])[0],m[1]);else i(v.x,v.p.x,-1,r);v=v.p}p=(v=v.o).z,b=!b}while(!v.v);r.lineEnd()}}}function yF(t){if(n=t.length){for(var n,r,e=0,i=t[0];++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function bF(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function EF(t){for(var e,o,s,n=t.length,i=-1,r=0;++i<n;)r+=t[i].length;for(o=new Array(r);--n>=0;)for(e=(s=t[n]).length;--e>=0;)o[--r]=s[e];return o}jc(),jc(),jc(),CE.invert=CE,function Rit(t){1===t.length&&(t=function Lit(t){return function(n,e){return bF(t(n),e)}}(t))}(bF),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Ig=1e9,dy=-Ig;var IE=jc();jc(),jc(),jc();var _d=1/0,vy=_d,Tg=-_d,yy=Tg;const FF={point:function Zit(t,n){t<_d&&(_d=t),t>Tg&&(Tg=t),n<vy&&(vy=n),n>yy&&(yy=n)},lineStart:go,lineEnd:go,polygonStart:go,polygonEnd:go,result:function(){var t=[[_d,vy],[Tg,yy]];return Tg=yy=-(vy=_d=1/0),t}};function WF(t,n,e,i){return function(r,o){var m,v,b,s=n(o),u=r.invert(i[0],i[1]),c=_F(),h=n(c),p=!1,E={point:D,lineStart:T,lineEnd:M,polygonStart:function(){E.point=A,E.lineStart=U,E.lineEnd=z,v=[],m=[]},polygonEnd:function(){E.point=D,E.lineStart=T,E.lineEnd=M,v=EF(v);var ct=function DF(t,n){var e=n[0],i=n[1],r=[xn(e),-Mn(e),0],o=0,s=0;IE.reset();for(var u=0,c=t.length;u<c;++u)if(p=(h=t[u]).length)for(var h,p,m=h[p-1],v=m[0],b=m[1]/2+Xv,E=xn(b),D=Mn(b),I=0;I<p;++I,v=M,E=U,D=z,m=T){var T=h[I],M=T[0],A=T[1]/2+Xv,U=xn(A),z=Mn(A),ct=M-v,pt=ct>=0?1:-1,mt=pt*ct,it=mt>Wi,re=E*U;if(IE.add(ec(re*pt*xn(mt),D*z+re*Mn(mt))),o+=it?ct+pt*Qa:ct,it^v>=e^M>=e){var ee=pd(Th(m),Th(T));iy(ee);var de=pd(r,ee);iy(de);var Ie=(it^ct>=0?-1:1)*nc(de[2]);(i>Ie||i===Ie&&(ee[0]||ee[1]))&&(s+=it^ct>=0?1:-1)}}return(o<-Ji||o<Ji&&IE<-Ji)^1&s}(m,u);v.length?(p||(o.polygonStart(),p=!0),vF(v,ort,ct,e,o)):ct&&(p||(o.polygonStart(),p=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),v=m=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function D(ct,pt){var mt=r(ct,pt);t(ct=mt[0],pt=mt[1])&&o.point(ct,pt)}function I(ct,pt){var mt=r(ct,pt);s.point(mt[0],mt[1])}function T(){E.point=I,s.lineStart()}function M(){E.point=D,s.lineEnd()}function A(ct,pt){b.push([ct,pt]);var mt=r(ct,pt);h.point(mt[0],mt[1])}function U(){h.lineStart(),b=[]}function z(){A(b[0][0],b[0][1]),h.lineEnd();var mt,re,ee,de,ct=h.clean(),pt=c.result(),it=pt.length;if(b.pop(),m.push(b),b=null,it){if(1&ct){if((re=(ee=pt[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),mt=0;mt<re;++mt)o.point((de=ee[mt])[0],de[1]);o.lineEnd()}return}it>1&&2&ct&&pt.push(pt.pop().concat(pt.shift())),v.push(pt.filter(rrt))}}return E}}function rrt(t){return t.length>1}function ort(t,n){return((t=t.x)[0]<0?t[1]-Pa-Ji:Pa-t[1])-((n=n.x)[0]<0?n[1]-Pa-Ji:Pa-n[1])}jc(),function qF(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}(4.5);const YF=WF(function(){return!0},function srt(t){var r,n=NaN,e=NaN,i=NaN;return{lineStart:function(){t.lineStart(),r=1},point:function(o,s){var u=o>0?Wi:-Wi,c=no(o-n);no(c-Wi)<Ji?(t.point(n,e=(e+s)/2>0?Pa:-Pa),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(o,e),r=0):i!==u&&c>=Wi&&(no(n-i)<Ji&&(n-=i*Ji),no(o-u)<Ji&&(o-=u*Ji),e=function art(t,n,e,i){var r,o,s=xn(t-e);return no(s)>Ji?Cg((xn(n)*(o=Mn(i))*xn(e)-xn(i)*(r=Mn(n))*xn(t))/(r*o*s)):(n+i)/2}(n,e,o,s),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(u,e),r=0),t.point(n=o,e=s),i=u},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}},function urt(t,n,e,i){var r;if(null==t)i.point(-Wi,r=e*Pa),i.point(0,r),i.point(Wi,r),i.point(Wi,0),i.point(Wi,-r),i.point(0,-r),i.point(-Wi,-r),i.point(-Wi,0),i.point(-Wi,r);else if(no(t[0]-n[0])>Ji){var o=t[0]<n[0]?Wi:-Wi;i.point(-o,r=e*o/2),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])},[-Wi,-Pa]);function ZF(t){return t}function UE(t){return function(n){var e=new GE;for(var i in t)e[i]=t[i];return e.stream=n,e}}function GE(){}function XF(t,n,e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function Yk(t,n){t&&$k.hasOwnProperty(t.type)?$k[t.type](t,n):Jv(t,n)}(e,t.stream(FF));var s=FF.result(),u=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),c=+n[0][0]+(i-u*(s[1][0]+s[0][0]))/2,h=+n[0][1]+(r-u*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([c,h])}GE.prototype={constructor:GE,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var JF=16,hrt=Mn(30*Oi);function KF(t,n){return+n?function drt(t,n){function e(i,r,o,s,u,c,h,p,m,v,b,E,D,I){var T=h-i,M=p-r,A=T*T+M*M;if(A>4*n&&D--){var U=s+v,z=u+b,ct=c+E,pt=Iu(U*U+z*z+ct*ct),mt=nc(ct/=pt),it=no(no(ct)-1)<Ji||no(o-m)<Ji?(o+m)/2:ec(z,U),re=t(it,mt),ee=re[0],de=re[1],Ie=ee-i,oe=de-r,me=M*Ie-T*oe;(me*me/A>n||no((T*Ie+M*oe)/A-.5)>.3||s*v+u*b+c*E<hrt)&&(e(i,r,o,s,u,c,ee,de,it,U/=pt,z/=pt,ct,D,I),I.point(ee,de),e(ee,de,it,U,z,ct,h,p,m,v,b,E,D,I))}}return function(i){var r,o,s,u,c,h,p,m,v,b,E,D,I={point:T,lineStart:M,lineEnd:U,polygonStart:function(){i.polygonStart(),I.lineStart=z},polygonEnd:function(){i.polygonEnd(),I.lineStart=M}};function T(mt,it){mt=t(mt,it),i.point(mt[0],mt[1])}function M(){m=NaN,I.point=A,i.lineStart()}function A(mt,it){var re=Th([mt,it]),ee=t(mt,it);e(m,v,p,b,E,D,m=ee[0],v=ee[1],p=mt,b=re[0],E=re[1],D=re[2],JF,i),i.point(m,v)}function U(){I.point=T,i.lineEnd()}function z(){M(),I.point=ct,I.lineEnd=pt}function ct(mt,it){A(r=mt,it),o=m,s=v,u=b,c=E,h=D,I.point=A}function pt(){e(m,v,p,b,E,D,o,s,r,u,c,h,JF,i),I.lineEnd=U,U()}return I}}(t,n):function frt(t){return UE({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var prt=UE({point:function(t,n){this.stream.point(t*Oi,n*Oi)}});function grt(t){return function mrt(t){var n,o,s,v,b,T,M,A,pt,mt,e=150,i=480,r=250,u=0,c=0,h=0,p=0,m=0,E=null,D=YF,I=null,U=ZF,z=.5,ct=KF(ee,z);function it(oe){return[(oe=b(oe[0]*Oi,oe[1]*Oi))[0]*e+o,s-oe[1]*e]}function re(oe){return(oe=b.invert((oe[0]-o)/e,(s-oe[1])/e))&&[oe[0]*$u,oe[1]*$u]}function ee(oe,me){return[(oe=n(oe,me))[0]*e+o,s-oe[1]*e]}function de(){b=cF(v=function hF(t,n,e){return(t%=Qa)?n||e?cF(dF(t),pF(n,e)):dF(t):n||e?pF(n,e):CE}(h,p,m),n);var oe=n(u,c);return o=i-oe[0]*e,s=r+oe[1]*e,Ie()}function Ie(){return pt=mt=null,it}return it.stream=function(oe){return pt&&mt===oe?pt:pt=prt(D(v,ct(U(mt=oe))))},it.clipAngle=function(oe){return arguments.length?(D=+oe?function lrt(t,n){var e=Mn(t),i=e>0,r=no(e)>Ji;function s(p,m){return Mn(p)*Mn(m)>e}function c(p,m,v){var D=[1,0,0],I=pd(Th(p),Th(m)),T=ey(I,I),M=I[0],A=T-M*M;if(!A)return!v&&p;var U=e*T/A,z=-e*M/A,ct=pd(D,I),pt=ny(D,U);vE(pt,ny(I,z));var it=ct,re=ey(pt,it),ee=ey(it,it),de=re*re-ee*(ey(pt,pt)-1);if(!(de<0)){var Ie=Iu(de),oe=ny(it,(-re-Ie)/ee);if(vE(oe,pt),oe=ty(oe),!v)return oe;var He,me=p[0],le=m[0],je=p[1],hn=m[1];le<me&&(He=me,me=le,le=He);var Er=le-me,gr=no(Er-Wi)<Ji;if(!gr&&hn<je&&(He=je,je=hn,hn=He),gr||Er<Ji?gr?je+hn>0^oe[1]<(no(oe[0]-me)<Ji?je:hn):je<=oe[1]&&oe[1]<=hn:Er>Wi^(me<=oe[0]&&oe[0]<=le)){var kn=ny(it,(-re+Ie)/ee);return vE(kn,pt),[oe,ty(kn)]}}}function h(p,m){var v=i?t:Wi-t,b=0;return p<-v?b|=1:p>v&&(b|=2),m<-v?b|=4:m>v&&(b|=8),b}return WF(s,function u(p){var m,v,b,E,D;return{lineStart:function(){E=b=!1,D=1},point:function(I,T){var A,M=[I,T],U=s(I,T),z=i?U?0:h(I,T):U?h(I+(I<0?Wi:-Wi),T):0;if(!m&&(E=b=U)&&p.lineStart(),U!==b&&(!(A=c(m,M))||hy(m,A)||hy(M,A))&&(M[0]+=Ji,M[1]+=Ji,U=s(M[0],M[1])),U!==b)D=0,U?(p.lineStart(),A=c(M,m),p.point(A[0],A[1])):(A=c(m,M),p.point(A[0],A[1]),p.lineEnd()),m=A;else if(r&&m&&i^U){var ct;!(z&v)&&(ct=c(M,m,!0))&&(D=0,i?(p.lineStart(),p.point(ct[0][0],ct[0][1]),p.point(ct[1][0],ct[1][1]),p.lineEnd()):(p.point(ct[1][0],ct[1][1]),p.lineEnd(),p.lineStart(),p.point(ct[0][0],ct[0][1])))}U&&(!m||!hy(m,M))&&p.point(M[0],M[1]),m=M,b=U,v=z},lineEnd:function(){b&&p.lineEnd(),m=null},clean:function(){return D|(E&&b)<<1}}},function o(p,m,v,b){!function gF(t,n,e,i,r,o){if(e){var s=Mn(n),u=xn(n),c=i*e;null==r?(r=n+i*Qa,o=n-c/2):(r=mF(s,r),o=mF(s,o),(i>0?r<o:r>o)&&(r+=i*Qa));for(var h,p=r;i>0?p>o:p<o;p-=c)h=ty([s,-u*Mn(p),-u*xn(p)]),t.point(h[0],h[1])}}(b,t,n,v,p,m)},i?[0,-t]:[-Wi,t-Wi])}(E=oe*Oi,6*Oi):(E=null,YF),Ie()):E*$u},it.clipExtent=function(oe){return arguments.length?(U=null==oe?(I=T=M=A=null,ZF):function CF(t,n,e,i){function r(h,p){return t<=h&&h<=e&&n<=p&&p<=i}function o(h,p,m,v){var b=0,E=0;if(null==h||(b=s(h,m))!==(E=s(p,m))||c(h,p)<0^m>0)do{v.point(0===b||3===b?t:e,b>1?i:n)}while((b=(b+m+4)%4)!==E);else v.point(p[0],p[1])}function s(h,p){return no(h[0]-t)<Ji?p>0?0:3:no(h[0]-e)<Ji?p>0?2:1:no(h[1]-n)<Ji?p>0?1:0:p>0?3:2}function u(h,p){return c(h.x,p.x)}function c(h,p){var m=s(h,1),v=s(p,1);return m!==v?m-v:0===m?p[1]-h[1]:1===m?h[0]-p[0]:2===m?h[1]-p[1]:p[0]-h[0]}return function(h){var v,b,E,D,I,T,M,A,U,z,ct,p=h,m=_F(),pt={point:mt,lineStart:function de(){pt.point=oe,b&&b.push(E=[]),z=!0,U=!1,M=A=NaN},lineEnd:function Ie(){v&&(oe(D,I),T&&U&&m.rejoin(),v.push(m.result())),pt.point=mt,U&&p.lineEnd()},polygonStart:function re(){p=m,v=[],b=[],ct=!0},polygonEnd:function ee(){var me=function it(){for(var me=0,le=0,je=b.length;le<je;++le)for(var Ki,kn,hn=b[le],He=1,Er=hn.length,gr=hn[0],zn=gr[0],gi=gr[1];He<Er;++He)Ki=zn,kn=gi,zn=(gr=hn[He])[0],gi=gr[1],kn<=i?gi>i&&(zn-Ki)*(i-kn)>(gi-kn)*(t-Ki)&&++me:gi<=i&&(zn-Ki)*(i-kn)<(gi-kn)*(t-Ki)&&--me;return me}(),le=ct&&me,je=(v=EF(v)).length;(le||je)&&(h.polygonStart(),le&&(h.lineStart(),o(null,null,1,h),h.lineEnd()),je&&vF(v,u,me,o,h),h.polygonEnd()),p=h,v=b=E=null}};function mt(me,le){r(me,le)&&p.point(me,le)}function oe(me,le){var je=r(me,le);if(b&&E.push([me,le]),z)D=me,I=le,T=je,z=!1,je&&(p.lineStart(),p.point(me,le));else if(je&&U)p.point(me,le);else{var hn=[M=Math.max(dy,Math.min(Ig,M)),A=Math.max(dy,Math.min(Ig,A))],He=[me=Math.max(dy,Math.min(Ig,me)),le=Math.max(dy,Math.min(Ig,le))];!function Ait(t,n,e,i,r,o){var E,s=t[0],u=t[1],p=0,m=1,v=n[0]-s,b=n[1]-u;if(E=e-s,v||!(E>0)){if(E/=v,v<0){if(E<p)return;E<m&&(m=E)}else if(v>0){if(E>m)return;E>p&&(p=E)}if(E=r-s,v||!(E<0)){if(E/=v,v<0){if(E>m)return;E>p&&(p=E)}else if(v>0){if(E<p)return;E<m&&(m=E)}if(E=i-u,b||!(E>0)){if(E/=b,b<0){if(E<p)return;E<m&&(m=E)}else if(b>0){if(E>m)return;E>p&&(p=E)}if(E=o-u,b||!(E<0)){if(E/=b,b<0){if(E>m)return;E>p&&(p=E)}else if(b>0){if(E<p)return;E<m&&(m=E)}return p>0&&(t[0]=s+p*v,t[1]=u+p*b),m<1&&(n[0]=s+m*v,n[1]=u+m*b),!0}}}}}(hn,He,t,n,e,i)?je&&(p.lineStart(),p.point(me,le),ct=!1):(U||(p.lineStart(),p.point(hn[0],hn[1])),p.point(He[0],He[1]),je||p.lineEnd(),ct=!1)}M=me,A=le,U=je}return pt}}(I=+oe[0][0],T=+oe[0][1],M=+oe[1][0],A=+oe[1][1]),Ie()):null==I?null:[[I,T],[M,A]]},it.scale=function(oe){return arguments.length?(e=+oe,de()):e},it.translate=function(oe){return arguments.length?(i=+oe[0],r=+oe[1],de()):[i,r]},it.center=function(oe){return arguments.length?(u=oe[0]%360*Oi,c=oe[1]%360*Oi,de()):[u*$u,c*$u]},it.rotate=function(oe){return arguments.length?(h=oe[0]%360*Oi,p=oe[1]%360*Oi,m=oe.length>2?oe[2]%360*Oi:0,de()):[h*$u,p*$u,m*$u]},it.precision=function(oe){return arguments.length?(ct=KF(ee,z=oe*oe),Ie()):Iu(z)},it.fitExtent=function(oe,me){return XF(it,oe,me)},it.fitSize=function(oe,me){return function crt(t,n,e){return XF(t,[[0,0],n],e)}(it,oe,me)},function(){return n=t.apply(this,arguments),it.invert=n.invert&&re,de()}}(function(){return t})()}function QF(t){return function(n,e){var i=Mn(n),r=Mn(e),o=t(i*r);return[o*r*xn(n),o*xn(e)]}}function Rg(t){return function(n,e){var i=Iu(n*n+e*e),r=t(i),o=xn(r),s=Mn(r);return[ec(n*o,i*s),nc(i&&e*o/i)]}}QF(function(t){return Iu(2/(1+t))}).invert=Rg(function(t){return 2*nc(t/2)});var eB=QF(function(t){return(t=Gk(t))&&t/xn(t)});function qE(t,n){return[t,n]}function Cy(t,n,e,i){var r=t.properties||{},o="Feature"===t.type?t.geometry:t;if("GeometryCollection"===o.type){var s=[];return ad(t,function(D){var I=Cy(D,n,e,i);I&&s.push(I)}),wl(s)}var u=function Crt(t){var n=R2(t).geometry.coordinates,e=[-n[0],-n[1]];return function yrt(){return grt(eB).scale(79.4188).clipAngle(179.999)}().rotate(e).scale(Zs)}(o),c={type:o.type,coordinates:uB(o.coordinates,u)},p=(new dE.GeoJSONReader).read(c),m=Ax(function Rx(t,n){void 0===n&&(n="kilometers");var e=b2[n];if(!e)throw new Error(n+" units is invalid");return t/e}(n,e),"meters"),v=dE.BufferOp.bufferOp(p,m,i);if(!aB((v=(new dE.GeoJSONWriter).write(v)).coordinates))return bl({type:v.type,coordinates:lB(v.coordinates,u)},r)}function aB(t){return Array.isArray(t[0])?aB(t[0]):isNaN(t[0])}function uB(t,n){return"object"!=typeof t[0]?n(t):t.map(function(e){return uB(e,n)})}function lB(t,n){return"object"!=typeof t[0]?n.invert(t):t.map(function(e){return lB(e,n)})}eB.invert=Rg(function(t){return t}),qE.invert=qE,Rg(Cg),Rg(nc),Rg(function(t){return 2*Cg(t)});const Prt=JSON.parse('{"type":"FeatureCollection","name":"parcelle","crs":{"type":"name","properties":{"name":"urn:ogc:def:crs:OGC:1.3:CRS84"}},"features":[{"type":"Feature","properties":{"fid":21241,"foret":"STPBOIS","nom":"12","surf_sig":7.564542573995909,"sret":7.57},"geometry":{"type":"MultiPolygon","coordinates":[[[[7.373819626715166,48.34199661529481,0],[7.374151170334392,48.34194864943621,0],[7.37483139914043,48.34181143863801,0],[7.374977931565946,48.34178940383425,0],[7.375533300306692,48.34168005432608,0],[7.376322870890848,48.341538155918066,0],[7.376696229048546,48.34147713200277,0],[7.377850259534613,48.34125205587118,0],[7.3776776939746,48.341126555998954,0],[7.37721807666889,48.34084441708597,0],[7.376489412937089,48.34045216794366,0],[7.375825573193255,48.34007515774863,0],[7.375311280142816,48.33978634395598,0],[7.37508592777793,48.33965634261856,0],[7.374621552986749,48.33939466985999,0],[7.373951316222283,48.339056213989835,0],[7.373679254392298,48.33891469367481,0],[7.371883957494803,48.340216730876485,0],[7.371847636917154,48.34024305991565,0],[7.371586678994857,48.34042764512631,0],[7.372712421318872,48.34092682042204,0],[7.373594756488917,48.34130125882371,0],[7.373819626715166,48.34199661529481,0]]]]}}]}');var Ort=$.t(Prt,2);let WE=(()=>{class t{getSurfacePlacette(){return Math.round(Math.PI*this.rayonPlacette*this.rayonPlacette*100)/100}getNbPlacettes(){return this.placettesLayer.toGeoJSON().features.length}getSurfaceParcelle(){return Math.round(Bv(this.parcelleLayer.toGeoJSON())/1e4*100)/100}constructor(){this._mapId="map",this._center=[48.32297254687718,7.425127029418946],this._zoom=16,this.map=new V,this.nbPeuplements=1,this.peuplements=[],this.listeEssence=["CHS","HET","S.P","EPC","DOU","P.S"],this._arbresInv=[],this._arbresParcelle=[],this.arbres=new V,this.nbArbres=0,this.distancePlacette=71,this.placettesHa=0,this.nbPlacetteAleatoire=1,this.echantillonnage="systematique",this.typePlacette="surfacique",this.rayonPlacette=12.62,this.facteurRelascopique=2}init(e){this._mapId=e,this._map=Na.map(this._mapId,{center:this._center,zoom:this._zoom,zoomControl:!1,attributionControl:!1}),new Na.Control.Zoom({position:"topright"}).addTo(this._map),new Na.Control.Attribution({position:"bottomright"}).addAttribution('<a href = "https://angular.io">Angular</a>').addAttribution('<a href = "https://turfjs.org">Turf.js</a>').addAttribution('<a href = "https://www.chartjs.org">Chart.js</a>').addTo(this._map),this.parcelleLayer=Na.geoJSON(JSON.parse(JSON.stringify(Ort)),{style:{color:"red",fillOpacity:0,weight:1}}).addTo(this._map);var i=R2(this.parcelleLayer.toGeoJSON());this._map.setView(Na.latLng(i.geometry.coordinates[1],i.geometry.coordinates[0]),17),this.peuplementsLayer=Na.geoJSON({type:"FeatureCollection",features:[]},{style:{color:"red",fillOpacity:0,weight:1,opacity:.5},onEachFeature:(s,u)=>{}}).addTo(this._map),this.arbresLayer=Na.geoJSON({type:"FeatureCollection",features:[]},{pointToLayer:(s,u)=>Na.circle(u,{radius:s.properties.diametre/20,weight:1,color:"green"})}).addTo(this._map);var r=Na.icon({iconUrl:"assets/crosshair.svg",iconSize:[15,15],iconAnchor:[7.5,7.5],popupAnchor:[-3,-76]});this.placettesLayer=Na.geoJson({type:"FeatureCollection",features:[]},{pointToLayer:(s,u)=>Na.marker(u,{icon:r})}).addTo(this._map),this.arbresPlacettesLayer=Na.geoJSON({type:"FeatureCollection",features:[]},{pointToLayer:(s,u)=>Na.circle(u,{radius:s.properties.diametre/20,weight:.5,color:"red"})}).addTo(this._map),this.placetteMaterialisationLayer=Na.geoJSON({type:"FeatureCollection",features:[]},{style:{color:"purple",fillOpacity:0,weight:1,opacity:1}}).addTo(this._map),this._map.on("click",s=>{"libre"==this.echantillonnage&&(this.placettesLayer.addData(zc([s.latlng.lng,s.latlng.lat])),this.updatePlacettes())}),this.updatePeuplements(),this.updatePlacettes(),this.map.next(this._map)}updatePeuplements(){null!=this.peuplementsLayer&&(this.peuplementsLayer.clearLayers(),this.peuplements=[]);for(var e=0,i=Wv(this.nbPeuplements,{bbox:Su(this.parcelleLayer.toGeoJSON())});e<this.nbPeuplements;)i=Wv(this.nbPeuplements,{bbox:Su(this.parcelleLayer.toGeoJSON())}),e=(i=ud(i,this.parcelleLayer.toGeoJSON())).features.length;var r=function ait(t,n){if(!function LQ(t){return!!t&&t.constructor===Object}(n=n||{}))throw new Error("options is invalid");var e=n.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(e))throw new Error("bbox is invalid");return function GQ(t,n,e){if(!t)throw new Error("No featureCollection passed");if(!e)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+e+", FeatureCollection required");for(var i=0,r=t.features;i<r.length;i++){var o=r[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!o.geometry||o.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+o.geometry.type)}}(t,"Point","points"),wl(function oit(){var t=jnt,n=Hnt,e=null;function i(r){return new hE(r.map(function(o,s){var u=[Math.round(t(o,s,r)/xr)*xr,Math.round(n(o,s,r)/xr)*xr];return u.index=s,u.data=o,u}),e)}return i.polygons=function(r){return i(r).polygons()},i.links=function(r){return i(r).links()},i.triangles=function(r){return i(r).triangles()},i.x=function(r){return arguments.length?(t="function"==typeof r?r:xk(+r),i):t},i.y=function(r){return arguments.length?(n="function"==typeof r?r:xk(+r),i):n},i.extent=function(r){return arguments.length?(e=null==r?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],i):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},i.size=function(r){return arguments.length?(e=null==r?null:[[0,0],[+r[0],+r[1]]],i):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},i}().x(function(i){return i.geometry.coordinates[0]}).y(function(i){return i.geometry.coordinates[1]}).extent([[e[0],e[1]],[e[2],e[3]]]).polygons(t.features).map(sit))}(i,{bbox:Su(this.parcelleLayer.toGeoJSON())}),o=1;r.features.forEach(s=>{var u=function Srt(t,n,e){void 0===e&&(e={});var i=pg(t),r=pg(n),o=wit.intersection(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?od(o[0],e.properties):function x2(t,n,e){return void 0===e&&(e={}),bl({type:"MultiPolygon",coordinates:t},n,e)}(o,e.properties)}(s,this.parcelleLayer.toGeoJSON().features[0]);null!=u&&(u.properties={id:o,surface:Math.round(Bv(u)/1e4*100)/100,essence:this.listeEssence[Math.floor(Math.random()*(this.listeEssence.length-1))+0],diamMin:15,diamMax:30,densite:Math.floor(751*Math.random())+50},this.peuplementsLayer.addData(u),this.peuplements.push(u.properties),o++)}),this.updatePlacettes(),this.updateArbres()}updateArbres(){this.peuplementsLayer.eachLayer(e=>{e.bindTooltip(e.feature.properties.essence,{permanent:!0,direction:"center"}).openTooltip()}),this.arbresLayer.clearLayers(),this._arbresParcelle=[],this.peuplementsLayer.toGeoJSON().features.forEach(e=>{Bv(e);var r=e.properties.diamMin,o=e.properties.diamMax,h=Wv(e.properties.densite*e.properties.surface,{bbox:Su(e)});ud(h,e).features.forEach(m=>{var E,v=Math.floor(Math.random()*(o-r+1))+r,b=5*Math.round(v/5);E=v<=27.5?"PB":v<=47.5?"BM":v<=67.5?"GB":"TGB";var D={essence:e.properties.essence,diametre:Math.round(v),g:Math.round(Math.PI/4e4*v*v*1e3)/1e3,classe:b,categorie:E};this._arbresParcelle.push(D),m.properties=D,this.arbresLayer.addData(m),this.nbArbres++})}),this.updateSelectionArbres()}changeEchantillonnage(){"libre"==this.echantillonnage&&this.placettesLayer.clearLayers(),this.updatePlacettes()}updatePlacettes(){if("systematique"==this.echantillonnage){this.placettesLayer.clearLayers();var e=this.distancePlacette,i=function Xtt(t,n,e){void 0===e&&(e={}),e.mask&&!e.units&&(e.units="kilometers");for(var i=[],r=t[0],o=t[1],s=t[2],u=t[3],h=n/Bx([r,o],[s,o],e)*(s-r),m=n/Bx([r,o],[r,u],e)*(u-o),v=s-r,b=u-o,E=Math.floor(v/h),T=(b-Math.floor(b/m)*m)/2,M=r+(v-E*h)/2;M<=s;){for(var A=o+T;A<=u;){var U=zc([M,A],e.properties);e.mask?Ztt(U,e.mask)&&i.push(U):i.push(U),A+=m}M+=h}return wl(i)}(Su(this.parcelleLayer.toGeoJSON()),e,{units:"meters"});i=ud(i,this.parcelleLayer.toGeoJSON().features[0]);var r=1;i.features.forEach(u=>{u.properties.nom=r,r++});var o=[];this.peuplementsLayer.toGeoJSON().features.forEach(u=>{ud(i,u).features.forEach(h=>{h.properties.peuplement=u.properties.id,o.push(h)})}),o.forEach(u=>{this.placettesLayer.addData(u)}),this.placettesHa=Math.round(1e4/(e*e)*10)/10}else if("aleatoire"==this.echantillonnage){this.placettesLayer.clearLayers();var s=Wv(1.5*this.nbPlacetteAleatoire,{bbox:Su(this.parcelleLayer.toGeoJSON())});(s=ud(s,this.parcelleLayer.toGeoJSON().features[0])).features.forEach(u=>{(null==u.supp||0==u.supp)&&(u.properties.nom=r,this.placettesLayer.addData(u),r++)}),this.placettesHa=Math.round(1e4*s.features.length/Bv(this.parcelleLayer.toGeoJSON())*100)/100}this.updateSelectionArbres()}updateSelectionArbres(){if(this.arbresPlacettesLayer.clearLayers(),this._arbresInv=[],this.placetteMaterialisationLayer.clearLayers(),this.placettesLayer.toGeoJSON(),Math,"surfacique"==this.typePlacette)this.placettesLayer.toGeoJSON().features.forEach(s=>{var u=function Ert(t,n,e){var i=(e=e||{}).units||"kilometers",r=e.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof e)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===n)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return ad(t,function(s){var u=Cy(s,n,i,r);u&&o.push(u)}),wl(o);case"FeatureCollection":return Ov(t,function(s){var u=Cy(s,n,i,r);u&&Ov(u,function(c){c&&o.push(c)})}),wl(o)}return Cy(t,n,i,r)}(s,this.rayonPlacette,{units:"meters",steps:40});this.placetteMaterialisationLayer.addData(u),ud(this.arbresLayer.toGeoJSON(),u).features.forEach(c=>{c.properties.peuplement=s.properties.peuplement,c.properties.placette=s.properties.nom,this.arbresPlacettesLayer.addData(c),this._arbresInv.push(c.properties)})});else{var r=this.placettesLayer.toGeoJSON().features,o=this.arbresLayer.toGeoJSON().features;r.forEach(s=>{o.forEach(u=>{Bx(u.geometry,s.geometry,{units:"meters"})<u.properties.diametre/(1+this.facteurRelascopique)&&(this.placetteMaterialisationLayer.addData(Nv([u.geometry.coordinates,s.geometry.coordinates])),u.properties.peuplement=s.properties.peuplement,u.properties.placette=s.properties.nom,this.arbresPlacettesLayer.addData(u),this._arbresInv.push(u.properties))})})}this.arbres.next({inv:this._arbresInv,parcelle:this._arbresParcelle})}getMapInstance(){return this._map}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hB=(()=>{class t{constructor(e){this.mapService=e,this._arbres=[],this._arbresParcelle=[],this._essences=[],this._diametres={min:0,max:0},this.resultats=new V,this.arbresSubscription=this.mapService.arbres.subscribe(i=>{this._arbres=i.inv,this._arbresParcelle=i.parcelle,this.update()})}update(){this.findEssences(),this.findDiametres(),this._resultats={parcelle:{total:0,structure:[]},inventaire:{placettes:{},structure:[],total:0}},this.mapService.getNbPlacettes()>0&&(this._essences.forEach(e=>{this._resultats.inventaire.structure.push({ess:e,PB:this.getGInv({ess:e,categorie:"PB"}),BM:this.getGInv({ess:e,categorie:"BM"}),GB:this.getGInv({ess:e,categorie:"GB"}),TGB:this.getGInv({ess:e,categorie:"TGB"}),total:this.getGInv({ess:e})}),this._resultats.parcelle.structure.push({ess:e,PB:this.getGParcelle({ess:e,categorie:"PB"}),BM:this.getGParcelle({ess:e,categorie:"BM"}),GB:this.getGParcelle({ess:e,categorie:"GB"}),TGB:this.getGParcelle({ess:e,categorie:"TGB"}),total:this.getGParcelle({ess:e})})}),this._resultats.inventaire.total=this.getGInv(),this._resultats.parcelle.total=this.getGParcelle(),this._resultats.arbres=this._arbres,this.resultats.next(this._resultats))}findEssences(){this._essences=[],this._arbres.forEach(e=>{this._essences.includes(e.essence)||this._essences.push(e.essence)})}findDiametres(){this._diametres.min=200,this._diametres.max=0,this._arbres.forEach(e=>{e.diametre>this._diametres.max&&(this._diametres.max=e.diametre),e.diametre<this._diametres.min&&(this._diametres.min=e.diametre)})}getGInv(e){var i=this._arbres,r=0;return null!=e&&null!=e.ess&&(i=i.filter(o=>o.essence==e.ess)),null!=e&&null!=e.classe&&(i=i.filter(o=>o.classe==e.classe)),null!=e&&null!=e.categorie&&(i=i.filter(o=>o.categorie==e.categorie)),"surfacique"==this.mapService.typePlacette?(i.forEach(o=>{r+=o.g}),r=1e4*r/(this.mapService.getNbPlacettes()*this.mapService.getSurfacePlacette())):(i.forEach(o=>{r+=this.mapService.facteurRelascopique}),r/=this.mapService.getNbPlacettes()),Math.round(100*r)/100}getGParcelle(e){var i=this._arbresParcelle,r=0;return null!=e&&null!=e.ess&&(i=i.filter(o=>o.essence==e.ess)),null!=e&&null!=e.classe&&(i=i.filter(o=>o.classe==e.classe)),null!=e&&null!=e.categorie&&(i=i.filter(o=>o.categorie==e.categorie)),i.forEach(o=>{r+=o.g}),r/=this.mapService.getSurfaceParcelle(),Math.round(100*r)/100}unsubscribe(){}static#t=this.\u0275fac=function(i){return new(i||t)(ye(WE))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Art(t,n){if(1&t&&(De(0,"option",27),Hn(1),Se()),2&t){const e=n.$implicit;Ee("ngValue",e),Ce(1),ku(e)}}function Rrt(t,n){if(1&t){const e=Ts();De(0,"tr")(1,"td")(2,"select",23),mn("ngModelChange",function(r){return Si(Di(e).$implicit.essence=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateArbres())}),We(3,Art,2,2,"option",24),Se()(),De(4,"td",22),Hn(5),Se(),De(6,"td")(7,"input",25),mn("ngModelChange",function(r){return Si(Di(e).$implicit.diamMin=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateArbres())}),Se()(),De(8,"td")(9,"input",25),mn("ngModelChange",function(r){return Si(Di(e).$implicit.diamMax=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateArbres())}),Se()(),De(10,"td")(11,"input",26),mn("ngModelChange",function(r){return Si(Di(e).$implicit.densite=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateArbres())}),Se()()()}if(2&t){const e=n.$implicit,i=Ae(2);Ce(2),Ee("ngModel",e.essence),Ce(1),Ee("ngForOf",i.mapService.listeEssence),Ce(2),ku(e.surface+"ha"),Ce(2),Ee("ngModel",e.diamMin),Ce(2),Ee("ngModel",e.diamMax),Ce(2),Ee("ngModel",e.densite)}}function Lrt(t,n){if(1&t){const e=Ts();De(0,"div",12)(1,"div",13)(2,"label",14),Hn(3,"Nombre de peuplements :"),Se(),De(4,"div",15)(5,"input",16),mn("ngModelChange",function(r){return Di(e),Si(Ae().mapService.nbPeuplements=r)})("change",function(){return Di(e),Si(Ae().mapService.updatePeuplements())}),Se(),De(6,"button",17),mn("click",function(){return Di(e),Si(Ae().mapService.updatePeuplements())}),_u(7,"i",18),Se()()(),De(8,"div",19)(9,"table",20)(10,"thead")(11,"tr")(12,"th"),Hn(13,"Essence"),Se(),De(14,"th"),Hn(15,"Surface"),Se(),De(16,"th"),Hn(17,"Min"),Se(),De(18,"th"),Hn(19,"Max"),Se(),De(20,"th"),Hn(21,"Densit\xe9"),Se()()(),De(22,"tbody"),We(23,Rrt,12,6,"tr",21),Se()()(),De(24,"small",22),Hn(25,"Pour des raison de performances, une seule essence est permise par peuplement. Mais vous pouvez modifier le diam min et max ainsi que la densit\xe9 du peuplement."),Se()()}if(2&t){const e=Ae();Ce(5),Ee("ngModel",e.mapService.nbPeuplements),Ce(18),Ee("ngForOf",e.mapService.peuplements)}}function krt(t,n){1&t&&(De(0,"small",22),Hn(1,"Veuillez cliquer sur la carte pour ajouter les placettes."),Se())}function Frt(t,n){if(1&t){const e=Ts();De(0,"div",13)(1,"label",14),Hn(2,"Distance entre placette (m): "),Se(),De(3,"input",38),mn("ngModelChange",function(r){return Di(e),Si(Ae(2).mapService.distancePlacette=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updatePlacettes())}),Se(),De(4,"small")(5,"b"),Hn(6),Se()()()}if(2&t){const e=Ae(2);Ce(3),Ee("ngModel",e.mapService.distancePlacette),Ce(3),xc("",e.mapService.placettesHa," placettes/ha")}}function Brt(t,n){if(1&t){const e=Ts();De(0,"div",13)(1,"label",14),Hn(2,"Taux sondage : "),Se(),De(3,"input",39),mn("ngModelChange",function(r){return Di(e),Si(Ae(2).mapService.nbPlacetteAleatoire=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updatePlacettes())}),Se(),De(4,"small")(5,"b"),Hn(6),Se()()()}if(2&t){const e=Ae(2);Ce(3),Ee("ngModel",e.mapService.nbPlacetteAleatoire),Ce(3),xc("",e.mapService.placettesHa," placettes/ha")}}function Vrt(t,n){if(1&t){const e=Ts();De(0,"div",13)(1,"label",14),Hn(2,"Rayon placette (m) : "),Se(),De(3,"input",40),mn("ngModelChange",function(r){return Di(e),Si(Ae(2).mapService.rayonPlacette=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateSelectionArbres())}),Se()()}if(2&t){const e=Ae(2);Ce(3),Ee("ngModel",e.mapService.rayonPlacette)}}function zrt(t,n){if(1&t){const e=Ts();De(0,"div",13)(1,"label",14),Hn(2,"Facteur relascopique : "),Se(),De(3,"select",28),mn("ngModelChange",function(r){return Di(e),Si(Ae(2).mapService.facteurRelascopique=r)})("change",function(){return Di(e),Si(Ae(2).mapService.updateSelectionArbres())}),De(4,"option",27),Hn(5,"1"),Se(),De(6,"option",27),Hn(7,"2"),Se()()()}if(2&t){const e=Ae(2);Ce(3),Ee("ngModel",e.mapService.facteurRelascopique),Ce(1),Ee("ngValue",1),Ce(2),Ee("ngValue",2)}}function jrt(t,n){if(1&t){const e=Ts();De(0,"div",12)(1,"div",13)(2,"label",14),Hn(3,"Echantillonnage : "),Se(),De(4,"select",28),mn("ngModelChange",function(r){return Di(e),Si(Ae().mapService.echantillonnage=r)})("change",function(){return Di(e),Si(Ae().mapService.changeEchantillonnage())}),De(5,"option",29),Hn(6,"Syst\xe9matique"),Se(),De(7,"option",30),Hn(8,"Al\xe9atoire"),Se(),De(9,"option",31),Hn(10,"Libre"),Se()(),We(11,krt,2,0,"small",32),Se(),We(12,Frt,7,2,"div",33),We(13,Brt,7,2,"div",33),De(14,"div",13)(15,"label",14),Hn(16,"Type de placette : "),Se(),De(17,"div",34)(18,"input",35),mn("change",function(){return Di(e),Si(Ae().mapService.updateSelectionArbres())})("ngModelChange",function(r){return Di(e),Si(Ae().mapService.typePlacette=r)}),Se(),De(19,"label",36),Hn(20," Surfacique "),Se()(),De(21,"div",34)(22,"input",37),mn("change",function(){return Di(e),Si(Ae().mapService.updateSelectionArbres())})("ngModelChange",function(r){return Di(e),Si(Ae().mapService.typePlacette=r)}),Se(),De(23,"label",36),Hn(24," Relascopique "),Se()()(),We(25,Vrt,4,1,"div",33),We(26,zrt,8,3,"div",33),Se()}if(2&t){const e=Ae();Ce(4),Ee("ngModel",e.mapService.echantillonnage),Ce(7),Ee("ngIf","libre"==e.mapService.echantillonnage),Ce(1),Ee("ngIf","systematique"==e.mapService.echantillonnage),Ce(1),Ee("ngIf","aleatoire"==e.mapService.echantillonnage),Ce(5),Ee("ngModel",e.mapService.typePlacette),Ce(4),Ee("ngModel",e.mapService.typePlacette),Ce(3),Ee("ngIf","surfacique"==e.mapService.typePlacette),Ce(1),Ee("ngIf","relascopique"==e.mapService.typePlacette)}}const fB=function(t){return{"active bg-success text-white":t}};let Hrt=(()=>{class t{constructor(e,i){this.mapService=e,this.resultatsService=i,this.title="plotter",this.navigation="peuplement",this.resultats={parcelle:{total:0,structure:[]},inventaire:{total:0,structure:[]},arbres:[{essence:"",placette:"",diametre:0}]}}ngAfterViewInit(){this.mapSubscription=this.mapService.map.subscribe(r=>{this.map=r});const e=document.getElementById("chartResults");var i=new PQ(e,{type:"bar",data:{labels:["PB","BM","GB","TGB"],datasets:[]},options:{plugins:{title:{text:"R\xe9sultats : ",align:"start",display:!0},legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{stacked:!0}}}});this.resultatsService.resultats.subscribe(r=>{this.resultats=r;var o=[],s={CHS:"#99621e",HET:"#d38b5d","S.P":"#f3ffb6",EPC:"#739e82",DOU:"#2c5530"};this.resultats.inventaire.structure.forEach(u=>{o.push({label:u.ess+" (Inventaire)",data:[u.PB,u.BM,u.GB,u.TGB],stack:"Stack 1",backgroundColor:(0,OQ.draw)("diagonal-right-left",s[u.ess])})}),this.resultats.parcelle.structure.forEach(u=>{o.push({label:u.ess+" (Parcelle)",data:[u.PB,u.BM,u.GB,u.TGB],stack:"Stack 2",backgroundColor:s[u.ess]})}),null!=i.options.plugins&&i.options.plugins.title&&(i.options.plugins.title.text=["Inventaire : "+this.resultats.inventaire.total+" m2/ha ","Parcelle : "+this.resultats.parcelle.total+" m2/ha "]),i.data.datasets=o,i.update()}),this.mapService.init("map")}ngOnDestroy(){this.mapSubscription.unsubscribe(),this.arbresSubscription.unsubscribe()}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(WE),Vt(hB))};static#e=this.\u0275cmp=Gi({type:t,selectors:[["app-root"]],decls:17,vars:8,consts:[[1,"wrapper"],["id","map"],["id","sidebar",1,"border-start","shadow",2,"width","30%"],[1,"card","border-0","h-100"],[1,"card-header"],[1,"nav","nav-pills","card-header-pills"],[1,"nav-item"],[1,"nav-link","text-dark",3,"ngClass","click"],["class","card-body","style","overflow-y : scroll",4,"ngIf"],[1,"card-footer","p-2",2,"height","40%"],[2,"position","relative","height","100%"],["id","chartResults"],[1,"card-body",2,"overflow-y","scroll"],[1,"d-flex","flex-column","mb-3"],[1,"form-label"],[1,"d-flex"],["type","number","min","1","step","1",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],[1,"ms-2","btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-arrow-repeat"],[1,"table-responsive","card","border-bottom-0"],[1,"table","m-0",2,"font-size",".7rem"],[4,"ngFor","ngForOf"],[1,"text-muted"],[1,"form-control","form-control-sm","border-0","p-0","m-0",2,"font-size",".7rem !important",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["min","15","max","80","step","5","type","number",1,"form-control","from-control-sm","border-0","m-0","p-0",2,"font-size",".7rem !important",3,"ngModel","ngModelChange","change"],["min","50","max","800","step","10","type","number",1,"form-control","from-control-sm","border-0","m-0","p-0",2,"font-size",".7rem !important",3,"ngModel","ngModelChange","change"],[3,"ngValue"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange","change"],["value","systematique"],["value","aleatoire"],["value","libre"],["class","text-muted",4,"ngIf"],["class","d-flex flex-column mb-3 ",4,"ngIf"],[1,"form-check"],["type","radio","value","surfacique",1,"form-check-input",3,"ngModel","change","ngModelChange"],[1,"form-check-label"],["type","radio","value","relascopique",1,"form-check-input",3,"ngModel","change","ngModelChange"],["type","number","min","50",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["type","number",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["type","number","step","0.1",1,"form-control",3,"ngModel","ngModelChange","change"]],template:function(i,r){1&i&&(De(0,"div",0),_u(1,"div",1),De(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),mn("click",function(){return r.navigation="peuplement"}),Hn(8,"Peuplement"),Se()(),De(9,"li",6)(10,"a",7),mn("click",function(){return r.navigation="placettes"}),Hn(11,"Placettes"),Se()()()(),We(12,Lrt,26,2,"div",8),We(13,jrt,27,8,"div",8),De(14,"div",9)(15,"div",10),_u(16,"canvas",11),Se()()()()()),2&i&&(Ce(7),Ee("ngClass",ah(4,fB,"peuplement"==r.navigation)),Ce(3),Ee("ngClass",ah(6,fB,"placettes"==r.navigation)),Ce(2),Ee("ngIf","peuplement"==r.navigation),Ce(1),Ee("ngIf","placettes"==r.navigation))},dependencies:[cP,Ul,Sc,AO,LO,C_,hw,L_,fw,fO,vw,_w,cw]})}return t})();const Urt=["addListener","removeListener"],Grt=["addEventListener","removeEventListener"],$rt=["on","off"];function As(t,n,e,i){if(J(e)&&(i=e,e=void 0),i)return As(t,n,e).pipe(Xb(i));const[r,o]=function Yrt(t){return J(t.addEventListener)&&J(t.removeEventListener)}(t)?Grt.map(s=>u=>t[s](n,u,e)):function qrt(t){return J(t.addListener)&&J(t.removeListener)}(t)?Urt.map(dB(t,n)):function Wrt(t){return J(t.on)&&J(t.off)}(t)?$rt.map(dB(t,n)):[];if(!r&&sn(t))return wi(s=>As(s,n,e))(Dr(t));if(!r)throw new TypeError("Invalid event target");return new at(s=>{const u=(...c)=>s.next(1<c.length?c:c[0]);return r(u),()=>o(u)})}function dB(t,n){return e=>i=>t[e](n,i)}class Zrt extends wt{constructor(n,e){super()}schedule(n,e=0){return this}}const Dy={setInterval(t,n,...e){const{delegate:i}=Dy;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Dy;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},pB={now:()=>(pB.delegate||Date).now(),delegate:void 0};class Lg{constructor(n,e=Lg.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}Lg.now=pB.now;const Krt=new class Jrt extends Lg{constructor(n,e=Lg.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}(class Xrt extends Zrt{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return Dy.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&Dy.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ft(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}});const{isArray:tot}=Array;function _B(t){return 1===t.length&&tot(t[0])?t[0]:t}function YE(...t){const n=Qi(t),e=_B(t);return e.length?new at(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)Dr(e[s]).subscribe(Wt(i,u=>{if(r[s].push(u),r.every(c=>c.length)){const c=r.map(h=>h.shift());i.next(n?n(...c):c),r.some((h,p)=>!h.length&&o[p])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Fn}function ZE(...t){const n=Qi(t);return Bt((e,i)=>{const r=t.length,o=new Array(r);let s=t.map(()=>!1),u=!1;for(let c=0;c<r;c++)Dr(t[c]).subscribe(Wt(i,h=>{o[c]=h,!u&&!s[c]&&(s[c]=!0,(u=s.every(Lt))&&(s=null))},Nt));e.subscribe(Wt(i,c=>{if(u){const h=[c,...o];i.next(n?n(...h):h)}}))})}Math,Math,Math;const Ost=["*"],uat=["dialog"];function Lh(t){return"string"==typeof t}function kh(t){return null!=t}function Cd(t){return(t||document.body).getBoundingClientRect()}const XB={animation:!0,transitionTimerDelayMs:5},tut=()=>{},{transitionTimerDelayMs:eut}=XB,Ug=new Map,Ra=(t,n,e,i)=>{let r=i.context||{};const o=Ug.get(n);if(o)switch(i.runningTransition){case"continue":return Fn;case"stop":t.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Ug.delete(n)}const s=e(n,i.animation,r)||tut;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>s()),Pe(void 0).pipe(function Kat(t){return n=>new at(e=>n.subscribe({next:s=>t.run(()=>e.next(s)),error:s=>t.run(()=>e.error(s)),complete:()=>t.run(()=>e.complete())}))}(t));const u=new V,c=new V,h=u.pipe(function not(...t){return n=>Tp(n,Pe(...t))}(!0));Ug.set(n,{transition$:u,complete:()=>{c.next(),c.complete()},context:r});const p=function Qat(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const m=As(n,"transitionend").pipe(yo(h),gs(({target:b})=>b===n));(function vB(...t){return 1===(t=_B(t)).length?Dr(t[0]):new at(function eot(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(Dr(t[i]).subscribe(Wt(n,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}n.next(r)})))}}(t))})(function mB(t=0,n,e=Krt){let i=-1;return null!=n&&(Do(n)?e=n:i=n),new at(r=>{let o=function Qrt(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(p+eut).pipe(yo(h)),m,c).pipe(yo(h)).subscribe(()=>{Ug.delete(n),t.run(()=>{s(),u.next(),u.complete()})})}),u.asObservable()};let Ay=(()=>{class t{constructor(){this.animation=XB.animation}static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),s3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),l3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),c3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();var Pr=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Pr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _3=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function v3(t){const n=Array.from(t.querySelectorAll(_3)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let P3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),R3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();class jh{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let elt=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ps(1)).subscribe(()=>{Ra(this._zone,this._el.nativeElement,(e,i)=>{i&&Cd(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ra(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(rr),Vt(Ii))};static#e=this.\u0275cmp=Gi({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(rh("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),$i("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[yu],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return t})();class L3{update(n){}close(n){}dismiss(n){}}const nlt=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ilt=["animation","backdropClass"];class rlt{_applyWindowOptions(n,e){nlt.forEach(i=>{kh(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){ilt.forEach(i=>{kh(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(yo(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(yo(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,r){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new V,this._dismissed=new V,this._hidden=new V,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function WB(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Pe(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),YE(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var EC=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(EC||{});let olt=(()=>{class t{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new V,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new on,this.shown=new V,this.hidden=new V}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Lh(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ps(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=YE(Ra(this._zone,e,()=>e.classList.remove("show"),i),Ra(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};YE(Ra(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Cd(o),o.classList.add("show")},e),Ra(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{As(e,"keydown").pipe(yo(this._closed$),gs(r=>r.which===Pr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(EC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;As(this._dialogEl.nativeElement,"mousedown").pipe(yo(this._closed$),ms(()=>i=!1),Ve(()=>As(e,"mouseup").pipe(yo(this._closed$),Ps(1))),gs(({target:r})=>e===r)).subscribe(()=>{i=!0}),As(e,"click").pipe(yo(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(EC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=v3(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ra(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#t=this.\u0275fac=function(i){return new(i||t)(Vt(ts),Vt(rr),Vt(Ii))};static#e=this.\u0275cmp=Gi({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&uh(uat,7),2&i){let o;hr(o=function fr(){return function jU(t,n){return t[ir].queries[n].queryList}(ae(),aD())}())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(sr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),rh("modal d-block"+(r.windowClass?" "+r.windowClass:"")),$i("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[yu],ngContentSelectors:Ost,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function sI(t){const n=ae()[ce][_];if(!n.projection){const i=n.projection=Bd(t?t.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=t?u4(o,t):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),De(0,"div",0,1)(2,"div",2),function aI(t,n=0,e){const i=ae(),r=Pi(),o=xf(r,gn+t,16,null,e||null);null===o.projection&&(o.projection=n),n0(),(!i[co]||Zh())&&32!=(32&o.flags)&&function lj(t,n,e){lS(n[_t],0,n,e,N0(t,e,n),iS(e.parent||n[_],e,n))}(r,i,o)}(3),Se()()),2&i&&rh("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),slt=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const u=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${u+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#t=this.\u0275fac=function(i){return new(i||t)(ye(ts))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),alt=(()=>{class t{constructor(e,i,r,o,s,u,c){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=u,this._ngZone=c,this._activeWindowCmptHasChanged=new V,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new on,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const h=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const r=As(n,"focusin").pipe(yo(e),jt(o=>o.target));As(n,"keydown").pipe(yo(e),gs(o=>o.which===Pr.Tab),ZE(r)).subscribe(([o,s])=>{const[u,c]=v3(n);(s===u||s===n)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(u.focus(),o.preventDefault())}),i&&As(n,"click").pipe(yo(e),ZE(r),jt(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,h.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(h.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:kh(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const u=new L3,c=(e=r.injector||e).get(Da,null)||this._environmentInjector,h=this._getContentRef(e,c,i,u,r);let p=!1!==r.backdrop?this._attachBackdrop(o):void 0,m=this._attachWindowComponent(o,h.nodes),v=new rlt(m,h,p,r.beforeDismiss);return this._registerModalRef(v),this._registerWindowCmpt(m),v.hidden.pipe(Ps(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),u.close=b=>{v.close(b)},u.dismiss=b=>{v.dismiss(b)},u.update=b=>{v.update(b)},v.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),p&&p.instance&&p.changeDetectorRef.detectChanges(),m.changeDetectorRef.detectChanges(),v}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=bb(elt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=bb(olt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof fo?this._createFromTemplateRef(r,o):Lh(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new jh([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new jh([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new jh([[i]])}_createFromComponent(e,i,r,o,s){const c=bb(r,{environmentInjector:i,elementInjector:Is.create({providers:[{provide:L3,useValue:o}],parent:e})}),h=c.location.nativeElement;return s.scrollable&&h.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new jh([[h]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Cc),ye(Is),ye(Da),ye(ts),ye(slt),ye(r1),ye(Ii))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ult=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Ay))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),llt=(()=>{class t{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#t=this.\u0275fac=function(i){return new(i||t)(ye(Is),ye(alt),ye(ult))};static#e=this.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({providers:[llt]})}return t})(),V3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),W3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),Y3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),Z3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),X3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),J3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),K3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),Q3=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),tV=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();new Ne("live announcer delay",{providedIn:"root",factory:function Clt(){return 100}});let eV=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})(),nV=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({})}return t})();const Slt=[o3,s3,l3,c3,P3,R3,k3,V3,nV,W3,Y3,Z3,X3,J3,K3,Q3,tV,eV];let Mlt=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t});static#n=this.\u0275inj=Ei({imports:[Slt,o3,s3,l3,c3,P3,R3,k3,V3,nV,W3,Y3,Z3,X3,J3,K3,Q3,tV,eV]})}return t})(),Ilt=(()=>{class t{static#t=this.\u0275fac=function(i){return new(i||t)};static#e=this.\u0275mod=Dn({type:t,bootstrap:[Hrt]});static#n=this.\u0275inj=Ei({providers:[WE,hB],imports:[R9,pY,Gq,Mlt]})}return t})();O9().bootstrapModule(Ilt).catch(t=>console.error(t))},1568:(te,Pt,$)=>{"use strict";var tt=$(8570);function yt(ft){var wt=[1/0,1/0,-1/0,-1/0];return tt.coordEach(ft,function(rt){wt[0]>rt[0]&&(wt[0]=rt[0]),wt[1]>rt[1]&&(wt[1]=rt[1]),wt[2]<rt[0]&&(wt[2]=rt[0]),wt[3]<rt[1]&&(wt[3]=rt[1])}),wt}yt.default=yt,Pt.Z=yt},621:(te,Pt)=>{"use strict";function $(dt,bt,K){void 0===K&&(K={});var Jt={type:"Feature"};return(0===K.id||K.id)&&(Jt.id=K.id),K.bbox&&(Jt.bbox=K.bbox),Jt.properties=bt||{},Jt.geometry=dt,Jt}function tt(dt,bt,K){if(void 0===K&&(K={}),!dt)throw new Error("coordinates is required");if(!Array.isArray(dt))throw new Error("coordinates must be an Array");if(dt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Z(dt[0])||!Z(dt[1]))throw new Error("coordinates must contain numbers");return $({type:"Point",coordinates:dt},bt,K)}function ft(dt,bt,K){void 0===K&&(K={});for(var Jt=0,Lt=dt;Jt<Lt.length;Jt++){var lt=Lt[Jt];if(lt.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var vt=0;vt<lt[lt.length-1].length;vt++)if(lt[lt.length-1][vt]!==lt[0][vt])throw new Error("First and last Position are not equivalent.")}return $({type:"Polygon",coordinates:dt},bt,K)}function rt(dt,bt,K){if(void 0===K&&(K={}),dt.length<2)throw new Error("coordinates must be an array of two or more positions");return $({type:"LineString",coordinates:dt},bt,K)}function Mt(dt,bt){void 0===bt&&(bt={});var K={type:"FeatureCollection"};return bt.id&&(K.id=bt.id),bt.bbox&&(K.bbox=bt.bbox),K.features=dt,K}function At(dt,bt,K){return void 0===K&&(K={}),$({type:"MultiLineString",coordinates:dt},bt,K)}function Gt(dt,bt,K){return void 0===K&&(K={}),$({type:"MultiPoint",coordinates:dt},bt,K)}function Ft(dt,bt,K){return void 0===K&&(K={}),$({type:"MultiPolygon",coordinates:dt},bt,K)}function ie(dt,bt){void 0===bt&&(bt="kilometers");var K=Pt.factors[bt];if(!K)throw new Error(bt+" units is invalid");return dt*K}function H(dt,bt){void 0===bt&&(bt="kilometers");var K=Pt.factors[bt];if(!K)throw new Error(bt+" units is invalid");return dt/K}function Y(dt){return dt%(2*Math.PI)*180/Math.PI}function Z(dt){return!isNaN(dt)&&null!==dt&&!Array.isArray(dt)}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.earthRadius=6371008.8,Pt.factors={centimeters:100*Pt.earthRadius,centimetres:100*Pt.earthRadius,degrees:Pt.earthRadius/111325,feet:3.28084*Pt.earthRadius,inches:39.37*Pt.earthRadius,kilometers:Pt.earthRadius/1e3,kilometres:Pt.earthRadius/1e3,meters:Pt.earthRadius,metres:Pt.earthRadius,miles:Pt.earthRadius/1609.344,millimeters:1e3*Pt.earthRadius,millimetres:1e3*Pt.earthRadius,nauticalmiles:Pt.earthRadius/1852,radians:1,yards:1.0936*Pt.earthRadius},Pt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Pt.earthRadius,yards:1.0936133},Pt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},Pt.feature=$,Pt.geometry=function J(dt,bt,K){switch(void 0===K&&(K={}),dt){case"Point":return tt(bt).geometry;case"LineString":return rt(bt).geometry;case"Polygon":return ft(bt).geometry;case"MultiPoint":return Gt(bt).geometry;case"MultiLineString":return At(bt).geometry;case"MultiPolygon":return Ft(bt).geometry;default:throw new Error(dt+" is invalid")}},Pt.point=tt,Pt.points=function yt(dt,bt,K){return void 0===K&&(K={}),Mt(dt.map(function(Jt){return tt(Jt,bt)}),K)},Pt.polygon=ft,Pt.polygons=function wt(dt,bt,K){return void 0===K&&(K={}),Mt(dt.map(function(Jt){return ft(Jt,bt)}),K)},Pt.lineString=rt,Pt.lineStrings=function xt(dt,bt,K){return void 0===K&&(K={}),Mt(dt.map(function(Jt){return rt(Jt,bt)}),K)},Pt.featureCollection=Mt,Pt.multiLineString=At,Pt.multiPoint=Gt,Pt.multiPolygon=Ft,Pt.geometryCollection=function Nt(dt,bt,K){return void 0===K&&(K={}),$({type:"GeometryCollection",geometries:dt},bt,K)},Pt.round=function Rt(dt,bt){if(void 0===bt&&(bt=0),bt&&!(bt>=0))throw new Error("precision must be a positive number");var K=Math.pow(10,bt||0);return Math.round(dt*K)/K},Pt.radiansToLength=ie,Pt.lengthToRadians=H,Pt.lengthToDegrees=function ot(dt,bt){return Y(H(dt,bt))},Pt.bearingToAzimuth=function B(dt){var bt=dt%360;return bt<0&&(bt+=360),bt},Pt.radiansToDegrees=Y,Pt.degreesToRadians=function j(dt){return dt%360*Math.PI/180},Pt.convertLength=function ht(dt,bt,K){if(void 0===bt&&(bt="kilometers"),void 0===K&&(K="kilometers"),!(dt>=0))throw new Error("length must be a positive number");return ie(H(dt,bt),K)},Pt.convertArea=function G(dt,bt,K){if(void 0===bt&&(bt="meters"),void 0===K&&(K="kilometers"),!(dt>=0))throw new Error("area must be a positive number");var Jt=Pt.areaFactors[bt];if(!Jt)throw new Error("invalid original units");var Lt=Pt.areaFactors[K];if(!Lt)throw new Error("invalid final units");return dt/Jt*Lt},Pt.isNumber=Z,Pt.isObject=function et(dt){return!!dt&&dt.constructor===Object},Pt.validateBBox=function k(dt){if(!dt)throw new Error("bbox is required");if(!Array.isArray(dt))throw new Error("bbox must be an Array");if(4!==dt.length&&6!==dt.length)throw new Error("bbox must be an Array of 4 or 6 numbers");dt.forEach(function(bt){if(!Z(bt))throw new Error("bbox must only contain numbers")})},Pt.validateId=function It(dt){if(!dt)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof dt))throw new Error("id must be a number or a string")}},8570:(te,Pt,$)=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var J=$(621);function tt(j,ht,G){if(null!==j)for(var Z,et,k,It,dt,bt,K,lt,Jt=0,Lt=0,vt=j.type,at="FeatureCollection"===vt,gt="Feature"===vt,Ct=at?j.features.length:1,nt=0;nt<Ct;nt++){dt=(lt=!!(K=at?j.features[nt].geometry:gt?j.geometry:j)&&"GeometryCollection"===K.type)?K.geometries.length:1;for(var Et=0;Et<dt;Et++){var V=0,Ot=0;if(null!==(It=lt?K.geometries[Et]:K)){bt=It.coordinates;var ut=It.type;switch(Jt=!G||"Polygon"!==ut&&"MultiPolygon"!==ut?0:1,ut){case null:break;case"Point":if(!1===ht(bt,Lt,nt,V,Ot))return!1;Lt++,V++;break;case"LineString":case"MultiPoint":for(Z=0;Z<bt.length;Z++){if(!1===ht(bt[Z],Lt,nt,V,Ot))return!1;Lt++,"MultiPoint"===ut&&V++}"LineString"===ut&&V++;break;case"Polygon":case"MultiLineString":for(Z=0;Z<bt.length;Z++){for(et=0;et<bt[Z].length-Jt;et++){if(!1===ht(bt[Z][et],Lt,nt,V,Ot))return!1;Lt++}"MultiLineString"===ut&&V++,"Polygon"===ut&&Ot++}"Polygon"===ut&&V++;break;case"MultiPolygon":for(Z=0;Z<bt.length;Z++){for(Ot=0,et=0;et<bt[Z].length;et++){for(k=0;k<bt[Z][et].length-Jt;k++){if(!1===ht(bt[Z][et][k],Lt,nt,V,Ot))return!1;Lt++}Ot++}V++}break;case"GeometryCollection":for(Z=0;Z<It.geometries.length;Z++)if(!1===tt(It.geometries[Z],ht,G))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ft(j,ht){var G;switch(j.type){case"FeatureCollection":for(G=0;G<j.features.length&&!1!==ht(j.features[G].properties,G);G++);break;case"Feature":ht(j.properties,0)}}function rt(j,ht){if("Feature"===j.type)ht(j,0);else if("FeatureCollection"===j.type)for(var G=0;G<j.features.length&&!1!==ht(j.features[G],G);G++);}function At(j,ht){var G,Z,et,k,It,dt,bt,K,Jt,Lt,lt=0,vt="FeatureCollection"===j.type,at="Feature"===j.type,gt=vt?j.features.length:1;for(G=0;G<gt;G++){for(K=vt?j.features[G].properties:at?j.properties:{},Jt=vt?j.features[G].bbox:at?j.bbox:void 0,Lt=vt?j.features[G].id:at?j.id:void 0,It=(bt=!!(dt=vt?j.features[G].geometry:at?j.geometry:j)&&"GeometryCollection"===dt.type)?dt.geometries.length:1,et=0;et<It;et++)if(null!==(k=bt?dt.geometries[et]:dt))switch(k.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===ht(k,lt,K,Jt,Lt))return!1;break;case"GeometryCollection":for(Z=0;Z<k.geometries.length;Z++)if(!1===ht(k.geometries[Z],lt,K,Jt,Lt))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===ht(null,lt,K,Jt,Lt))return!1;lt++}}function Ft(j,ht){At(j,function(G,Z,et,k,It){var bt,dt=null===G?null:G.type;switch(dt){case null:case"Point":case"LineString":case"Polygon":return!1!==ht(J.feature(G,et,{bbox:k,id:It}),Z,0)&&void 0}switch(dt){case"MultiPoint":bt="Point";break;case"MultiLineString":bt="LineString";break;case"MultiPolygon":bt="Polygon"}for(var K=0;K<G.coordinates.length;K++)if(!1===ht(J.feature({type:bt,coordinates:G.coordinates[K]},et),Z,K))return!1})}function Rt(j,ht){Ft(j,function(G,Z,et){var k=0;if(G.geometry){var It=G.geometry.type;if("Point"!==It&&"MultiPoint"!==It){var dt,bt=0,K=0,Jt=0;if(!1===tt(G,function(Lt,lt,vt,at,gt){if(void 0===dt||Z>bt||at>K||gt>Jt)return dt=Lt,bt=Z,K=at,Jt=gt,void(k=0);var Ct=J.lineString([dt,Lt],G.properties);if(!1===ht(Ct,Z,et,gt,k))return!1;k++,dt=Lt}))return!1}}})}function H(j,ht){if(!j)throw new Error("geojson is required");Ft(j,function(G,Z,et){if(null!==G.geometry){var It=G.geometry.coordinates;switch(G.geometry.type){case"LineString":if(!1===ht(G,Z,et,0,0))return!1;break;case"Polygon":for(var dt=0;dt<It.length;dt++)if(!1===ht(J.lineString(It[dt],G.properties),Z,et,dt))return!1}}})}Pt.coordAll=function Mt(j){var ht=[];return tt(j,function(G){ht.push(G)}),ht},Pt.coordEach=tt,Pt.coordReduce=function yt(j,ht,G,Z){var et=G;return tt(j,function(k,It,dt,bt,K){et=0===It&&void 0===G?k:ht(et,k,It,dt,bt,K)},Z),et},Pt.featureEach=rt,Pt.featureReduce=function xt(j,ht,G){var Z=G;return rt(j,function(et,k){Z=0===k&&void 0===G?et:ht(Z,et,k)}),Z},Pt.findPoint=function Y(j,ht){if(!J.isObject(ht=ht||{}))throw new Error("options is invalid");var dt,G=ht.featureIndex||0,Z=ht.multiFeatureIndex||0,et=ht.geometryIndex||0,k=ht.coordIndex||0,It=ht.properties;switch(j.type){case"FeatureCollection":G<0&&(G=j.features.length+G),It=It||j.features[G].properties,dt=j.features[G].geometry;break;case"Feature":It=It||j.properties,dt=j.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":dt=j;break;default:throw new Error("geojson is invalid")}if(null===dt)return null;var bt=dt.coordinates;switch(dt.type){case"Point":return J.point(bt,It,ht);case"MultiPoint":return Z<0&&(Z=bt.length+Z),J.point(bt[Z],It,ht);case"LineString":return k<0&&(k=bt.length+k),J.point(bt[k],It,ht);case"Polygon":return et<0&&(et=bt.length+et),k<0&&(k=bt[et].length+k),J.point(bt[et][k],It,ht);case"MultiLineString":return Z<0&&(Z=bt.length+Z),k<0&&(k=bt[Z].length+k),J.point(bt[Z][k],It,ht);case"MultiPolygon":return Z<0&&(Z=bt.length+Z),et<0&&(et=bt[Z].length+et),k<0&&(k=bt[Z][et].length-k),J.point(bt[Z][et][k],It,ht)}throw new Error("geojson is invalid")},Pt.findSegment=function B(j,ht){if(!J.isObject(ht=ht||{}))throw new Error("options is invalid");var dt,G=ht.featureIndex||0,Z=ht.multiFeatureIndex||0,et=ht.geometryIndex||0,k=ht.segmentIndex||0,It=ht.properties;switch(j.type){case"FeatureCollection":G<0&&(G=j.features.length+G),It=It||j.features[G].properties,dt=j.features[G].geometry;break;case"Feature":It=It||j.properties,dt=j.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":dt=j;break;default:throw new Error("geojson is invalid")}if(null===dt)return null;var bt=dt.coordinates;switch(dt.type){case"Point":case"MultiPoint":return null;case"LineString":return k<0&&(k=bt.length+k-1),J.lineString([bt[k],bt[k+1]],It,ht);case"Polygon":return et<0&&(et=bt.length+et),k<0&&(k=bt[et].length+k-1),J.lineString([bt[et][k],bt[et][k+1]],It,ht);case"MultiLineString":return Z<0&&(Z=bt.length+Z),k<0&&(k=bt[Z].length+k-1),J.lineString([bt[Z][k],bt[Z][k+1]],It,ht);case"MultiPolygon":return Z<0&&(Z=bt.length+Z),et<0&&(et=bt[Z].length+et),k<0&&(k=bt[Z][et].length-k-1),J.lineString([bt[Z][et][k],bt[Z][et][k+1]],It,ht)}throw new Error("geojson is invalid")},Pt.flattenEach=Ft,Pt.flattenReduce=function Nt(j,ht,G){var Z=G;return Ft(j,function(et,k,It){Z=0===k&&0===It&&void 0===G?et:ht(Z,et,k,It)}),Z},Pt.geomEach=At,Pt.geomReduce=function Gt(j,ht,G){var Z=G;return At(j,function(et,k,It,dt,bt){Z=0===k&&void 0===G?et:ht(Z,et,k,It,dt,bt)}),Z},Pt.lineEach=H,Pt.lineReduce=function ot(j,ht,G){var Z=G;return H(j,function(et,k,It,dt){Z=0===k&&void 0===G?et:ht(Z,et,k,It,dt)}),Z},Pt.propEach=ft,Pt.propReduce=function wt(j,ht,G){var Z=G;return ft(j,function(et,k){Z=0===k&&void 0===G?et:ht(Z,et,k)}),Z},Pt.segmentEach=Rt,Pt.segmentReduce=function ie(j,ht,G){var Z=G,et=!1;return Rt(j,function(k,It,dt,bt,K){Z=!1===et&&void 0===G?k:ht(Z,k,It,dt,bt,K),et=!0}),Z}},1098:(te,Pt,$)=>{"use strict";var J=$(491),tt=$(5436),yt=tt(J("String.prototype.indexOf"));te.exports=function(wt,rt){var xt=J(wt,!!rt);return"function"==typeof xt&&yt(wt,".prototype.")>-1?tt(xt):xt}},5436:(te,Pt,$)=>{"use strict";var J=$(5333),tt=$(491),yt=$(2245),ft=tt("%TypeError%"),wt=tt("%Function.prototype.apply%"),rt=tt("%Function.prototype.call%"),xt=tt("%Reflect.apply%",!0)||J.call(rt,wt),Mt=tt("%Object.defineProperty%",!0),At=tt("%Math.max%");if(Mt)try{Mt({},"a",{value:1})}catch{Mt=null}te.exports=function(Nt){if("function"!=typeof Nt)throw new ft("a function is required");var Rt=xt(J,rt,arguments);return yt(Rt,1+At(0,Nt.length-(arguments.length-1)),!0)};var Gt=function(){return xt(J,wt,arguments)};Mt?Mt(te.exports,"apply",{value:Gt}):te.exports.apply=Gt},3664:(te,Pt,$)=>{"use strict";var J=$(938),tt=$(7935),yt=$(4179),ft=$(6138).orient2d;function wt(G,Z,et){Z=Math.max(0,void 0===Z?2:Z),et=et||0;var k=function ie(G){for(var Z=G[0],et=G[0],k=G[0],It=G[0],dt=0;dt<G.length;dt++){var bt=G[dt];bt[0]<Z[0]&&(Z=bt),bt[0]>k[0]&&(k=bt),bt[1]<et[1]&&(et=bt),bt[1]>It[1]&&(It=bt)}var K=[Z,et,k,It],Jt=K.slice();for(dt=0;dt<G.length;dt++)yt(G[dt],K)||Jt.push(G[dt]);return function ht(G){G.sort(j);for(var Z=[],et=0;et<G.length;et++){for(;Z.length>=2&&Ft(Z[Z.length-2],Z[Z.length-1],G[et])<=0;)Z.pop();Z.push(G[et])}for(var k=[],It=G.length-1;It>=0;It--){for(;k.length>=2&&Ft(k[k.length-2],k[k.length-1],G[It])<=0;)k.pop();k.push(G[It])}return k.pop(),Z.pop(),Z.concat(k)}(Jt)}(G),It=new J(16);It.toBBox=function(Ot){return{minX:Ot[0],minY:Ot[1],maxX:Ot[0],maxY:Ot[1]}},It.compareMinX=function(Ot,ut){return Ot[0]-ut[0]},It.compareMinY=function(Ot,ut){return Ot[1]-ut[1]},It.load(G);for(var K,dt=[],bt=0;bt<k.length;bt++){var Jt=k[bt];It.remove(Jt),K=H(Jt,K),dt.push(K)}var Lt=new J(16);for(bt=0;bt<dt.length;bt++)Lt.insert(Rt(dt[bt]));for(var lt=Z*Z,vt=et*et;dt.length;){var at=dt.shift(),gt=at.p,Ct=at.next.p,nt=ot(gt,Ct);if(!(nt<vt)){var Et=nt/lt;(Jt=rt(It,at.prev.p,gt,Ct,at.next.next.p,Et,Lt))&&Math.min(ot(Jt,gt),ot(Jt,Ct))<=Et&&(dt.push(at),dt.push(H(Jt,at)),It.remove(Jt),Lt.remove(at),Lt.insert(Rt(at)),Lt.insert(Rt(at.next)))}}at=K;var V=[];do{V.push(at.p),at=at.next}while(at!==K);return V.push(at.p),V}function rt(G,Z,et,k,It,dt,bt){for(var K=new tt([],xt),Jt=G.data;Jt;){for(var Lt=0;Lt<Jt.children.length;Lt++){var lt=Jt.children[Lt],vt=Jt.leaf?B(lt,et,k):Mt(et,k,lt);vt>dt||K.push({node:lt,dist:vt})}for(;K.length&&!K.peek().node.children;){var at=K.pop(),gt=at.node,Ct=B(gt,Z,et),nt=B(gt,k,It);if(at.dist<Ct&&at.dist<nt&&Gt(et,gt,bt)&&Gt(k,gt,bt))return gt}(Jt=K.pop())&&(Jt=Jt.node)}return null}function xt(G,Z){return G.dist-Z.dist}function Mt(G,Z,et){if(At(G,et)||At(Z,et))return 0;var k=Y(G[0],G[1],Z[0],Z[1],et.minX,et.minY,et.maxX,et.minY);if(0===k)return 0;var It=Y(G[0],G[1],Z[0],Z[1],et.minX,et.minY,et.minX,et.maxY);if(0===It)return 0;var dt=Y(G[0],G[1],Z[0],Z[1],et.maxX,et.minY,et.maxX,et.maxY);if(0===dt)return 0;var bt=Y(G[0],G[1],Z[0],Z[1],et.minX,et.maxY,et.maxX,et.maxY);return 0===bt?0:Math.min(k,It,dt,bt)}function At(G,Z){return G[0]>=Z.minX&&G[0]<=Z.maxX&&G[1]>=Z.minY&&G[1]<=Z.maxY}function Gt(G,Z,et){for(var k=Math.min(G[0],Z[0]),It=Math.min(G[1],Z[1]),dt=Math.max(G[0],Z[0]),bt=Math.max(G[1],Z[1]),K=et.search({minX:k,minY:It,maxX:dt,maxY:bt}),Jt=0;Jt<K.length;Jt++)if(Nt(K[Jt].p,K[Jt].next.p,G,Z))return!1;return!0}function Ft(G,Z,et){return ft(G[0],G[1],Z[0],Z[1],et[0],et[1])}function Nt(G,Z,et,k){return G!==k&&Z!==et&&Ft(G,Z,et)>0!=Ft(G,Z,k)>0&&Ft(et,k,G)>0!=Ft(et,k,Z)>0}function Rt(G){var Z=G.p,et=G.next.p;return G.minX=Math.min(Z[0],et[0]),G.minY=Math.min(Z[1],et[1]),G.maxX=Math.max(Z[0],et[0]),G.maxY=Math.max(Z[1],et[1]),G}function H(G,Z){var et={p:G,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return Z?(et.next=Z.next,et.prev=Z,Z.next.prev=et,Z.next=et):(et.prev=et,et.next=et),et}function ot(G,Z){var et=G[0]-Z[0],k=G[1]-Z[1];return et*et+k*k}function B(G,Z,et){var k=Z[0],It=Z[1],dt=et[0]-k,bt=et[1]-It;if(0!==dt||0!==bt){var K=((G[0]-k)*dt+(G[1]-It)*bt)/(dt*dt+bt*bt);K>1?(k=et[0],It=et[1]):K>0&&(k+=dt*K,It+=bt*K)}return(dt=G[0]-k)*dt+(bt=G[1]-It)*bt}function Y(G,Z,et,k,It,dt,bt,K){var Bt,Wt,Kt,jt,Jt=et-G,Lt=k-Z,lt=bt-It,vt=K-dt,at=G-It,gt=Z-dt,Ct=Jt*Jt+Lt*Lt,nt=Jt*lt+Lt*vt,Et=lt*lt+vt*vt,V=Jt*at+Lt*gt,Ot=lt*at+vt*gt,ut=Ct*Et-nt*nt,ve=ut,ne=ut;0===ut?(Wt=0,ve=1,jt=Ot,ne=Et):(jt=Ct*Ot-nt*V,(Wt=nt*Ot-Et*V)<0?(Wt=0,jt=Ot,ne=Et):Wt>ve&&(Wt=ve,jt=Ot+nt,ne=Et)),jt<0?(jt=0,-V<0?Wt=0:-V>Ct?Wt=ve:(Wt=-V,ve=Ct)):jt>ne&&(jt=ne,-V+nt<0?Wt=0:-V+nt>Ct?Wt=ve:(Wt=-V+nt,ve=Ct));var Tt=(1-(Kt=0===jt?0:jt/ne))*It+Kt*bt-((1-(Bt=0===Wt?0:Wt/ve))*G+Bt*et),X=(1-Kt)*dt+Kt*K-((1-Bt)*Z+Bt*k);return Tt*Tt+X*X}function j(G,Z){return G[0]===Z[0]?G[1]-Z[1]:G[0]-Z[0]}tt.default&&(tt=tt.default),te.exports=wt,te.exports.default=wt},938:function(te){te.exports=function(){"use strict";function Pt(H,ot,B,Y,j){!function ht(G,Z,et,k,It){for(;k>et;){if(k-et>600){var dt=k-et+1,bt=Z-et+1,K=Math.log(dt),Jt=.5*Math.exp(2*K/3),Lt=.5*Math.sqrt(K*Jt*(dt-Jt)/dt)*(bt-dt/2<0?-1:1);ht(G,Z,Math.max(et,Math.floor(Z-bt*Jt/dt+Lt)),Math.min(k,Math.floor(Z+(dt-bt)*Jt/dt+Lt)),It)}var at=G[Z],gt=et,Ct=k;for($(G,et,Z),It(G[k],at)>0&&$(G,et,k);gt<Ct;){for($(G,gt,Ct),gt++,Ct--;It(G[gt],at)<0;)gt++;for(;It(G[Ct],at)>0;)Ct--}0===It(G[et],at)?$(G,et,Ct):$(G,++Ct,k),Ct<=Z&&(et=Ct+1),Z<=Ct&&(k=Ct-1)}}(H,ot,B||0,Y||H.length-1,j||J)}function $(H,ot,B){var Y=H[ot];H[ot]=H[B],H[B]=Y}function J(H,ot){return H<ot?-1:H>ot?1:0}var tt=function(H){void 0===H&&(H=9),this._maxEntries=Math.max(4,H),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function yt(H,ot,B){if(!B)return ot.indexOf(H);for(var Y=0;Y<ot.length;Y++)if(B(H,ot[Y]))return Y;return-1}function ft(H,ot){wt(H,0,H.children.length,ot,H)}function wt(H,ot,B,Y,j){j||(j=Rt(null)),j.minX=1/0,j.minY=1/0,j.maxX=-1/0,j.maxY=-1/0;for(var ht=ot;ht<B;ht++){var G=H.children[ht];rt(j,H.leaf?Y(G):G)}return j}function rt(H,ot){return H.minX=Math.min(H.minX,ot.minX),H.minY=Math.min(H.minY,ot.minY),H.maxX=Math.max(H.maxX,ot.maxX),H.maxY=Math.max(H.maxY,ot.maxY),H}function xt(H,ot){return H.minX-ot.minX}function Mt(H,ot){return H.minY-ot.minY}function At(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function Gt(H){return H.maxX-H.minX+(H.maxY-H.minY)}function Ft(H,ot){return H.minX<=ot.minX&&H.minY<=ot.minY&&ot.maxX<=H.maxX&&ot.maxY<=H.maxY}function Nt(H,ot){return ot.minX<=H.maxX&&ot.minY<=H.maxY&&ot.maxX>=H.minX&&ot.maxY>=H.minY}function Rt(H){return{children:H,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ie(H,ot,B,Y,j){for(var ht=[ot,B];ht.length;)if(!((B=ht.pop())-(ot=ht.pop())<=Y)){var G=ot+Math.ceil((B-ot)/Y/2)*Y;Pt(H,G,ot,B,j),ht.push(ot,G,G,B)}}return tt.prototype.all=function(){return this._all(this.data,[])},tt.prototype.search=function(H){var ot=this.data,B=[];if(!Nt(H,ot))return B;for(var Y=this.toBBox,j=[];ot;){for(var ht=0;ht<ot.children.length;ht++){var G=ot.children[ht],Z=ot.leaf?Y(G):G;Nt(H,Z)&&(ot.leaf?B.push(G):Ft(H,Z)?this._all(G,B):j.push(G))}ot=j.pop()}return B},tt.prototype.collides=function(H){var ot=this.data;if(!Nt(H,ot))return!1;for(var B=[];ot;){for(var Y=0;Y<ot.children.length;Y++){var j=ot.children[Y],ht=ot.leaf?this.toBBox(j):j;if(Nt(H,ht)){if(ot.leaf||Ft(H,ht))return!0;B.push(j)}}ot=B.pop()}return!1},tt.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var ot=0;ot<H.length;ot++)this.insert(H[ot]);return this}var B=this._build(H.slice(),0,H.length-1,0);if(this.data.children.length)if(this.data.height===B.height)this._splitRoot(this.data,B);else{if(this.data.height<B.height){var Y=this.data;this.data=B,B=Y}this._insert(B,this.data.height-B.height-1,!0)}else this.data=B;return this},tt.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},tt.prototype.clear=function(){return this.data=Rt([]),this},tt.prototype.remove=function(H,ot){if(!H)return this;for(var B,Y,j,ht=this.data,G=this.toBBox(H),Z=[],et=[];ht||Z.length;){if(ht||(ht=Z.pop(),Y=Z[Z.length-1],B=et.pop(),j=!0),ht.leaf){var k=yt(H,ht.children,ot);if(-1!==k)return ht.children.splice(k,1),Z.push(ht),this._condense(Z),this}j||ht.leaf||!Ft(ht,G)?Y?(B++,ht=Y.children[B],j=!1):ht=null:(Z.push(ht),et.push(B),B=0,Y=ht,ht=ht.children[0])}return this},tt.prototype.toBBox=function(H){return H},tt.prototype.compareMinX=function(H,ot){return H.minX-ot.minX},tt.prototype.compareMinY=function(H,ot){return H.minY-ot.minY},tt.prototype.toJSON=function(){return this.data},tt.prototype.fromJSON=function(H){return this.data=H,this},tt.prototype._all=function(H,ot){for(var B=[];H;)H.leaf?ot.push.apply(ot,H.children):B.push.apply(B,H.children),H=B.pop();return ot},tt.prototype._build=function(H,ot,B,Y){var j,ht=B-ot+1,G=this._maxEntries;if(ht<=G)return ft(j=Rt(H.slice(ot,B+1)),this.toBBox),j;Y||(Y=Math.ceil(Math.log(ht)/Math.log(G)),G=Math.ceil(ht/Math.pow(G,Y-1))),(j=Rt([])).leaf=!1,j.height=Y;var Z=Math.ceil(ht/G),et=Z*Math.ceil(Math.sqrt(G));ie(H,ot,B,et,this.compareMinX);for(var k=ot;k<=B;k+=et){var It=Math.min(k+et-1,B);ie(H,k,It,Z,this.compareMinY);for(var dt=k;dt<=It;dt+=Z){var bt=Math.min(dt+Z-1,It);j.children.push(this._build(H,dt,bt,Y-1))}}return ft(j,this.toBBox),j},tt.prototype._chooseSubtree=function(H,ot,B,Y){for(;Y.push(ot),!ot.leaf&&Y.length-1!==B;){for(var j=1/0,ht=1/0,G=void 0,Z=0;Z<ot.children.length;Z++){var et=ot.children[Z],k=At(et),It=(dt=H,bt=et,(Math.max(bt.maxX,dt.maxX)-Math.min(bt.minX,dt.minX))*(Math.max(bt.maxY,dt.maxY)-Math.min(bt.minY,dt.minY))-k);It<ht?(ht=It,j=k<j?k:j,G=et):It===ht&&k<j&&(j=k,G=et)}ot=G||ot.children[0]}var dt,bt;return ot},tt.prototype._insert=function(H,ot,B){var Y=B?H:this.toBBox(H),j=[],ht=this._chooseSubtree(Y,this.data,ot,j);for(ht.children.push(H),rt(ht,Y);ot>=0&&j[ot].children.length>this._maxEntries;)this._split(j,ot),ot--;this._adjustParentBBoxes(Y,j,ot)},tt.prototype._split=function(H,ot){var B=H[ot],Y=B.children.length,j=this._minEntries;this._chooseSplitAxis(B,j,Y);var ht=this._chooseSplitIndex(B,j,Y),G=Rt(B.children.splice(ht,B.children.length-ht));G.height=B.height,G.leaf=B.leaf,ft(B,this.toBBox),ft(G,this.toBBox),ot?H[ot-1].children.push(G):this._splitRoot(B,G)},tt.prototype._splitRoot=function(H,ot){this.data=Rt([H,ot]),this.data.height=H.height+1,this.data.leaf=!1,ft(this.data,this.toBBox)},tt.prototype._chooseSplitIndex=function(H,ot,B){for(var Y,j,ht,G,Z,et,k,It=1/0,dt=1/0,bt=ot;bt<=B-ot;bt++){var K=wt(H,0,bt,this.toBBox),Jt=wt(H,bt,B,this.toBBox),Lt=(j=K,ht=Jt,void 0,void 0,void 0,void 0,G=Math.max(j.minX,ht.minX),Z=Math.max(j.minY,ht.minY),et=Math.min(j.maxX,ht.maxX),k=Math.min(j.maxY,ht.maxY),Math.max(0,et-G)*Math.max(0,k-Z)),lt=At(K)+At(Jt);Lt<It?(It=Lt,Y=bt,dt=lt<dt?lt:dt):Lt===It&&lt<dt&&(dt=lt,Y=bt)}return Y||B-ot},tt.prototype._chooseSplitAxis=function(H,ot,B){var Y=H.leaf?this.compareMinX:xt,j=H.leaf?this.compareMinY:Mt;this._allDistMargin(H,ot,B,Y)<this._allDistMargin(H,ot,B,j)&&H.children.sort(Y)},tt.prototype._allDistMargin=function(H,ot,B,Y){H.children.sort(Y);for(var j=this.toBBox,ht=wt(H,0,ot,j),G=wt(H,B-ot,B,j),Z=Gt(ht)+Gt(G),et=ot;et<B-ot;et++){var k=H.children[et];rt(ht,H.leaf?j(k):k),Z+=Gt(ht)}for(var It=B-ot-1;It>=ot;It--){var dt=H.children[It];rt(G,H.leaf?j(dt):dt),Z+=Gt(G)}return Z},tt.prototype._adjustParentBBoxes=function(H,ot,B){for(var Y=B;Y>=0;Y--)rt(ot[Y],H)},tt.prototype._condense=function(H){for(var ot=H.length-1,B=void 0;ot>=0;ot--)0===H[ot].children.length?ot>0?(B=H[ot-1].children).splice(B.indexOf(H[ot]),1):this.clear():ft(H[ot],this.toBBox)},tt}()},3970:(te,Pt,$)=>{var J=$(7809),tt=$(8147),yt=$(314),ft=$(4720),wt=$(1139),rt=$(2365),xt=Date.prototype.getTime;function At(Nt){return null==Nt}function Gt(Nt){return!(!Nt||"object"!=typeof Nt||"number"!=typeof Nt.length||"function"!=typeof Nt.copy||"function"!=typeof Nt.slice||Nt.length>0&&"number"!=typeof Nt[0])}te.exports=function Mt(Nt,Rt,ie){var H=ie||{};return!!(H.strict?yt(Nt,Rt):Nt===Rt)||(!Nt||!Rt||"object"!=typeof Nt&&"object"!=typeof Rt?H.strict?yt(Nt,Rt):Nt==Rt:function Ft(Nt,Rt,ie){var H,ot;if(typeof Nt!=typeof Rt||At(Nt)||At(Rt)||Nt.prototype!==Rt.prototype||tt(Nt)!==tt(Rt))return!1;var B=ft(Nt),Y=ft(Rt);if(B!==Y)return!1;if(B||Y)return Nt.source===Rt.source&&wt(Nt)===wt(Rt);if(rt(Nt)&&rt(Rt))return xt.call(Nt)===xt.call(Rt);var j=Gt(Nt),ht=Gt(Rt);if(j!==ht)return!1;if(j||ht){if(Nt.length!==Rt.length)return!1;for(H=0;H<Nt.length;H++)if(Nt[H]!==Rt[H])return!1;return!0}if(typeof Nt!=typeof Rt)return!1;try{var G=J(Nt),Z=J(Rt)}catch{return!1}if(G.length!==Z.length)return!1;for(G.sort(),Z.sort(),H=G.length-1;H>=0;H--)if(G[H]!=Z[H])return!1;for(H=G.length-1;H>=0;H--)if(!Mt(Nt[ot=G[H]],Rt[ot],ie))return!1;return!0}(Nt,Rt,H))}},9224:(te,Pt,$)=>{"use strict";var J=$(2486)(),tt=$(491),yt=J&&tt("%Object.defineProperty%",!0);if(yt)try{yt({},"a",{value:1})}catch{yt=!1}var ft=tt("%SyntaxError%"),wt=tt("%TypeError%"),rt=$(9262);te.exports=function(Mt,At,Gt){if(!Mt||"object"!=typeof Mt&&"function"!=typeof Mt)throw new wt("`obj` must be an object or a function`");if("string"!=typeof At&&"symbol"!=typeof At)throw new wt("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new wt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new wt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new wt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new wt("`loose`, if provided, must be a boolean");var Ft=arguments.length>3?arguments[3]:null,Nt=arguments.length>4?arguments[4]:null,Rt=arguments.length>5?arguments[5]:null,ie=arguments.length>6&&arguments[6],H=!!rt&&rt(Mt,At);if(yt)yt(Mt,At,{configurable:null===Rt&&H?H.configurable:!Rt,enumerable:null===Ft&&H?H.enumerable:!Ft,value:Gt,writable:null===Nt&&H?H.writable:!Nt});else{if(!ie&&(Ft||Nt||Rt))throw new ft("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");Mt[At]=Gt}}},1648:(te,Pt,$)=>{"use strict";var J=$(7809),tt="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),yt=Object.prototype.toString,ft=Array.prototype.concat,wt=$(9224),xt=$(2486)(),Mt=function(Gt,Ft,Nt,Rt){if(Ft in Gt)if(!0===Rt){if(Gt[Ft]===Nt)return}else if(!function(Gt){return"function"==typeof Gt&&"[object Function]"===yt.call(Gt)}(Rt)||!Rt())return;xt?wt(Gt,Ft,Nt,!0):wt(Gt,Ft,Nt)},At=function(Gt,Ft){var Nt=arguments.length>2?arguments[2]:{},Rt=J(Ft);tt&&(Rt=ft.call(Rt,Object.getOwnPropertySymbols(Ft)));for(var ie=0;ie<Rt.length;ie+=1)Mt(Gt,Rt[ie],Ft[Rt[ie]],Nt[Rt[ie]])};At.supportsDescriptors=!!xt,te.exports=At},7649:te=>{function Pt($,J,tt,yt){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init($,J,tt,yt)}Pt.prototype.run=function($,J,tt,yt){this._init($,J,tt,yt);for(var ft=0;ft<this._datasetLength;ft++)if(1!==this._visited[ft]){this._visited[ft]=1;var wt=this._regionQuery(ft);if(wt.length<this.minPts)this.noise.push(ft);else{var rt=this.clusters.length;this.clusters.push([]),this._addToCluster(ft,rt),this._expandCluster(rt,wt)}}return this.clusters},Pt.prototype._init=function($,J,tt,yt){if($){if(!($ instanceof Array))throw Error("Dataset must be of type array, "+typeof $+" given");this.dataset=$,this.clusters=[],this.noise=[],this._datasetLength=$.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}J&&(this.epsilon=J),tt&&(this.minPts=tt),yt&&(this.distance=yt)},Pt.prototype._expandCluster=function($,J){for(var tt=0;tt<J.length;tt++){var yt=J[tt];if(1!==this._visited[yt]){this._visited[yt]=1;var ft=this._regionQuery(yt);ft.length>=this.minPts&&(J=this._mergeArrays(J,ft))}1!==this._assigned[yt]&&this._addToCluster(yt,$)}},Pt.prototype._addToCluster=function($,J){this.clusters[J].push($),this._assigned[$]=1},Pt.prototype._regionQuery=function($){for(var J=[],tt=0;tt<this._datasetLength;tt++)this.distance(this.dataset[$],this.dataset[tt])<this.epsilon&&J.push(tt);return J},Pt.prototype._mergeArrays=function($,J){for(var tt=J.length,yt=0;yt<tt;yt++){var ft=J[yt];$.indexOf(ft)<0&&$.push(ft)}return $},Pt.prototype._euclideanDistance=function($,J){for(var tt=0,yt=Math.min($.length,J.length);yt--;)tt+=($[yt]-J[yt])*($[yt]-J[yt]);return Math.sqrt(tt)},te.exports&&(te.exports=Pt)},442:te=>{function Pt($,J,tt){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init($,J,tt)}Pt.prototype.init=function($,J,tt){this.assignments=[],this.centroids=[],typeof $<"u"&&(this.dataset=$),typeof J<"u"&&(this.k=J),typeof tt<"u"&&(this.distance=tt)},Pt.prototype.run=function($,J){this.init($,J);for(var tt=this.dataset.length,yt=0;yt<this.k;yt++)this.centroids[yt]=this.randomCentroid();for(var ft=!0;ft;){ft=this.assign();for(var wt=0;wt<this.k;wt++){for(var rt=new Array(Gt),xt=0,Mt=0;Mt<Gt;Mt++)rt[Mt]=0;for(var At=0;At<tt;At++){var Gt=this.dataset[At].length;if(wt===this.assignments[At]){for(Mt=0;Mt<Gt;Mt++)rt[Mt]+=this.dataset[At][Mt];xt++}}if(xt>0){for(Mt=0;Mt<Gt;Mt++)rt[Mt]/=xt;this.centroids[wt]=rt}else this.centroids[wt]=this.randomCentroid(),ft=!0}}return this.getClusters()},Pt.prototype.randomCentroid=function(){var J,tt,$=this.dataset.length-1;do{tt=Math.round(Math.random()*$),J=this.dataset[tt]}while(this.centroids.indexOf(J)>=0);return J},Pt.prototype.assign=function(){for(var tt,$=!1,J=this.dataset.length,yt=0;yt<J;yt++)(tt=this.argmin(this.dataset[yt],this.centroids,this.distance))!=this.assignments[yt]&&(this.assignments[yt]=tt,$=!0);return $},Pt.prototype.getClusters=function(){for(var J,$=new Array(this.k),tt=0;tt<this.assignments.length;tt++)typeof $[J=this.assignments[tt]]>"u"&&($[J]=[]),$[J].push(tt);return $},Pt.prototype.argmin=function($,J,tt){for(var rt,yt=Number.MAX_VALUE,ft=0,wt=J.length,xt=0;xt<wt;xt++)(rt=tt($,J[xt]))<yt&&(yt=rt,ft=xt);return ft},Pt.prototype.distance=function($,J){for(var tt=0,yt=Math.min($.length,J.length);yt--;){var ft=$[yt]-J[yt];tt+=ft*ft}return Math.sqrt(tt)},te.exports&&(te.exports=Pt)},2195:(te,Pt,$)=>{if(te.exports)var J=$(6216);function tt(yt,ft,wt,rt){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(yt,ft,wt,rt)}tt.prototype.run=function(yt,ft,wt,rt){this._init(yt,ft,wt,rt);for(var xt=0,Mt=this.dataset.length;xt<Mt;xt++)if(1!==this._processed[xt]){this._processed[xt]=1,this.clusters.push([xt]);var At=this.clusters.length-1;this._orderedList.push(xt);var Gt=new J(null,null,"asc"),Ft=this._regionQuery(xt);void 0!==this._distanceToCore(xt)&&(this._updateQueue(xt,Ft,Gt),this._expandCluster(At,Gt))}return this.clusters},tt.prototype.getReachabilityPlot=function(){for(var yt=[],ft=0,wt=this._orderedList.length;ft<wt;ft++){var rt=this._orderedList[ft];yt.push([rt,this._reachability[rt]])}return yt},tt.prototype._init=function(yt,ft,wt,rt){if(yt){if(!(yt instanceof Array))throw Error("Dataset must be of type array, "+typeof yt+" given");this.dataset=yt,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}ft&&(this.epsilon=ft),wt&&(this.minPts=wt),rt&&(this.distance=rt)},tt.prototype._updateQueue=function(yt,ft,wt){var rt=this;this._coreDistance=this._distanceToCore(yt),ft.forEach(function(xt){if(void 0===rt._processed[xt]){var Mt=rt.distance(rt.dataset[yt],rt.dataset[xt]),At=Math.max(rt._coreDistance,Mt);void 0===rt._reachability[xt]?(rt._reachability[xt]=At,wt.insert(xt,At)):At<rt._reachability[xt]&&(rt._reachability[xt]=At,wt.remove(xt),wt.insert(xt,At))}})},tt.prototype._expandCluster=function(yt,ft){for(var wt=ft.getElements(),rt=0,xt=wt.length;rt<xt;rt++){var Mt=wt[rt];if(void 0===this._processed[Mt]){var At=this._regionQuery(Mt);this._processed[Mt]=1,this.clusters[yt].push(Mt),this._orderedList.push(Mt),void 0!==this._distanceToCore(Mt)&&(this._updateQueue(Mt,At,ft),this._expandCluster(yt,ft))}}},tt.prototype._distanceToCore=function(yt){for(var ft=this.epsilon,wt=0;wt<ft;wt++)if(this._regionQuery(yt,wt).length>=this.minPts)return wt},tt.prototype._regionQuery=function(yt,ft){ft=ft||this.epsilon;for(var wt=[],rt=0,xt=this.dataset.length;rt<xt;rt++)this.distance(this.dataset[yt],this.dataset[rt])<ft&&wt.push(rt);return wt},tt.prototype._euclideanDistance=function(yt,ft){for(var wt=0,rt=Math.min(yt.length,ft.length);rt--;)wt+=(yt[rt]-ft[rt])*(yt[rt]-ft[rt]);return Math.sqrt(wt)},te.exports&&(te.exports=tt)},6216:te=>{function Pt($,J,tt){this._queue=[],this._priorities=[],this._sorting="desc",this._init($,J,tt)}Pt.prototype.insert=function($,J){for(var tt=this._queue.length,yt=tt;yt--;){var ft=this._priorities[yt];"desc"===this._sorting?J>ft&&(tt=yt):J<ft&&(tt=yt)}this._insertAt($,J,tt)},Pt.prototype.remove=function($){for(var J=this._queue.length;J--;)if($===this._queue[J]){this._queue.splice(J,1),this._priorities.splice(J,1);break}},Pt.prototype.forEach=function($){this._queue.forEach($)},Pt.prototype.getElements=function(){return this._queue},Pt.prototype.getElementPriority=function($){return this._priorities[$]},Pt.prototype.getPriorities=function(){return this._priorities},Pt.prototype.getElementsWithPriorities=function(){for(var $=[],J=0,tt=this._queue.length;J<tt;J++)$.push([this._queue[J],this._priorities[J]]);return $},Pt.prototype._init=function($,J,tt){if($&&J){if(this._queue=[],this._priorities=[],$.length!==J.length)throw new Error("Arrays must have the same length");for(var yt=0;yt<$.length;yt++)this.insert($[yt],J[yt])}tt&&(this._sorting=tt)},Pt.prototype._insertAt=function($,J,tt){this._queue.length===tt?(this._queue.push($),this._priorities.push(J)):(this._queue.splice(tt,0,$),this._priorities.splice(tt,0,J))},te.exports&&(te.exports=Pt)},3367:(te,Pt,$)=>{te.exports&&(te.exports={DBSCAN:$(7649),KMEANS:$(442),OPTICS:$(2195),PriorityQueue:$(6216)})},9145:te=>{"use strict";function Pt(lt,vt,at){at=at||2;var V,Ot,ut,Bt,Wt,Kt,jt,gt=vt&&vt.length,Ct=gt?vt[0]*at:lt.length,nt=$(lt,0,Ct,at,!0),Et=[];if(!nt||nt.next===nt.prev)return Et;if(gt&&(nt=function xt(lt,vt,at,gt){var nt,Et,ut,Ct=[];for(nt=0,Et=vt.length;nt<Et;nt++)(ut=$(lt,vt[nt]*gt,nt<Et-1?vt[nt+1]*gt:lt.length,gt,!1))===ut.next&&(ut.steiner=!0),Ct.push(H(ut));for(Ct.sort(Mt),nt=0;nt<Ct.length;nt++)at=At(Ct[nt],at);return at}(lt,vt,nt,at)),lt.length>80*at){V=ut=lt[0],Ot=Bt=lt[1];for(var ve=at;ve<Ct;ve+=at)(Wt=lt[ve])<V&&(V=Wt),(Kt=lt[ve+1])<Ot&&(Ot=Kt),Wt>ut&&(ut=Wt),Kt>Bt&&(Bt=Kt);jt=0!==(jt=Math.max(ut-V,Bt-Ot))?32767/jt:0}return tt(nt,Et,at,V,Ot,jt,0),Et}function $(lt,vt,at,gt,Ct){var nt,Et;if(Ct===Lt(lt,vt,at,gt)>0)for(nt=vt;nt<at;nt+=gt)Et=bt(nt,lt[nt],lt[nt+1],Et);else for(nt=at-gt;nt>=vt;nt-=gt)Et=bt(nt,lt[nt],lt[nt+1],Et);return Et&&j(Et,Et.next)&&(K(Et),Et=Et.next),Et}function J(lt,vt){if(!lt)return lt;vt||(vt=lt);var gt,at=lt;do{if(gt=!1,at.steiner||!j(at,at.next)&&0!==Y(at.prev,at,at.next))at=at.next;else{if(K(at),(at=vt=at.prev)===at.next)break;gt=!0}}while(gt||at!==vt);return vt}function tt(lt,vt,at,gt,Ct,nt,Et){if(lt){!Et&&nt&&function Nt(lt,vt,at,gt){var Ct=lt;do{0===Ct.z&&(Ct.z=ie(Ct.x,Ct.y,vt,at,gt)),Ct.prevZ=Ct.prev,Ct.nextZ=Ct.next,Ct=Ct.next}while(Ct!==lt);Ct.prevZ.nextZ=null,Ct.prevZ=null,function Rt(lt){var vt,at,gt,Ct,nt,Et,V,Ot,ut=1;do{for(at=lt,lt=null,nt=null,Et=0;at;){for(Et++,gt=at,V=0,vt=0;vt<ut&&(V++,gt=gt.nextZ);vt++);for(Ot=ut;V>0||Ot>0&&gt;)0!==V&&(0===Ot||!gt||at.z<=gt.z)?(Ct=at,at=at.nextZ,V--):(Ct=gt,gt=gt.nextZ,Ot--),nt?nt.nextZ=Ct:lt=Ct,Ct.prevZ=nt,nt=Ct;at=gt}nt.nextZ=null,ut*=2}while(Et>1)}(Ct)}(lt,gt,Ct,nt);for(var Ot,ut,V=lt;lt.prev!==lt.next;)if(Ot=lt.prev,ut=lt.next,nt?ft(lt,gt,Ct,nt):yt(lt))vt.push(Ot.i/at|0),vt.push(lt.i/at|0),vt.push(ut.i/at|0),K(lt),lt=ut.next,V=ut.next;else if((lt=ut)===V){Et?1===Et?tt(lt=wt(J(lt),vt,at),vt,at,gt,Ct,nt,2):2===Et&&rt(lt,vt,at,gt,Ct,nt):tt(J(lt),vt,at,gt,Ct,nt,1);break}}}function yt(lt){var vt=lt.prev,at=lt,gt=lt.next;if(Y(vt,at,gt)>=0)return!1;for(var Ct=vt.x,nt=at.x,Et=gt.x,V=vt.y,Ot=at.y,ut=gt.y,Bt=Ct<nt?Ct<Et?Ct:Et:nt<Et?nt:Et,Wt=V<Ot?V<ut?V:ut:Ot<ut?Ot:ut,Kt=Ct>nt?Ct>Et?Ct:Et:nt>Et?nt:Et,jt=V>Ot?V>ut?V:ut:Ot>ut?Ot:ut,ve=gt.next;ve!==vt;){if(ve.x>=Bt&&ve.x<=Kt&&ve.y>=Wt&&ve.y<=jt&&ot(Ct,V,nt,Ot,Et,ut,ve.x,ve.y)&&Y(ve.prev,ve,ve.next)>=0)return!1;ve=ve.next}return!0}function ft(lt,vt,at,gt){var Ct=lt.prev,nt=lt,Et=lt.next;if(Y(Ct,nt,Et)>=0)return!1;for(var V=Ct.x,Ot=nt.x,ut=Et.x,Bt=Ct.y,Wt=nt.y,Kt=Et.y,jt=V<Ot?V<ut?V:ut:Ot<ut?Ot:ut,ve=Bt<Wt?Bt<Kt?Bt:Kt:Wt<Kt?Wt:Kt,ne=V>Ot?V>ut?V:ut:Ot>ut?Ot:ut,vn=Bt>Wt?Bt>Kt?Bt:Kt:Wt>Kt?Wt:Kt,yn=ie(jt,ve,vt,at,gt),En=ie(ne,vn,vt,at,gt),Be=lt.prevZ,Tt=lt.nextZ;Be&&Be.z>=yn&&Tt&&Tt.z<=En;){if(Be.x>=jt&&Be.x<=ne&&Be.y>=ve&&Be.y<=vn&&Be!==Ct&&Be!==Et&&ot(V,Bt,Ot,Wt,ut,Kt,Be.x,Be.y)&&Y(Be.prev,Be,Be.next)>=0||(Be=Be.prevZ,Tt.x>=jt&&Tt.x<=ne&&Tt.y>=ve&&Tt.y<=vn&&Tt!==Ct&&Tt!==Et&&ot(V,Bt,Ot,Wt,ut,Kt,Tt.x,Tt.y)&&Y(Tt.prev,Tt,Tt.next)>=0))return!1;Tt=Tt.nextZ}for(;Be&&Be.z>=yn;){if(Be.x>=jt&&Be.x<=ne&&Be.y>=ve&&Be.y<=vn&&Be!==Ct&&Be!==Et&&ot(V,Bt,Ot,Wt,ut,Kt,Be.x,Be.y)&&Y(Be.prev,Be,Be.next)>=0)return!1;Be=Be.prevZ}for(;Tt&&Tt.z<=En;){if(Tt.x>=jt&&Tt.x<=ne&&Tt.y>=ve&&Tt.y<=vn&&Tt!==Ct&&Tt!==Et&&ot(V,Bt,Ot,Wt,ut,Kt,Tt.x,Tt.y)&&Y(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.nextZ}return!0}function wt(lt,vt,at){var gt=lt;do{var Ct=gt.prev,nt=gt.next.next;!j(Ct,nt)&&ht(Ct,gt,gt.next,nt)&&k(Ct,nt)&&k(nt,Ct)&&(vt.push(Ct.i/at|0),vt.push(gt.i/at|0),vt.push(nt.i/at|0),K(gt),K(gt.next),gt=lt=nt),gt=gt.next}while(gt!==lt);return J(gt)}function rt(lt,vt,at,gt,Ct,nt){var Et=lt;do{for(var V=Et.next.next;V!==Et.prev;){if(Et.i!==V.i&&B(Et,V)){var Ot=dt(Et,V);return Et=J(Et,Et.next),Ot=J(Ot,Ot.next),tt(Et,vt,at,gt,Ct,nt,0),void tt(Ot,vt,at,gt,Ct,nt,0)}V=V.next}Et=Et.next}while(Et!==lt)}function Mt(lt,vt){return lt.x-vt.x}function At(lt,vt){var at=function Gt(lt,vt){var Et,at=vt,gt=lt.x,Ct=lt.y,nt=-1/0;do{if(Ct<=at.y&&Ct>=at.next.y&&at.next.y!==at.y){var V=at.x+(Ct-at.y)*(at.next.x-at.x)/(at.next.y-at.y);if(V<=gt&&V>nt&&(nt=V,Et=at.x<at.next.x?at:at.next,V===gt))return Et}at=at.next}while(at!==vt);if(!Et)return null;var Kt,Ot=Et,ut=Et.x,Bt=Et.y,Wt=1/0;at=Et;do{gt>=at.x&&at.x>=ut&&gt!==at.x&&ot(Ct<Bt?gt:nt,Ct,ut,Bt,Ct<Bt?nt:gt,Ct,at.x,at.y)&&(Kt=Math.abs(Ct-at.y)/(gt-at.x),k(at,lt)&&(Kt<Wt||Kt===Wt&&(at.x>Et.x||at.x===Et.x&&Ft(Et,at)))&&(Et=at,Wt=Kt)),at=at.next}while(at!==Ot);return Et}(lt,vt);if(!at)return vt;var gt=dt(at,lt);return J(gt,gt.next),J(at,at.next)}function Ft(lt,vt){return Y(lt.prev,lt,vt.prev)<0&&Y(vt.next,lt,lt.next)<0}function ie(lt,vt,at,gt,Ct){return(lt=1431655765&((lt=858993459&((lt=252645135&((lt=16711935&((lt=(lt-at)*Ct|0)|lt<<8))|lt<<4))|lt<<2))|lt<<1))|(vt=1431655765&((vt=858993459&((vt=252645135&((vt=16711935&((vt=(vt-gt)*Ct|0)|vt<<8))|vt<<4))|vt<<2))|vt<<1))<<1}function H(lt){var vt=lt,at=lt;do{(vt.x<at.x||vt.x===at.x&&vt.y<at.y)&&(at=vt),vt=vt.next}while(vt!==lt);return at}function ot(lt,vt,at,gt,Ct,nt,Et,V){return(Ct-Et)*(vt-V)>=(lt-Et)*(nt-V)&&(lt-Et)*(gt-V)>=(at-Et)*(vt-V)&&(at-Et)*(nt-V)>=(Ct-Et)*(gt-V)}function B(lt,vt){return lt.next.i!==vt.i&&lt.prev.i!==vt.i&&!function et(lt,vt){var at=lt;do{if(at.i!==lt.i&&at.next.i!==lt.i&&at.i!==vt.i&&at.next.i!==vt.i&&ht(at,at.next,lt,vt))return!0;at=at.next}while(at!==lt);return!1}(lt,vt)&&(k(lt,vt)&&k(vt,lt)&&function It(lt,vt){var at=lt,gt=!1,Ct=(lt.x+vt.x)/2,nt=(lt.y+vt.y)/2;do{at.y>nt!=at.next.y>nt&&at.next.y!==at.y&&Ct<(at.next.x-at.x)*(nt-at.y)/(at.next.y-at.y)+at.x&&(gt=!gt),at=at.next}while(at!==lt);return gt}(lt,vt)&&(Y(lt.prev,lt,vt.prev)||Y(lt,vt.prev,vt))||j(lt,vt)&&Y(lt.prev,lt,lt.next)>0&&Y(vt.prev,vt,vt.next)>0)}function Y(lt,vt,at){return(vt.y-lt.y)*(at.x-vt.x)-(vt.x-lt.x)*(at.y-vt.y)}function j(lt,vt){return lt.x===vt.x&&lt.y===vt.y}function ht(lt,vt,at,gt){var Ct=Z(Y(lt,vt,at)),nt=Z(Y(lt,vt,gt)),Et=Z(Y(at,gt,lt)),V=Z(Y(at,gt,vt));return!!(Ct!==nt&&Et!==V||0===Ct&&G(lt,at,vt)||0===nt&&G(lt,gt,vt)||0===Et&&G(at,lt,gt)||0===V&&G(at,vt,gt))}function G(lt,vt,at){return vt.x<=Math.max(lt.x,at.x)&&vt.x>=Math.min(lt.x,at.x)&&vt.y<=Math.max(lt.y,at.y)&&vt.y>=Math.min(lt.y,at.y)}function Z(lt){return lt>0?1:lt<0?-1:0}function k(lt,vt){return Y(lt.prev,lt,lt.next)<0?Y(lt,vt,lt.next)>=0&&Y(lt,lt.prev,vt)>=0:Y(lt,vt,lt.prev)<0||Y(lt,lt.next,vt)<0}function dt(lt,vt){var at=new Jt(lt.i,lt.x,lt.y),gt=new Jt(vt.i,vt.x,vt.y),Ct=lt.next,nt=vt.prev;return lt.next=vt,vt.prev=lt,at.next=Ct,Ct.prev=at,gt.next=at,at.prev=gt,nt.next=gt,gt.prev=nt,gt}function bt(lt,vt,at,gt){var Ct=new Jt(lt,vt,at);return gt?(Ct.next=gt.next,Ct.prev=gt,gt.next.prev=Ct,gt.next=Ct):(Ct.prev=Ct,Ct.next=Ct),Ct}function K(lt){lt.next.prev=lt.prev,lt.prev.next=lt.next,lt.prevZ&&(lt.prevZ.nextZ=lt.nextZ),lt.nextZ&&(lt.nextZ.prevZ=lt.prevZ)}function Jt(lt,vt,at){this.i=lt,this.x=vt,this.y=at,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lt(lt,vt,at,gt){for(var Ct=0,nt=vt,Et=at-gt;nt<at;nt+=gt)Ct+=(lt[Et]-lt[nt])*(lt[nt+1]+lt[Et+1]),Et=nt;return Ct}te.exports=Pt,te.exports.default=Pt,Pt.deviation=function(lt,vt,at,gt){var Ct=vt&&vt.length,Et=Math.abs(Lt(lt,0,Ct?vt[0]*at:lt.length,at));if(Ct)for(var V=0,Ot=vt.length;V<Ot;V++)Et-=Math.abs(Lt(lt,vt[V]*at,V<Ot-1?vt[V+1]*at:lt.length,at));var Wt=0;for(V=0;V<gt.length;V+=3){var Kt=gt[V]*at,jt=gt[V+1]*at,ve=gt[V+2]*at;Wt+=Math.abs((lt[Kt]-lt[ve])*(lt[jt+1]-lt[Kt+1])-(lt[Kt]-lt[jt])*(lt[ve+1]-lt[Kt+1]))}return 0===Et&&0===Wt?0:Math.abs((Wt-Et)/Et)},Pt.flatten=function(lt){for(var vt=lt[0][0].length,at={vertices:[],holes:[],dimensions:vt},gt=0,Ct=0;Ct<lt.length;Ct++){for(var nt=0;nt<lt[Ct].length;nt++)for(var Et=0;Et<vt;Et++)at.vertices.push(lt[Ct][nt][Et]);Ct>0&&at.holes.push(gt+=lt[Ct-1].length)}return at}},238:te=>{"use strict";var $=Object.prototype.toString,J=Math.max,yt=function(xt,Mt){for(var At=[],Gt=0;Gt<xt.length;Gt+=1)At[Gt]=xt[Gt];for(var Ft=0;Ft<Mt.length;Ft+=1)At[Ft+xt.length]=Mt[Ft];return At};te.exports=function(xt){var Mt=this;if("function"!=typeof Mt||"[object Function]"!==$.apply(Mt))throw new TypeError("Function.prototype.bind called on incompatible "+Mt);for(var Gt,At=function(xt,Mt){for(var At=[],Gt=1,Ft=0;Gt<xt.length;Gt+=1,Ft+=1)At[Ft]=xt[Gt];return At}(arguments),Nt=J(0,Mt.length-At.length),Rt=[],ie=0;ie<Nt;ie++)Rt[ie]="$"+ie;if(Gt=Function("binder","return function ("+function(rt,xt){for(var Mt="",At=0;At<rt.length;At+=1)Mt+=rt[At],At+1<rt.length&&(Mt+=",");return Mt}(Rt)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof Gt){var ot=Mt.apply(this,yt(At,arguments));return Object(ot)===ot?ot:this}return Mt.apply(xt,yt(At,arguments))}),Mt.prototype){var H=function(){};H.prototype=Mt.prototype,Gt.prototype=new H,H.prototype=null}return Gt}},5333:(te,Pt,$)=>{"use strict";var J=$(238);te.exports=Function.prototype.bind||J},1552:te=>{"use strict";var Pt=function(){return"string"==typeof function(){}.name},$=Object.getOwnPropertyDescriptor;if($)try{$([],"length")}catch{$=null}Pt.functionsHaveConfigurableNames=function(){if(!Pt()||!$)return!1;var yt=$(function(){},"name");return!!yt&&!!yt.configurable};var J=Function.prototype.bind;Pt.boundFunctionsHaveNames=function(){return Pt()&&"function"==typeof J&&""!==function(){}.bind().name},te.exports=Pt},3198:(te,Pt,$)=>{var J=$(3970),tt=function(rt){this.precision=rt&&rt.precision?rt.precision:17,this.direction=!(!rt||!rt.direction)&&rt.direction,this.pseudoNode=!(!rt||!rt.pseudoNode)&&rt.pseudoNode,this.objectComparator=rt&&rt.objectComparator?rt.objectComparator:wt};function yt(rt){return rt.coordinates.map(function(xt){return{type:rt.type.replace("Multi",""),coordinates:xt}})}function ft(rt,xt){return rt.hasOwnProperty("coordinates")?rt.coordinates.length===xt.coordinates.length:rt.length===xt.length}function wt(rt,xt){return J(rt,xt,{strict:!0})}tt.prototype.compare=function(rt,xt){if(rt.type!==xt.type||!ft(rt,xt))return!1;switch(rt.type){case"Point":return this.compareCoord(rt.coordinates,xt.coordinates);case"LineString":return this.compareLine(rt.coordinates,xt.coordinates,0,!1);case"Polygon":return this.comparePolygon(rt,xt);case"Feature":return this.compareFeature(rt,xt);default:if(0===rt.type.indexOf("Multi")){var Mt=this,At=yt(rt),Gt=yt(xt);return At.every(function(Ft){return this.some(function(Nt){return Mt.compare(Ft,Nt)})},Gt)}}return!1},tt.prototype.compareCoord=function(rt,xt){if(rt.length!==xt.length)return!1;for(var Mt=0;Mt<rt.length;Mt++)if(rt[Mt].toFixed(this.precision)!==xt[Mt].toFixed(this.precision))return!1;return!0},tt.prototype.compareLine=function(rt,xt,Mt,At){if(!ft(rt,xt))return!1;var Gt=this.pseudoNode?rt:this.removePseudo(rt),Ft=this.pseudoNode?xt:this.removePseudo(xt);if(!At||this.compareCoord(Gt[0],Ft[0])||(Ft=this.fixStartIndex(Ft,Gt))){var Nt=this.compareCoord(Gt[Mt],Ft[Mt]);return this.direction||Nt?this.comparePath(Gt,Ft):!!this.compareCoord(Gt[Mt],Ft[Ft.length-(1+Mt)])&&this.comparePath(Gt.slice().reverse(),Ft)}},tt.prototype.fixStartIndex=function(rt,xt){for(var Mt,At=-1,Gt=0;Gt<rt.length;Gt++)if(this.compareCoord(rt[Gt],xt[0])){At=Gt;break}return At>=0&&(Mt=[].concat(rt.slice(At,rt.length),rt.slice(1,At+1))),Mt},tt.prototype.comparePath=function(rt,xt){var Mt=this;return rt.every(function(At,Gt){return Mt.compareCoord(At,this[Gt])},xt)},tt.prototype.comparePolygon=function(rt,xt){if(this.compareLine(rt.coordinates[0],xt.coordinates[0],1,!0)){var Mt=rt.coordinates.slice(1,rt.coordinates.length),At=xt.coordinates.slice(1,xt.coordinates.length),Gt=this;return Mt.every(function(Ft){return this.some(function(Nt){return Gt.compareLine(Ft,Nt,1,!0)})},At)}return!1},tt.prototype.compareFeature=function(rt,xt){return!(rt.id!==xt.id||!this.objectComparator(rt.properties,xt.properties)||!this.compareBBox(rt,xt))&&this.compare(rt.geometry,xt.geometry)},tt.prototype.compareBBox=function(rt,xt){return!!(!rt.bbox&&!xt.bbox||rt.bbox&&xt.bbox&&this.compareCoord(rt.bbox,xt.bbox))},tt.prototype.removePseudo=function(rt){return rt},te.exports=tt},5665:(te,Pt,$)=>{var J=$(7571),tt=$(621),yt=$(8570),ft=$(1568).Z,wt=yt.featureEach,Mt=tt.featureCollection;function At(Gt){var Ft=new J(Gt);return Ft.insert=function(Nt){if("Feature"!==Nt.type)throw new Error("invalid feature");return Nt.bbox=Nt.bbox?Nt.bbox:ft(Nt),J.prototype.insert.call(this,Nt)},Ft.load=function(Nt){var Rt=[];return Array.isArray(Nt)?Nt.forEach(function(ie){if("Feature"!==ie.type)throw new Error("invalid features");ie.bbox=ie.bbox?ie.bbox:ft(ie),Rt.push(ie)}):wt(Nt,function(ie){if("Feature"!==ie.type)throw new Error("invalid features");ie.bbox=ie.bbox?ie.bbox:ft(ie),Rt.push(ie)}),J.prototype.load.call(this,Rt)},Ft.remove=function(Nt,Rt){if("Feature"!==Nt.type)throw new Error("invalid feature");return Nt.bbox=Nt.bbox?Nt.bbox:ft(Nt),J.prototype.remove.call(this,Nt,Rt)},Ft.clear=function(){return J.prototype.clear.call(this)},Ft.search=function(Nt){var Rt=J.prototype.search.call(this,this.toBBox(Nt));return Mt(Rt)},Ft.collides=function(Nt){return J.prototype.collides.call(this,this.toBBox(Nt))},Ft.all=function(){var Nt=J.prototype.all.call(this);return Mt(Nt)},Ft.toJSON=function(){return J.prototype.toJSON.call(this)},Ft.fromJSON=function(Nt){return J.prototype.fromJSON.call(this,Nt)},Ft.toBBox=function(Nt){var Rt;if(Nt.bbox)Rt=Nt.bbox;else if(Array.isArray(Nt)&&4===Nt.length)Rt=Nt;else if(Array.isArray(Nt)&&6===Nt.length)Rt=[Nt[0],Nt[1],Nt[3],Nt[4]];else if("Feature"===Nt.type)Rt=ft(Nt);else{if("FeatureCollection"!==Nt.type)throw new Error("invalid geojson");Rt=ft(Nt)}return{minX:Rt[0],minY:Rt[1],maxX:Rt[2],maxY:Rt[3]}},Ft}te.exports=At,te.exports.default=At},7571:function(te){te.exports=function(){"use strict";function Pt(H,ot,B,Y,j){!function ht(G,Z,et,k,It){for(;k>et;){if(k-et>600){var dt=k-et+1,bt=Z-et+1,K=Math.log(dt),Jt=.5*Math.exp(2*K/3),Lt=.5*Math.sqrt(K*Jt*(dt-Jt)/dt)*(bt-dt/2<0?-1:1);ht(G,Z,Math.max(et,Math.floor(Z-bt*Jt/dt+Lt)),Math.min(k,Math.floor(Z+(dt-bt)*Jt/dt+Lt)),It)}var at=G[Z],gt=et,Ct=k;for($(G,et,Z),It(G[k],at)>0&&$(G,et,k);gt<Ct;){for($(G,gt,Ct),gt++,Ct--;It(G[gt],at)<0;)gt++;for(;It(G[Ct],at)>0;)Ct--}0===It(G[et],at)?$(G,et,Ct):$(G,++Ct,k),Ct<=Z&&(et=Ct+1),Z<=Ct&&(k=Ct-1)}}(H,ot,B||0,Y||H.length-1,j||J)}function $(H,ot,B){var Y=H[ot];H[ot]=H[B],H[B]=Y}function J(H,ot){return H<ot?-1:H>ot?1:0}var tt=function(H){void 0===H&&(H=9),this._maxEntries=Math.max(4,H),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function yt(H,ot,B){if(!B)return ot.indexOf(H);for(var Y=0;Y<ot.length;Y++)if(B(H,ot[Y]))return Y;return-1}function ft(H,ot){wt(H,0,H.children.length,ot,H)}function wt(H,ot,B,Y,j){j||(j=Rt(null)),j.minX=1/0,j.minY=1/0,j.maxX=-1/0,j.maxY=-1/0;for(var ht=ot;ht<B;ht++){var G=H.children[ht];rt(j,H.leaf?Y(G):G)}return j}function rt(H,ot){return H.minX=Math.min(H.minX,ot.minX),H.minY=Math.min(H.minY,ot.minY),H.maxX=Math.max(H.maxX,ot.maxX),H.maxY=Math.max(H.maxY,ot.maxY),H}function xt(H,ot){return H.minX-ot.minX}function Mt(H,ot){return H.minY-ot.minY}function At(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function Gt(H){return H.maxX-H.minX+(H.maxY-H.minY)}function Ft(H,ot){return H.minX<=ot.minX&&H.minY<=ot.minY&&ot.maxX<=H.maxX&&ot.maxY<=H.maxY}function Nt(H,ot){return ot.minX<=H.maxX&&ot.minY<=H.maxY&&ot.maxX>=H.minX&&ot.maxY>=H.minY}function Rt(H){return{children:H,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ie(H,ot,B,Y,j){for(var ht=[ot,B];ht.length;)if(!((B=ht.pop())-(ot=ht.pop())<=Y)){var G=ot+Math.ceil((B-ot)/Y/2)*Y;Pt(H,G,ot,B,j),ht.push(ot,G,G,B)}}return tt.prototype.all=function(){return this._all(this.data,[])},tt.prototype.search=function(H){var ot=this.data,B=[];if(!Nt(H,ot))return B;for(var Y=this.toBBox,j=[];ot;){for(var ht=0;ht<ot.children.length;ht++){var G=ot.children[ht],Z=ot.leaf?Y(G):G;Nt(H,Z)&&(ot.leaf?B.push(G):Ft(H,Z)?this._all(G,B):j.push(G))}ot=j.pop()}return B},tt.prototype.collides=function(H){var ot=this.data;if(!Nt(H,ot))return!1;for(var B=[];ot;){for(var Y=0;Y<ot.children.length;Y++){var j=ot.children[Y],ht=ot.leaf?this.toBBox(j):j;if(Nt(H,ht)){if(ot.leaf||Ft(H,ht))return!0;B.push(j)}}ot=B.pop()}return!1},tt.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var ot=0;ot<H.length;ot++)this.insert(H[ot]);return this}var B=this._build(H.slice(),0,H.length-1,0);if(this.data.children.length)if(this.data.height===B.height)this._splitRoot(this.data,B);else{if(this.data.height<B.height){var Y=this.data;this.data=B,B=Y}this._insert(B,this.data.height-B.height-1,!0)}else this.data=B;return this},tt.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},tt.prototype.clear=function(){return this.data=Rt([]),this},tt.prototype.remove=function(H,ot){if(!H)return this;for(var B,Y,j,ht=this.data,G=this.toBBox(H),Z=[],et=[];ht||Z.length;){if(ht||(ht=Z.pop(),Y=Z[Z.length-1],B=et.pop(),j=!0),ht.leaf){var k=yt(H,ht.children,ot);if(-1!==k)return ht.children.splice(k,1),Z.push(ht),this._condense(Z),this}j||ht.leaf||!Ft(ht,G)?Y?(B++,ht=Y.children[B],j=!1):ht=null:(Z.push(ht),et.push(B),B=0,Y=ht,ht=ht.children[0])}return this},tt.prototype.toBBox=function(H){return H},tt.prototype.compareMinX=function(H,ot){return H.minX-ot.minX},tt.prototype.compareMinY=function(H,ot){return H.minY-ot.minY},tt.prototype.toJSON=function(){return this.data},tt.prototype.fromJSON=function(H){return this.data=H,this},tt.prototype._all=function(H,ot){for(var B=[];H;)H.leaf?ot.push.apply(ot,H.children):B.push.apply(B,H.children),H=B.pop();return ot},tt.prototype._build=function(H,ot,B,Y){var j,ht=B-ot+1,G=this._maxEntries;if(ht<=G)return ft(j=Rt(H.slice(ot,B+1)),this.toBBox),j;Y||(Y=Math.ceil(Math.log(ht)/Math.log(G)),G=Math.ceil(ht/Math.pow(G,Y-1))),(j=Rt([])).leaf=!1,j.height=Y;var Z=Math.ceil(ht/G),et=Z*Math.ceil(Math.sqrt(G));ie(H,ot,B,et,this.compareMinX);for(var k=ot;k<=B;k+=et){var It=Math.min(k+et-1,B);ie(H,k,It,Z,this.compareMinY);for(var dt=k;dt<=It;dt+=Z){var bt=Math.min(dt+Z-1,It);j.children.push(this._build(H,dt,bt,Y-1))}}return ft(j,this.toBBox),j},tt.prototype._chooseSubtree=function(H,ot,B,Y){for(;Y.push(ot),!ot.leaf&&Y.length-1!==B;){for(var j=1/0,ht=1/0,G=void 0,Z=0;Z<ot.children.length;Z++){var et=ot.children[Z],k=At(et),It=(dt=H,bt=et,(Math.max(bt.maxX,dt.maxX)-Math.min(bt.minX,dt.minX))*(Math.max(bt.maxY,dt.maxY)-Math.min(bt.minY,dt.minY))-k);It<ht?(ht=It,j=k<j?k:j,G=et):It===ht&&k<j&&(j=k,G=et)}ot=G||ot.children[0]}var dt,bt;return ot},tt.prototype._insert=function(H,ot,B){var Y=B?H:this.toBBox(H),j=[],ht=this._chooseSubtree(Y,this.data,ot,j);for(ht.children.push(H),rt(ht,Y);ot>=0&&j[ot].children.length>this._maxEntries;)this._split(j,ot),ot--;this._adjustParentBBoxes(Y,j,ot)},tt.prototype._split=function(H,ot){var B=H[ot],Y=B.children.length,j=this._minEntries;this._chooseSplitAxis(B,j,Y);var ht=this._chooseSplitIndex(B,j,Y),G=Rt(B.children.splice(ht,B.children.length-ht));G.height=B.height,G.leaf=B.leaf,ft(B,this.toBBox),ft(G,this.toBBox),ot?H[ot-1].children.push(G):this._splitRoot(B,G)},tt.prototype._splitRoot=function(H,ot){this.data=Rt([H,ot]),this.data.height=H.height+1,this.data.leaf=!1,ft(this.data,this.toBBox)},tt.prototype._chooseSplitIndex=function(H,ot,B){for(var Y,j,ht,G,Z,et,k,It=1/0,dt=1/0,bt=ot;bt<=B-ot;bt++){var K=wt(H,0,bt,this.toBBox),Jt=wt(H,bt,B,this.toBBox),Lt=(j=K,ht=Jt,void 0,void 0,void 0,void 0,G=Math.max(j.minX,ht.minX),Z=Math.max(j.minY,ht.minY),et=Math.min(j.maxX,ht.maxX),k=Math.min(j.maxY,ht.maxY),Math.max(0,et-G)*Math.max(0,k-Z)),lt=At(K)+At(Jt);Lt<It?(It=Lt,Y=bt,dt=lt<dt?lt:dt):Lt===It&&lt<dt&&(dt=lt,Y=bt)}return Y||B-ot},tt.prototype._chooseSplitAxis=function(H,ot,B){var Y=H.leaf?this.compareMinX:xt,j=H.leaf?this.compareMinY:Mt;this._allDistMargin(H,ot,B,Y)<this._allDistMargin(H,ot,B,j)&&H.children.sort(Y)},tt.prototype._allDistMargin=function(H,ot,B,Y){H.children.sort(Y);for(var j=this.toBBox,ht=wt(H,0,ot,j),G=wt(H,B-ot,B,j),Z=Gt(ht)+Gt(G),et=ot;et<B-ot;et++){var k=H.children[et];rt(ht,H.leaf?j(k):k),Z+=Gt(ht)}for(var It=B-ot-1;It>=ot;It--){var dt=H.children[It];rt(G,H.leaf?j(dt):dt),Z+=Gt(G)}return Z},tt.prototype._adjustParentBBoxes=function(H,ot,B){for(var Y=B;Y>=0;Y--)rt(ot[Y],H)},tt.prototype._condense=function(H){for(var ot=H.length-1,B=void 0;ot>=0;ot--)0===H[ot].children.length?ot>0?(B=H[ot-1].children).splice(B.indexOf(H[ot]),1):this.clear():ft(H[ot],this.toBBox)},tt}()},491:(te,Pt,$)=>{"use strict";var J,tt=SyntaxError,yt=Function,ft=TypeError,wt=function(Jt){try{return yt('"use strict"; return ('+Jt+").constructor;")()}catch{}},rt=Object.getOwnPropertyDescriptor;if(rt)try{rt({},"")}catch{rt=null}var xt=function(){throw new ft},Mt=rt?function(){try{return xt}catch{try{return rt(arguments,"callee").get}catch{return xt}}}():xt,At=$(6152)(),Gt=$(9028)(),Ft=Object.getPrototypeOf||(Gt?function(Jt){return Jt.__proto__}:null),Nt={},Rt=typeof Uint8Array>"u"||!Ft?J:Ft(Uint8Array),ie={"%AggregateError%":typeof AggregateError>"u"?J:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?J:ArrayBuffer,"%ArrayIteratorPrototype%":At&&Ft?Ft([][Symbol.iterator]()):J,"%AsyncFromSyncIteratorPrototype%":J,"%AsyncFunction%":Nt,"%AsyncGenerator%":Nt,"%AsyncGeneratorFunction%":Nt,"%AsyncIteratorPrototype%":Nt,"%Atomics%":typeof Atomics>"u"?J:Atomics,"%BigInt%":typeof BigInt>"u"?J:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?J:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?J:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?J:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?J:Float32Array,"%Float64Array%":typeof Float64Array>"u"?J:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?J:FinalizationRegistry,"%Function%":yt,"%GeneratorFunction%":Nt,"%Int8Array%":typeof Int8Array>"u"?J:Int8Array,"%Int16Array%":typeof Int16Array>"u"?J:Int16Array,"%Int32Array%":typeof Int32Array>"u"?J:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":At&&Ft?Ft(Ft([][Symbol.iterator]())):J,"%JSON%":"object"==typeof JSON?JSON:J,"%Map%":typeof Map>"u"?J:Map,"%MapIteratorPrototype%":typeof Map>"u"||!At||!Ft?J:Ft((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?J:Promise,"%Proxy%":typeof Proxy>"u"?J:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?J:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?J:Set,"%SetIteratorPrototype%":typeof Set>"u"||!At||!Ft?J:Ft((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?J:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":At&&Ft?Ft(""[Symbol.iterator]()):J,"%Symbol%":At?Symbol:J,"%SyntaxError%":tt,"%ThrowTypeError%":Mt,"%TypedArray%":Rt,"%TypeError%":ft,"%Uint8Array%":typeof Uint8Array>"u"?J:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?J:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?J:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?J:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?J:WeakMap,"%WeakRef%":typeof WeakRef>"u"?J:WeakRef,"%WeakSet%":typeof WeakSet>"u"?J:WeakSet};if(Ft)try{null.error}catch(Jt){var H=Ft(Ft(Jt));ie["%Error.prototype%"]=H}var ot=function Jt(Lt){var lt;if("%AsyncFunction%"===Lt)lt=wt("async function () {}");else if("%GeneratorFunction%"===Lt)lt=wt("function* () {}");else if("%AsyncGeneratorFunction%"===Lt)lt=wt("async function* () {}");else if("%AsyncGenerator%"===Lt){var vt=Jt("%AsyncGeneratorFunction%");vt&&(lt=vt.prototype)}else if("%AsyncIteratorPrototype%"===Lt){var at=Jt("%AsyncGenerator%");at&&Ft&&(lt=Ft(at.prototype))}return ie[Lt]=lt,lt},B={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Y=$(5333),j=$(836),ht=Y.call(Function.call,Array.prototype.concat),G=Y.call(Function.apply,Array.prototype.splice),Z=Y.call(Function.call,String.prototype.replace),et=Y.call(Function.call,String.prototype.slice),k=Y.call(Function.call,RegExp.prototype.exec),It=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,dt=/\\(\\)?/g,K=function(Lt,lt){var at,vt=Lt;if(j(B,vt)&&(vt="%"+(at=B[vt])[0]+"%"),j(ie,vt)){var gt=ie[vt];if(gt===Nt&&(gt=ot(vt)),typeof gt>"u"&&!lt)throw new ft("intrinsic "+Lt+" exists, but is not available. Please file an issue!");return{alias:at,name:vt,value:gt}}throw new tt("intrinsic "+Lt+" does not exist!")};te.exports=function(Lt,lt){if("string"!=typeof Lt||0===Lt.length)throw new ft("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof lt)throw new ft('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,Lt))throw new tt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var vt=function(Lt){var lt=et(Lt,0,1),vt=et(Lt,-1);if("%"===lt&&"%"!==vt)throw new tt("invalid intrinsic syntax, expected closing `%`");if("%"===vt&&"%"!==lt)throw new tt("invalid intrinsic syntax, expected opening `%`");var at=[];return Z(Lt,It,function(gt,Ct,nt,Et){at[at.length]=nt?Z(Et,dt,"$1"):Ct||gt}),at}(Lt),at=vt.length>0?vt[0]:"",gt=K("%"+at+"%",lt),Ct=gt.name,nt=gt.value,Et=!1,V=gt.alias;V&&(at=V[0],G(vt,ht([0,1],V)));for(var Ot=1,ut=!0;Ot<vt.length;Ot+=1){var Bt=vt[Ot],Wt=et(Bt,0,1),Kt=et(Bt,-1);if(('"'===Wt||"'"===Wt||"`"===Wt||'"'===Kt||"'"===Kt||"`"===Kt)&&Wt!==Kt)throw new tt("property names with quotes must have matching quotes");if(("constructor"===Bt||!ut)&&(Et=!0),j(ie,Ct="%"+(at+="."+Bt)+"%"))nt=ie[Ct];else if(null!=nt){if(!(Bt in nt)){if(!lt)throw new ft("base intrinsic for "+Lt+" exists, but the property is not available.");return}if(rt&&Ot+1>=vt.length){var jt=rt(nt,Bt);nt=(ut=!!jt)&&"get"in jt&&!("originalValue"in jt.get)?jt.get:nt[Bt]}else ut=j(nt,Bt),nt=nt[Bt];ut&&!Et&&(ie[Ct]=nt)}}return nt}},9262:(te,Pt,$)=>{"use strict";var tt=$(491)("%Object.getOwnPropertyDescriptor%",!0);if(tt)try{tt([],"length")}catch{tt=null}te.exports=tt},2486:(te,Pt,$)=>{"use strict";var tt=$(491)("%Object.defineProperty%",!0),yt=function(){if(tt)try{return tt({},"a",{value:1}),!0}catch{return!1}return!1};yt.hasArrayLengthDefineBug=function(){if(!yt())return null;try{return 1!==tt([],"length",{value:1}).length}catch{return!0}},te.exports=yt},9028:te=>{"use strict";var Pt={foo:{}},$=Object;te.exports=function(){return{__proto__:Pt}.foo===Pt.foo&&!({__proto__:null}instanceof $)}},6152:(te,Pt,$)=>{"use strict";var J=typeof Symbol<"u"&&Symbol,tt=$(5441);te.exports=function(){return"function"==typeof J&&"function"==typeof Symbol&&"symbol"==typeof J("foo")&&"symbol"==typeof Symbol("bar")&&tt()}},5441:te=>{"use strict";te.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var $={},J=Symbol("test"),tt=Object(J);if("string"==typeof J||"[object Symbol]"!==Object.prototype.toString.call(J)||"[object Symbol]"!==Object.prototype.toString.call(tt))return!1;for(J in $[J]=42,$)return!1;if("function"==typeof Object.keys&&0!==Object.keys($).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames($).length)return!1;var ft=Object.getOwnPropertySymbols($);if(1!==ft.length||ft[0]!==J||!Object.prototype.propertyIsEnumerable.call($,J))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var wt=Object.getOwnPropertyDescriptor($,J);if(42!==wt.value||!0!==wt.enumerable)return!1}return!0}},8041:(te,Pt,$)=>{"use strict";var J=$(5441);te.exports=function(){return J()&&!!Symbol.toStringTag}},836:(te,Pt,$)=>{"use strict";var J=Function.prototype.call,tt=Object.prototype.hasOwnProperty,yt=$(5333);te.exports=yt.call(J,tt)},8147:(te,Pt,$)=>{"use strict";var J=$(8041)(),yt=$(1098)("Object.prototype.toString"),ft=function(Mt){return!(J&&Mt&&"object"==typeof Mt&&Symbol.toStringTag in Mt)&&"[object Arguments]"===yt(Mt)},wt=function(Mt){return!!ft(Mt)||null!==Mt&&"object"==typeof Mt&&"number"==typeof Mt.length&&Mt.length>=0&&"[object Array]"!==yt(Mt)&&"[object Function]"===yt(Mt.callee)},rt=function(){return ft(arguments)}();ft.isLegacyArguments=wt,te.exports=rt?ft:wt},2365:(te,Pt,$)=>{"use strict";var J=Date.prototype.getDay,yt=Object.prototype.toString,wt=$(8041)();te.exports=function(xt){return"object"==typeof xt&&null!==xt&&(wt?function(xt){try{return J.call(xt),!0}catch{return!1}}(xt):"[object Date]"===yt.call(xt))}},4720:(te,Pt,$)=>{"use strict";var yt,ft,wt,rt,J=$(1098),tt=$(8041)();if(tt){yt=J("Object.prototype.hasOwnProperty"),ft=J("RegExp.prototype.exec"),wt={};var xt=function(){throw wt};rt={toString:xt,valueOf:xt},"symbol"==typeof Symbol.toPrimitive&&(rt[Symbol.toPrimitive]=xt)}var Mt=J("Object.prototype.toString"),At=Object.getOwnPropertyDescriptor;te.exports=tt?function(Nt){if(!Nt||"object"!=typeof Nt)return!1;var Rt=At(Nt,"lastIndex");if(!Rt||!yt(Rt,"value"))return!1;try{ft(Nt,rt)}catch(H){return H===wt}}:function(Nt){return!(!Nt||"object"!=typeof Nt&&"function"!=typeof Nt)&&"[object RegExp]"===Mt(Nt)}},8433:function(te,Pt){!function($){"use strict";function tt(f){var _,w,C,N;for(w=1,C=arguments.length;w<C;w++)for(_ in N=arguments[w])f[_]=N[_];return f}var yt=Object.create||function(){function f(){}return function(_){return f.prototype=_,new f}}();function ft(f,_){var w=Array.prototype.slice;if(f.bind)return f.bind.apply(f,w.call(arguments,1));var C=w.call(arguments,2);return function(){return f.apply(_,C.length?C.concat(w.call(arguments)):arguments)}}var wt=0;function rt(f){return"_leaflet_id"in f||(f._leaflet_id=++wt),f._leaflet_id}function xt(f,_,w){var C,N,W,_t;return _t=function(){C=!1,N&&(W.apply(w,N),N=!1)},W=function(){C?N=arguments:(f.apply(w,arguments),setTimeout(_t,_),C=!0)},W}function Mt(f,_,w){var C=_[1],N=_[0],W=C-N;return f===C&&w?f:((f-N)%W+W)%W+N}function At(){return!1}function Gt(f,_){if(!1===_)return f;var w=Math.pow(10,void 0===_?6:_);return Math.round(f*w)/w}function Ft(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function Nt(f){return Ft(f).split(/\s+/)}function Rt(f,_){for(var w in Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?yt(f.options):{}),_)f.options[w]=_[w];return f.options}function ie(f,_,w){var C=[];for(var N in f)C.push(encodeURIComponent(w?N.toUpperCase():N)+"="+encodeURIComponent(f[N]));return(_&&-1!==_.indexOf("?")?"&":"?")+C.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function ot(f,_){return f.replace(H,function(w,C){var N=_[C];if(void 0===N)throw new Error("No value provided for variable "+w);return"function"==typeof N&&(N=N(_)),N})}var B=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)};function Y(f,_){for(var w=0;w<f.length;w++)if(f[w]===_)return w;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ht(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var G=0;function Z(f){var _=+new Date,w=Math.max(0,16-(_-G));return G=_+w,window.setTimeout(f,w)}var et=window.requestAnimationFrame||ht("RequestAnimationFrame")||Z,k=window.cancelAnimationFrame||ht("CancelAnimationFrame")||ht("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function It(f,_,w){if(!w||et!==Z)return et.call(window,ft(f,_));f.call(_)}function dt(f){f&&k.call(window,f)}var bt={__proto__:null,extend:tt,create:yt,bind:ft,get lastId(){return wt},stamp:rt,throttle:xt,wrapNum:Mt,falseFn:At,formatNum:Gt,trim:Ft,splitWords:Nt,setOptions:Rt,getParamString:ie,template:ot,isArray:B,indexOf:Y,emptyImageUrl:j,requestFn:et,cancelFn:k,requestAnimFrame:It,cancelAnimFrame:dt};function K(){}K.extend=function(f){var _=function(){Rt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},w=_.__super__=this.prototype,C=yt(w);for(var N in C.constructor=_,_.prototype=C,this)Object.prototype.hasOwnProperty.call(this,N)&&"prototype"!==N&&"__super__"!==N&&(_[N]=this[N]);return f.statics&&tt(_,f.statics),f.includes&&(function Jt(f){if(!(typeof L>"u")&&L&&L.Mixin){f=B(f)?f:[f];for(var _=0;_<f.length;_++)f[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(f.includes),tt.apply(null,[C].concat(f.includes))),tt(C,f),delete C.statics,delete C.includes,C.options&&(C.options=w.options?yt(w.options):{},tt(C.options,f.options)),C._initHooks=[],C.callInitHooks=function(){if(!this._initHooksCalled){w.callInitHooks&&w.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,_t=C._initHooks.length;W<_t;W++)C._initHooks[W].call(this)}},_},K.include=function(f){var _=this.prototype.options;return tt(this.prototype,f),f.options&&(this.prototype.options=_,this.mergeOptions(f.options)),this},K.mergeOptions=function(f){return tt(this.prototype.options,f),this},K.addInitHook=function(f){var _=Array.prototype.slice.call(arguments,1),w="function"==typeof f?f:function(){this[f].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(w),this};var Lt={on:function(f,_,w){if("object"==typeof f)for(var C in f)this._on(C,f[C],_);else for(var N=0,W=(f=Nt(f)).length;N<W;N++)this._on(f[N],_,w);return this},off:function(f,_,w){if(arguments.length)if("object"==typeof f)for(var C in f)this._off(C,f[C],_);else{f=Nt(f);for(var N=1===arguments.length,W=0,_t=f.length;W<_t;W++)N?this._off(f[W]):this._off(f[W],_,w)}else delete this._events;return this},_on:function(f,_,w,C){if("function"==typeof _){if(!1===this._listens(f,_,w)){w===this&&(w=void 0);var N={fn:_,ctx:w};C&&(N.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(N)}}else console.warn("wrong listener type: "+typeof _)},_off:function(f,_,w){var C,N,W;if(this._events&&(C=this._events[f])){if(1===arguments.length){if(this._firingCount)for(N=0,W=C.length;N<W;N++)C[N].fn=At;return void delete this._events[f]}if("function"!=typeof _)return void console.warn("wrong listener type: "+typeof _);var _t=this._listens(f,_,w);!1!==_t&&(this._firingCount&&(C[_t].fn=At,this._events[f]=C=C.slice()),C.splice(_t,1))}},fire:function(f,_,w){if(!this.listens(f,w))return this;var C=tt({},_,{type:f,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var N=this._events[f];if(N){this._firingCount=this._firingCount+1||1;for(var W=0,_t=N.length;W<_t;W++){var zt=N[W],Yt=zt.fn;zt.once&&this.off(f,Yt,zt.ctx),Yt.call(zt.ctx||this,C)}this._firingCount--}}return w&&this._propagateEvent(C),this},listens:function(f,_,w,C){"string"!=typeof f&&console.warn('"string" type argument expected');var N=_;"function"!=typeof _&&(C=!!_,N=void 0,w=void 0);var W=this._events&&this._events[f];if(W&&W.length&&!1!==this._listens(f,N,w))return!0;if(C)for(var _t in this._eventParents)if(this._eventParents[_t].listens(f,_,w,C))return!0;return!1},_listens:function(f,_,w){if(!this._events)return!1;var C=this._events[f]||[];if(!_)return!!C.length;w===this&&(w=void 0);for(var N=0,W=C.length;N<W;N++)if(C[N].fn===_&&C[N].ctx===w)return N;return!1},once:function(f,_,w){if("object"==typeof f)for(var C in f)this._on(C,f[C],_,!0);else for(var N=0,W=(f=Nt(f)).length;N<W;N++)this._on(f[N],_,w,!0);return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[rt(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[rt(f)],this},_propagateEvent:function(f){for(var _ in this._eventParents)this._eventParents[_].fire(f.type,tt({layer:f.target,propagatedFrom:f.target},f),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var lt=K.extend(Lt);function vt(f,_,w){this.x=w?Math.round(f):f,this.y=w?Math.round(_):_}var at=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};function gt(f,_,w){return f instanceof vt?f:B(f)?new vt(f[0],f[1]):null==f?f:"object"==typeof f&&"x"in f&&"y"in f?new vt(f.x,f.y):new vt(f,_,w)}function Ct(f,_){if(f)for(var w=_?[f,_]:f,C=0,N=w.length;C<N;C++)this.extend(w[C])}function nt(f,_){return!f||f instanceof Ct?f:new Ct(f,_)}function Et(f,_){if(f)for(var w=_?[f,_]:f,C=0,N=w.length;C<N;C++)this.extend(w[C])}function V(f,_){return f instanceof Et?f:new Et(f,_)}function Ot(f,_,w){if(isNaN(f)||isNaN(_))throw new Error("Invalid LatLng object: ("+f+", "+_+")");this.lat=+f,this.lng=+_,void 0!==w&&(this.alt=+w)}function ut(f,_,w){return f instanceof Ot?f:B(f)&&"object"!=typeof f[0]?3===f.length?new Ot(f[0],f[1],f[2]):2===f.length?new Ot(f[0],f[1]):null:null==f?f:"object"==typeof f&&"lat"in f?new Ot(f.lat,"lng"in f?f.lng:f.lon,f.alt):void 0===_?null:new Ot(f,_,w)}vt.prototype={clone:function(){return new vt(this.x,this.y)},add:function(f){return this.clone()._add(gt(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(gt(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new vt(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new vt(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=at(this.x),this.y=at(this.y),this},distanceTo:function(f){var _=(f=gt(f)).x-this.x,w=f.y-this.y;return Math.sqrt(_*_+w*w)},equals:function(f){return(f=gt(f)).x===this.x&&f.y===this.y},contains:function(f){return f=gt(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+Gt(this.x)+", "+Gt(this.y)+")"}},Ct.prototype={extend:function(f){var _,w;if(!f)return this;if(f instanceof vt||"number"==typeof f[0]||"x"in f)_=w=gt(f);else if(w=(f=nt(f)).max,!(_=f.min)||!w)return this;return this.min||this.max?(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(w.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(w.y,this.max.y)):(this.min=_.clone(),this.max=w.clone()),this},getCenter:function(f){return gt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return gt(this.min.x,this.max.y)},getTopRight:function(){return gt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var _,w;return(f="number"==typeof f[0]||f instanceof vt?gt(f):nt(f))instanceof Ct?(_=f.min,w=f.max):_=w=f,_.x>=this.min.x&&w.x<=this.max.x&&_.y>=this.min.y&&w.y<=this.max.y},intersects:function(f){f=nt(f);var _=this.min,w=this.max,C=f.min,N=f.max;return N.x>=_.x&&C.x<=w.x&&N.y>=_.y&&C.y<=w.y},overlaps:function(f){f=nt(f);var _=this.min,w=this.max,C=f.min,N=f.max;return N.x>_.x&&C.x<w.x&&N.y>_.y&&C.y<w.y},isValid:function(){return!(!this.min||!this.max)},pad:function(f){var _=this.min,w=this.max,C=Math.abs(_.x-w.x)*f,N=Math.abs(_.y-w.y)*f;return nt(gt(_.x-C,_.y-N),gt(w.x+C,w.y+N))},equals:function(f){return!!f&&(f=nt(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight()))}},Et.prototype={extend:function(f){var C,N,_=this._southWest,w=this._northEast;if(f instanceof Ot)C=f,N=f;else{if(!(f instanceof Et))return f?this.extend(ut(f)||V(f)):this;if(N=f._northEast,!(C=f._southWest)||!N)return this}return _||w?(_.lat=Math.min(C.lat,_.lat),_.lng=Math.min(C.lng,_.lng),w.lat=Math.max(N.lat,w.lat),w.lng=Math.max(N.lng,w.lng)):(this._southWest=new Ot(C.lat,C.lng),this._northEast=new Ot(N.lat,N.lng)),this},pad:function(f){var _=this._southWest,w=this._northEast,C=Math.abs(_.lat-w.lat)*f,N=Math.abs(_.lng-w.lng)*f;return new Et(new Ot(_.lat-C,_.lng-N),new Ot(w.lat+C,w.lng+N))},getCenter:function(){return new Ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){f="number"==typeof f[0]||f instanceof Ot||"lat"in f?ut(f):V(f);var C,N,_=this._southWest,w=this._northEast;return f instanceof Et?(C=f.getSouthWest(),N=f.getNorthEast()):C=N=f,C.lat>=_.lat&&N.lat<=w.lat&&C.lng>=_.lng&&N.lng<=w.lng},intersects:function(f){f=V(f);var _=this._southWest,w=this._northEast,C=f.getSouthWest(),N=f.getNorthEast();return N.lat>=_.lat&&C.lat<=w.lat&&N.lng>=_.lng&&C.lng<=w.lng},overlaps:function(f){f=V(f);var _=this._southWest,w=this._northEast,C=f.getSouthWest(),N=f.getNorthEast();return N.lat>_.lat&&C.lat<w.lat&&N.lng>_.lng&&C.lng<w.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,_){return!!f&&(f=V(f),this._southWest.equals(f.getSouthWest(),_)&&this._northEast.equals(f.getNorthEast(),_))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ot.prototype={equals:function(f,_){return!!f&&(f=ut(f),Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng))<=(void 0===_?1e-9:_))},toString:function(f){return"LatLng("+Gt(this.lat,f)+", "+Gt(this.lng,f)+")"},distanceTo:function(f){return Wt.distance(this,ut(f))},wrap:function(){return Wt.wrapLatLng(this)},toBounds:function(f){var _=180*f/40075017,w=_/Math.cos(Math.PI/180*this.lat);return V([this.lat-_,this.lng-w],[this.lat+_,this.lng+w])},clone:function(){return new Ot(this.lat,this.lng,this.alt)}};var f,Bt={latLngToPoint:function(f,_){var w=this.projection.project(f),C=this.scale(_);return this.transformation._transform(w,C)},pointToLatLng:function(f,_){var w=this.scale(_),C=this.transformation.untransform(f,w);return this.projection.unproject(C)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var _=this.projection.bounds,w=this.scale(f);return new Ct(this.transformation.transform(_.min,w),this.transformation.transform(_.max,w))},infinite:!1,wrapLatLng:function(f){var _=this.wrapLng?Mt(f.lng,this.wrapLng,!0):f.lng;return new Ot(this.wrapLat?Mt(f.lat,this.wrapLat,!0):f.lat,_,f.alt)},wrapLatLngBounds:function(f){var _=f.getCenter(),w=this.wrapLatLng(_),C=_.lat-w.lat,N=_.lng-w.lng;if(0===C&&0===N)return f;var W=f.getSouthWest(),_t=f.getNorthEast();return new Et(new Ot(W.lat-C,W.lng-N),new Ot(_t.lat-C,_t.lng-N))}},Wt=tt({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(f,_){var w=Math.PI/180,C=f.lat*w,N=_.lat*w,W=Math.sin((_.lat-f.lat)*w/2),_t=Math.sin((_.lng-f.lng)*w/2),zt=W*W+Math.cos(C)*Math.cos(N)*_t*_t,Yt=2*Math.atan2(Math.sqrt(zt),Math.sqrt(1-zt));return this.R*Yt}}),jt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(f){var _=Math.PI/180,w=this.MAX_LATITUDE,C=Math.max(Math.min(w,f.lat),-w),N=Math.sin(C*_);return new vt(this.R*f.lng*_,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(f){var _=180/Math.PI;return new Ot((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*_,f.x*_/this.R)},bounds:(f=6378137*Math.PI,new Ct([-f,-f],[f,f]))};function ve(f,_,w,C){if(B(f))return this._a=f[0],this._b=f[1],this._c=f[2],void(this._d=f[3]);this._a=f,this._b=_,this._c=w,this._d=C}function ne(f,_,w,C){return new ve(f,_,w,C)}ve.prototype={transform:function(f,_){return this._transform(f.clone(),_)},_transform:function(f,_){return f.x=(_=_||1)*(this._a*f.x+this._b),f.y=_*(this._c*f.y+this._d),f},untransform:function(f,_){return new vt((f.x/(_=_||1)-this._b)/this._a,(f.y/_-this._d)/this._c)}};var vn=tt({},Wt,{code:"EPSG:3857",projection:jt,transformation:function(){var f=.5/(Math.PI*jt.R);return ne(f,.5,-f,.5)}()}),yn=tt({},vn,{code:"EPSG:900913"});function En(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Be(f,_){var C,N,W,_t,zt,Yt,w="";for(C=0,W=f.length;C<W;C++){for(N=0,_t=(zt=f[C]).length;N<_t;N++)w+=(N?"L":"M")+(Yt=zt[N]).x+" "+Yt.y;w+=_?Ge.svg?"z":"x":""}return w||"M0 0"}var Tt=document.documentElement.style,X="ActiveXObject"in window,O=X&&!document.addEventListener,P="msLaunchUri"in navigator&&!("documentMode"in document),R=Kr("webkit"),Q=Kr("android"),St=Kr("android 2")||Kr("android 3"),kt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qt=Q&&Kr("Google")&&kt<537&&!("AudioNode"in window),Xt=!!window.opera,Ut=!P&&Kr("chrome"),Ue=Kr("gecko")&&!R&&!Xt&&!X,nn=!Ut&&Kr("safari"),he=Kr("phantom"),ke="OTransition"in Tt,bi=0===navigator.platform.indexOf("Win"),qe=X&&"transition"in Tt,dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!St,Ai="MozPerspective"in Tt,mr=!window.L_DISABLE_3D&&(qe||dn||Ai)&&!ke&&!he,ar=typeof orientation<"u"||Kr("mobile"),Cr=ar&&R,Co=ar&&dn,Ti=!window.PointerEvent&&window.MSPointerEvent,zo=!(!window.PointerEvent&&!Ti),Or="ontouchstart"in window||!!window.TouchEvent,ue=!window.L_NO_TOUCH&&(Or||zo),Pu=ar&&Xt,ks=ar&&Ue,sn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Js=function(){var f=!1;try{var _=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",At,_),window.removeEventListener("testPassiveEventSupport",At,_)}catch{}return f}(),Fs=!!document.createElement("canvas").getContext,ys=!(!document.createElementNS||!En("svg").createSVGRect),ou=!!ys&&function(){var f=document.createElement("div");return f.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(f.firstChild&&f.firstChild.namespaceURI)}(),Td=!ys&&function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var _=f.firstChild;return _.style.behavior="url(#default#VML)",_&&"object"==typeof _.adj}catch{return!1}}();function Kr(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var Ge={ie:X,ielt9:O,edge:P,webkit:R,android:Q,android23:St,androidStock:qt,opera:Xt,chrome:Ut,gecko:Ue,safari:nn,phantom:he,opera12:ke,win:bi,ie3d:qe,webkit3d:dn,gecko3d:Ai,any3d:mr,mobile:ar,mobileWebkit:Cr,mobileWebkit3d:Co,msPointer:Ti,pointer:zo,touch:ue,touchNative:Or,mobileOpera:Pu,mobileGecko:ks,retina:sn,passiveEvents:Js,canvas:Fs,svg:ys,vml:Td,inlineSvg:ou,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Dr=Ge.msPointer?"MSPointerDown":"pointerdown",La=Ge.msPointer?"MSPointerMove":"pointermove",Nn=Ge.msPointer?"MSPointerUp":"pointerup",rs=Ge.msPointer?"MSPointerCancel":"pointercancel",os={touchstart:Dr,touchmove:La,touchend:Nn,touchcancel:rs},jo={touchstart:function Do(f,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&Hr(_),au(f,_)},touchmove:au,touchend:au,touchcancel:au},Sr={},ka=!1;function Ar(f,_,w){return"touchstart"===_&&function ur(){ka||(document.addEventListener(Dr,wi,!0),document.addEventListener(La,su,!0),document.addEventListener(Nn,Fn,!0),document.addEventListener(rs,Fn,!0),ka=!0)}(),jo[_]?(w=jo[_].bind(this,w),f.addEventListener(os[_],w,!1),w):(console.warn("wrong event specified:",_),At)}function wi(f){Sr[f.pointerId]=f}function su(f){Sr[f.pointerId]&&(Sr[f.pointerId]=f)}function Fn(f){delete Sr[f.pointerId]}function au(f,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){for(var w in _.touches=[],Sr)_.touches.push(Sr[w]);_.changedTouches=[_],f(_)}}var Qi=200;var Ba,Ku,Zt,Qu,zr,ss=lc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ro=lc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Il="webkitTransition"===ro||"OTransition"===ro?ro+"End":"transitionend";function Ju(f){return"string"==typeof f?document.getElementById(f):f}function Fa(f,_){var w=f.style[_]||f.currentStyle&&f.currentStyle[_];if((!w||"auto"===w)&&document.defaultView){var C=document.defaultView.getComputedStyle(f,null);w=C?C[_]:null}return"auto"===w?null:w}function Vn(f,_,w){var C=document.createElement(f);return C.className=_||"",w&&w.appendChild(C),C}function ln(f){var _=f.parentNode;_&&_.removeChild(f)}function Tl(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function Ro(f){var _=f.parentNode;_&&_.lastChild!==f&&_.appendChild(f)}function lr(f){var _=f.parentNode;_&&_.firstChild!==f&&_.insertBefore(f,_.firstChild)}function Nl(f,_){if(void 0!==f.classList)return f.classList.contains(_);var w=uu(f);return w.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(w)}function _e(f,_){if(void 0!==f.classList)for(var w=Nt(_),C=0,N=w.length;C<N;C++)f.classList.add(w[C]);else if(!Nl(f,_)){var W=uu(f);Ho(f,(W?W+" ":"")+_)}}function Pe(f,_){void 0!==f.classList?f.classList.remove(_):Ho(f,Ft((" "+uu(f)+" ").replace(" "+_+" "," ")))}function Ho(f,_){void 0===f.className.baseVal?f.className=_:f.className.baseVal=_}function uu(f){return f.correspondingElement&&(f=f.correspondingElement),void 0===f.className.baseVal?f.className:f.className.baseVal}function Ve(f,_){"opacity"in f.style?f.style.opacity=_:"filter"in f.style&&function qc(f,_){var w=!1,C="DXImageTransform.Microsoft.Alpha";try{w=f.filters.item(C)}catch{if(1===_)return}_=Math.round(100*_),w?(w.Enabled=100!==_,w.Opacity=_):f.style.filter+=" progid:"+C+"(opacity="+_+")"}(f,_)}function lc(f){for(var _=document.documentElement.style,w=0;w<f.length;w++)if(f[w]in _)return f[w];return!1}function Pn(f,_,w){var C=_||new vt(0,0);f.style[ss]=(Ge.ie3d?"translate("+C.x+"px,"+C.y+"px)":"translate3d("+C.x+"px,"+C.y+"px,0)")+(w?" scale("+w+")":"")}function mi(f,_){f._leaflet_pos=_,Ge.any3d?Pn(f,_):(f.style.left=_.x+"px",f.style.top=_.y+"px")}function _i(f){return f._leaflet_pos||new vt(0,0)}if("onselectstart"in document)Ba=function(){Ke(window,"selectstart",Hr)},Ku=function(){In(window,"selectstart",Hr)};else{var en=lc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ba=function(){if(en){var f=document.documentElement.style;Zt=f[en],f[en]="none"}},Ku=function(){en&&(document.documentElement.style[en]=Zt,Zt=void 0)}}function Lo(){Ke(window,"dragstart",Hr)}function as(){In(window,"dragstart",Hr)}function Qt(f){for(;-1===f.tabIndex;)f=f.parentNode;f.style&&(Cn(),Qu=f,zr=f.style.outlineStyle,f.style.outlineStyle="none",Ke(window,"keydown",Cn))}function Cn(){Qu&&(Qu.style.outlineStyle=zr,Qu=void 0,zr=void 0,In(window,"keydown",Cn))}function Le(f){do{f=f.parentNode}while(!(f.offsetWidth&&f.offsetHeight||f===document.body));return f}function xi(f){var _=f.getBoundingClientRect();return{x:_.width/f.offsetWidth||1,y:_.height/f.offsetHeight||1,boundingClientRect:_}}var Nd={__proto__:null,TRANSFORM:ss,TRANSITION:ro,TRANSITION_END:Il,get:Ju,getStyle:Fa,create:Vn,remove:ln,empty:Tl,toFront:Ro,toBack:lr,hasClass:Nl,addClass:_e,removeClass:Pe,setClass:Ho,getClass:uu,setOpacity:Ve,testProp:lc,setTransform:Pn,setPosition:mi,getPosition:_i,get disableTextSelection(){return Ba},get enableTextSelection(){return Ku},disableImageDrag:Lo,enableImageDrag:as,preventOutline:Qt,restoreOutline:Cn,getSizedParentNode:Le,getScale:xi};function Ke(f,_,w,C){if(_&&"object"==typeof _)for(var N in _)jr(f,N,_[N],w);else for(var W=0,_t=(_=Nt(_)).length;W<_t;W++)jr(f,_[W],w,C);return this}var bs="_leaflet_events";function In(f,_,w,C){if(1===arguments.length)fn(f),delete f[bs];else if(_&&"object"==typeof _)for(var N in _)cc(f,N,_[N],w);else if(_=Nt(_),2===arguments.length)fn(f,function(zt){return-1!==Y(_,zt)});else for(var W=0,_t=_.length;W<_t;W++)cc(f,_[W],w,C);return this}function fn(f,_){for(var w in f[bs]){var C=w.split(/\d/)[0];(!_||_(C))&&cc(f,C,null,null,w)}}var tl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jr(f,_,w,C){var N=_+rt(w)+(C?"_"+rt(C):"");if(f[bs]&&f[bs][N])return this;var W=function(zt){return w.call(C||f,zt||window.event)},_t=W;!Ge.touchNative&&Ge.pointer&&0===_.indexOf("touch")?W=Ar(f,_,W):Ge.touch&&"dblclick"===_?W=function ga(f,_){f.addEventListener("dblclick",_);var C,w=0;function N(W){if(1===W.detail){if("mouse"!==W.pointerType&&(!W.sourceCapabilities||W.sourceCapabilities.firesTouchEvents)){var _t=ta(W);if(!_t.some(function(Yt){return Yt instanceof HTMLLabelElement&&Yt.attributes.for})||_t.some(function(Yt){return Yt instanceof HTMLInputElement||Yt instanceof HTMLSelectElement})){var zt=Date.now();zt-w<=Qi?2==++C&&_(function Ks(f){var w,C,_={};for(C in f)_[C]=(w=f[C])&&w.bind?w.bind(f):w;return f=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}(W)):C=1,w=zt}}}else C=W.detail}return f.addEventListener("click",N),{dblclick:_,simDblclick:N}}(f,W):"addEventListener"in f?"touchstart"===_||"touchmove"===_||"wheel"===_||"mousewheel"===_?f.addEventListener(tl[_]||_,W,!!Ge.passiveEvents&&{passive:!1}):"mouseenter"===_||"mouseleave"===_?f.addEventListener(tl[_],W=function(zt){zt=zt||window.event,Uo(f,zt)&&_t(zt)},!1):f.addEventListener(_,_t,!1):f.attachEvent("on"+_,W),f[bs]=f[bs]||{},f[bs][N]=W}function cc(f,_,w,C,N){N=N||_+rt(w)+(C?"_"+rt(C):"");var W=f[bs]&&f[bs][N];if(!W)return this;!Ge.touchNative&&Ge.pointer&&0===_.indexOf("touch")?function uc(f,_,w){os[_]?f.removeEventListener(os[_],w,!1):console.warn("wrong event specified:",_)}(f,_,W):Ge.touch&&"dblclick"===_?function Qs(f,_){f.removeEventListener("dblclick",_.dblclick),f.removeEventListener("click",_.simDblclick)}(f,W):"removeEventListener"in f?f.removeEventListener(tl[_]||_,W,!1):f.detachEvent("on"+_,W),f[bs][N]=null}function mo(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function zi(f){return jr(f,"wheel",mo),this}function oo(f){return Ke(f,"mousedown touchstart dblclick contextmenu",mo),f._leaflet_disable_click=!0,this}function Hr(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function _o(f){return Hr(f),mo(f),this}function ta(f){if(f.composedPath)return f.composedPath();for(var _=[],w=f.target;w;)_.push(w),w=w.parentNode;return _}function Va(f,_){if(!_)return new vt(f.clientX,f.clientY);var w=xi(_),C=w.boundingClientRect;return new vt((f.clientX-C.left)/w.x-_.clientLeft,(f.clientY-C.top)/w.y-_.clientTop)}var Ou=Ge.linux&&Ge.chrome?window.devicePixelRatio:Ge.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Mr(f){return Ge.edge?f.wheelDeltaY/2:f.deltaY&&0===f.deltaMode?-f.deltaY/Ou:f.deltaY&&1===f.deltaMode?20*-f.deltaY:f.deltaY&&2===f.deltaMode?60*-f.deltaY:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?20*-f.detail:f.detail?f.detail/-32765*60:0}function Uo(f,_){var w=_.relatedTarget;if(!w)return!0;try{for(;w&&w!==f;)w=w.parentNode}catch{return!1}return w!==f}var $e={__proto__:null,on:Ke,off:In,stopPropagation:mo,disableScrollPropagation:zi,disableClickPropagation:oo,preventDefault:Hr,stop:_o,getPropagationPath:ta,getMousePosition:Va,getWheelDelta:Mr,isExternalTarget:Uo,addListener:Ke,removeListener:In},_r=lt.extend({run:function(f,_,w,C){this.stop(),this._el=f,this._inProgress=!0,this._duration=w||.25,this._easeOutPower=1/Math.max(C||.5,.2),this._startPos=_i(f),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=It(this._animate,this),this._step()},_step:function(f){var _=+new Date-this._startTime,w=1e3*this._duration;_<w?this._runFrame(this._easeOut(_/w),f):(this._runFrame(1),this._complete())},_runFrame:function(f,_){var w=this._startPos.add(this._offset.multiplyBy(f));_&&w._round(),mi(this._el,w),this.fire("step")},_complete:function(){dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),rn=lt.extend({options:{crs:vn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,_){_=Rt(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=ft(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),void 0!==_.zoom&&(this._zoom=this._limitZoom(_.zoom)),_.center&&void 0!==_.zoom&&this.setView(ut(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ro&&Ge.any3d&&!Ge.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,Il,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,_,w){return _=void 0===_?this._zoom:this._limitZoom(_),f=this._limitCenter(ut(f),_,this.options.maxBounds),w=w||{},this._stop(),this._loaded&&!w.reset&&!0!==w&&(void 0!==w.animate&&(w.zoom=tt({animate:w.animate},w.zoom),w.pan=tt({animate:w.animate,duration:w.duration},w.pan)),this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,_,w.zoom):this._tryAnimatedPan(f,w.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(f,_,w.pan&&w.pan.noMoveStart),this)},setZoom:function(f,_){return this._loaded?this.setView(this.getCenter(),f,{zoom:_}):(this._zoom=f,this)},zoomIn:function(f,_){return this.setZoom(this._zoom+(f=f||(Ge.any3d?this.options.zoomDelta:1)),_)},zoomOut:function(f,_){return this.setZoom(this._zoom-(f=f||(Ge.any3d?this.options.zoomDelta:1)),_)},setZoomAround:function(f,_,w){var C=this.getZoomScale(_),N=this.getSize().divideBy(2),_t=(f instanceof vt?f:this.latLngToContainerPoint(f)).subtract(N).multiplyBy(1-1/C),zt=this.containerPointToLatLng(N.add(_t));return this.setView(zt,_,{zoom:w})},_getBoundsCenterZoom:function(f,_){_=_||{},f=f.getBounds?f.getBounds():V(f);var w=gt(_.paddingTopLeft||_.padding||[0,0]),C=gt(_.paddingBottomRight||_.padding||[0,0]),N=this.getBoundsZoom(f,!1,w.add(C));if((N="number"==typeof _.maxZoom?Math.min(_.maxZoom,N):N)===1/0)return{center:f.getCenter(),zoom:N};var W=C.subtract(w).divideBy(2),_t=this.project(f.getSouthWest(),N),zt=this.project(f.getNorthEast(),N);return{center:this.unproject(_t.add(zt).divideBy(2).add(W),N),zoom:N}},fitBounds:function(f,_){if(!(f=V(f)).isValid())throw new Error("Bounds are not valid.");var w=this._getBoundsCenterZoom(f,_);return this.setView(w.center,w.zoom,_)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,_){return this.setView(f,this._zoom,{pan:_})},panBy:function(f,_){if(_=_||{},!(f=gt(f).round()).x&&!f.y)return this.fire("moveend");if(!0!==_.animate&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _r,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),!1!==_.animate){_e(this._mapPane,"leaflet-pan-anim");var w=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,w,_.duration||.25,_.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,_,w){if(!1===(w=w||{}).animate||!Ge.any3d)return this.setView(f,_,w);this._stop();var C=this.project(this.getCenter()),N=this.project(f),W=this.getSize(),_t=this._zoom;f=ut(f),_=void 0===_?_t:_;var zt=Math.max(W.x,W.y),Yt=zt*this.getZoomScale(_t,_),se=N.distanceTo(C)||1,ce=1.42,Ze=ce*ce;function cn(Ni){var a=(Yt*Yt-zt*zt+(Ni?-1:1)*Ze*Ze*se*se)/(2*(Ni?Yt:zt)*Ze*se),l=Math.sqrt(a*a+1)-a;return l<1e-9?-18:Math.log(l)}function ir(Ni){return(Math.exp(Ni)-Math.exp(-Ni))/2}function Yi(Ni){return(Math.exp(Ni)+Math.exp(-Ni))/2}var cr=cn(0);function Us(Ni){return zt*(Yi(cr)*function eo(Ni){return ir(Ni)/Yi(Ni)}(cr+ce*Ni)-ir(cr))/Ze}var gn=Date.now(),rl=(cn(1)-cr)/ce,xa=w.duration?1e3*w.duration:1e3*rl*.8;return this._moveStart(!0,w.noMoveStart),function To(){var Ni=(Date.now()-gn)/xa,qr=function Qe(Ni){return 1-Math.pow(1-Ni,1.5)}(Ni)*rl;Ni<=1?(this._flyToFrame=It(To,this),this._move(this.unproject(C.add(N.subtract(C).multiplyBy(Us(qr)/se)),_t),this.getScaleZoom(zt/function co(Ni){return zt*(Yi(cr)/Yi(cr+ce*Ni))}(qr),_t),{flyTo:!0})):this._move(f,_)._moveEnd(!0)}.call(this),this},flyToBounds:function(f,_){var w=this._getBoundsCenterZoom(f,_);return this.flyTo(w.center,w.zoom,_)},setMaxBounds:function(f){return f=V(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var _=this.options.minZoom;return this.options.minZoom=f,this._loaded&&_!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var _=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&_!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,_){this._enforcingBounds=!0;var w=this.getCenter(),C=this._limitCenter(w,this._zoom,V(f));return w.equals(C)||this.panTo(C,_),this._enforcingBounds=!1,this},panInside:function(f,_){var w=gt((_=_||{}).paddingTopLeft||_.padding||[0,0]),C=gt(_.paddingBottomRight||_.padding||[0,0]),N=this.project(this.getCenter()),W=this.project(f),_t=this.getPixelBounds(),zt=nt([_t.min.add(w),_t.max.subtract(C)]),Yt=zt.getSize();if(!zt.contains(W)){this._enforcingBounds=!0;var se=W.subtract(zt.getCenter()),ce=zt.extend(W).getSize().subtract(Yt);N.x+=se.x<0?-ce.x:ce.x,N.y+=se.y<0?-ce.y:ce.y,this.panTo(this.unproject(N),_),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=tt({animate:!1,pan:!0},!0===f?{animate:!0}:f);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var w=this.getSize(),C=_.divideBy(2).round(),N=w.divideBy(2).round(),W=C.subtract(N);return W.x||W.y?(f.animate&&f.pan?this.panBy(W):(f.pan&&this._rawPanBy(W),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ft(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:w})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=tt({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=ft(this._handleGeolocationResponse,this),w=ft(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,w,f):navigator.geolocation.getCurrentPosition(_,w,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var _=f.code,w=f.message||(1===_?"permission denied":2===_?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+w+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var C=new Ot(f.coords.latitude,f.coords.longitude),N=C.toBounds(2*f.coords.accuracy),W=this._locateOptions;if(W.setView){var _t=this.getBoundsZoom(N);this.setView(C,W.maxZoom?Math.min(_t,W.maxZoom):_t)}var zt={latlng:C,bounds:N,timestamp:f.timestamp};for(var Yt in f.coords)"number"==typeof f.coords[Yt]&&(zt[Yt]=f.coords[Yt]);this.fire("locationfound",zt)}},addHandler:function(f,_){if(!_)return this;var w=this[f]=new _(this);return this._handlers.push(w),this.options[f]&&w.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var f;for(f in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ln(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[f].remove();for(f in this._panes)ln(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,_){var C=Vn("div","leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),_||this._mapPane);return f&&(this._panes[f]=C),C},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds();return new Et(this.unproject(f.getBottomLeft()),this.unproject(f.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,_,w){f=V(f),w=gt(w||[0,0]);var C=this.getZoom()||0,N=this.getMinZoom(),W=this.getMaxZoom(),_t=f.getNorthWest(),zt=f.getSouthEast(),Yt=this.getSize().subtract(w),se=nt(this.project(zt,C),this.project(_t,C)).getSize(),ce=Ge.any3d?this.options.zoomSnap:1,Ze=Yt.x/se.x,cn=Yt.y/se.y,ir=_?Math.max(Ze,cn):Math.min(Ze,cn);return C=this.getScaleZoom(ir,C),ce&&(C=Math.round(C/(ce/100))*(ce/100),C=_?Math.ceil(C/ce)*ce:Math.floor(C/ce)*ce),Math.max(N,Math.min(W,C))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new vt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,_){var w=this._getTopLeftPoint(f,_);return new Ct(w,w.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(void 0===f?this.getZoom():f)},getPane:function(f){return"string"==typeof f?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,_){var w=this.options.crs;return _=void 0===_?this._zoom:_,w.scale(f)/w.scale(_)},getScaleZoom:function(f,_){var w=this.options.crs,C=w.zoom(f*w.scale(_=void 0===_?this._zoom:_));return isNaN(C)?1/0:C},project:function(f,_){return _=void 0===_?this._zoom:_,this.options.crs.latLngToPoint(ut(f),_)},unproject:function(f,_){return _=void 0===_?this._zoom:_,this.options.crs.pointToLatLng(gt(f),_)},layerPointToLatLng:function(f){var _=gt(f).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(f){return this.project(ut(f))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(ut(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(V(f))},distance:function(f,_){return this.options.crs.distance(ut(f),ut(_))},containerPointToLayerPoint:function(f){return gt(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return gt(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var _=this.containerPointToLayerPoint(gt(f));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(f)))},mouseEventToContainerPoint:function(f){return Va(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var _=this._container=Ju(f);if(!_)throw new Error("Map container not found.");if(_._leaflet_id)throw new Error("Map container is already initialized.");Ke(_,"scroll",this._onScroll,this),this._containerId=rt(_)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ge.any3d,_e(f,"leaflet-container"+(Ge.touch?" leaflet-touch":"")+(Ge.retina?" leaflet-retina":"")+(Ge.ielt9?" leaflet-oldie":"")+(Ge.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=Fa(f,"position");"absolute"!==_&&"relative"!==_&&"fixed"!==_&&"sticky"!==_&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mi(this._mapPane,new vt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(f.markerPane,"leaflet-zoom-hide"),_e(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,_,w){mi(this._mapPane,new vt(0,0));var C=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var N=this._zoom!==_;this._moveStart(N,w)._move(f,_)._moveEnd(N),this.fire("viewreset"),C&&this.fire("load")},_moveStart:function(f,_){return f&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(f,_,w,C){void 0===_&&(_=this._zoom);var N=this._zoom!==_;return this._zoom=_,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),C?w&&w.pinch&&this.fire("zoom",w):((N||w&&w.pinch)&&this.fire("zoom",w),this.fire("move",w)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){mi(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[rt(this._container)]=this;var _=f?In:Ke;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Ge.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){dt(this._resizeRequest),this._resizeRequest=It(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,_){for(var C,w=[],N="mouseout"===_||"mouseover"===_,W=f.target||f.srcElement,_t=!1;W;){if((C=this._targets[rt(W)])&&("click"===_||"preclick"===_)&&this._draggableMoved(C)){_t=!0;break}if(C&&C.listens(_,!0)&&(N&&!Uo(W,f)||(w.push(C),N))||W===this._container)break;W=W.parentNode}return!w.length&&!_t&&!N&&this.listens(_,!0)&&(w=[this]),w},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var _=f.target||f.srcElement;if(!(!this._loaded||_._leaflet_disable_events||"click"===f.type&&this._isClickDisabled(_))){var w=f.type;"mousedown"===w&&Qt(_),this._fireDOMEvent(f,w)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,_,w){if("click"===f.type){var C=tt({},f);C.type="preclick",this._fireDOMEvent(C,C.type,w)}var N=this._findEventTargets(f,_);if(w){for(var W=[],_t=0;_t<w.length;_t++)w[_t].listens(_,!0)&&W.push(w[_t]);N=W.concat(N)}if(N.length){"contextmenu"===_&&Hr(f);var zt=N[0],Yt={originalEvent:f};if("keypress"!==f.type&&"keydown"!==f.type&&"keyup"!==f.type){var se=zt.getLatLng&&(!zt._radius||zt._radius<=10);Yt.containerPoint=se?this.latLngToContainerPoint(zt.getLatLng()):this.mouseEventToContainerPoint(f),Yt.layerPoint=this.containerPointToLayerPoint(Yt.containerPoint),Yt.latlng=se?zt.getLatLng():this.layerPointToLatLng(Yt.layerPoint)}for(_t=0;_t<N.length;_t++)if(N[_t].fire(_,Yt,!0),Yt.originalEvent._stopped||!1===N[_t].options.bubblingMouseEvents&&-1!==Y(this._mouseEvents,_))return}},_draggableMoved:function(f){return(f=f.dragging&&f.dragging.enabled()?f:this).dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,_=this._handlers.length;f<_;f++)this._handlers[f].disable()},whenReady:function(f,_){return this._loaded?f.call(_||this,{target:this}):this.on("load",f,_),this},_getMapPanePos:function(){return _i(this._mapPane)||new vt(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,_){return(f&&void 0!==_?this._getNewPixelOrigin(f,_):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,_){var w=this.getSize()._divideBy(2);return this.project(f,_)._subtract(w)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,_,w){var C=this._getNewPixelOrigin(w,_);return this.project(f,_)._subtract(C)},_latLngBoundsToNewLayerBounds:function(f,_,w){var C=this._getNewPixelOrigin(w,_);return nt([this.project(f.getSouthWest(),_)._subtract(C),this.project(f.getNorthWest(),_)._subtract(C),this.project(f.getSouthEast(),_)._subtract(C),this.project(f.getNorthEast(),_)._subtract(C)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,_,w){if(!w)return f;var C=this.project(f,_),N=this.getSize().divideBy(2),W=new Ct(C.subtract(N),C.add(N)),_t=this._getBoundsOffset(W,w,_);return Math.abs(_t.x)<=1&&Math.abs(_t.y)<=1?f:this.unproject(C.add(_t),_)},_limitOffset:function(f,_){if(!_)return f;var w=this.getPixelBounds(),C=new Ct(w.min.add(f),w.max.add(f));return f.add(this._getBoundsOffset(C,_))},_getBoundsOffset:function(f,_,w){var C=nt(this.project(_.getNorthEast(),w),this.project(_.getSouthWest(),w)),N=C.min.subtract(f.min),W=C.max.subtract(f.max);return new vt(this._rebound(N.x,-W.x),this._rebound(N.y,-W.y))},_rebound:function(f,_){return f+_>0?Math.round(f-_)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(_))},_limitZoom:function(f){var _=this.getMinZoom(),w=this.getMaxZoom(),C=Ge.any3d?this.options.zoomSnap:1;return C&&(f=Math.round(f/C)*C),Math.max(_,Math.min(w,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,_){var w=this._getCenterOffset(f)._trunc();return!(!0!==(_&&_.animate)&&!this.getSize().contains(w)||(this.panBy(w,_),0))},_createAnimProxy:function(){var f=this._proxy=Vn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(_){var w=ss,C=this._proxy.style[w];Pn(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),C===this._proxy.style[w]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ln(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),_=this.getZoom();Pn(this._proxy,this.project(f,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,_,w){if(this._animatingZoom)return!0;if(w=w||{},!this._zoomAnimated||!1===w.animate||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var C=this.getZoomScale(_),N=this._getCenterOffset(f)._divideBy(1-1/C);return!(!0!==w.animate&&!this.getSize().contains(N)||(It(function(){this._moveStart(!0,w.noMoveStart||!1)._animateZoom(f,_,!0)},this),0))},_animateZoom:function(f,_,w,C){this._mapPane&&(w&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=_,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:_,noUpdate:C}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(ft(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var we=K.extend({options:{position:"topright"},initialize:function(f){Rt(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var _=this._map;return _&&_.removeControl(this),this.options.position=f,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var _=this._container=this.onAdd(f),w=this.getPosition(),C=f._controlCorners[w];return _e(_,"leaflet-control"),-1!==w.indexOf("bottom")?C.insertBefore(_,C.firstChild):C.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ln(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),za=function(f){return new we(f)};rn.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},_="leaflet-",w=this._controlContainer=Vn("div",_+"control-container",this._container);function C(N,W){f[N+W]=Vn("div",_+N+" "+_+W,w)}C("top","left"),C("top","right"),C("bottom","left"),C("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)ln(this._controlCorners[f]);ln(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ei=we.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,_,w,C){return w<C?-1:C<w?1:0}},initialize:function(f,_,w){for(var C in Rt(this,w),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,f)this._addLayer(f[C],C);for(C in _)this._addLayer(_[C],C,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return we.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,_){return this._addLayer(f,_),this._map?this._update():this},addOverlay:function(f,_){return this._addLayer(f,_,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var _=this._getLayer(rt(f));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",_=this._container=Vn("div",f),w=this.options.collapsed;_.setAttribute("aria-haspopup",!0),oo(_),zi(_);var C=this._section=Vn("section",f+"-list");w&&(this._map.on("click",this.collapse,this),Ke(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=Vn("a",f+"-toggle",_);N.href="#",N.title="Layers",N.setAttribute("role","button"),Ke(N,{keydown:function(W){13===W.keyCode&&this._expandSafely()},click:function(W){Hr(W),this._expandSafely()}},this),w||this.expand(),this._baseLayersList=Vn("div",f+"-base",C),this._separator=Vn("div",f+"-separator",C),this._overlaysList=Vn("div",f+"-overlays",C),_.appendChild(C)},_getLayer:function(f){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&rt(this._layers[_].layer)===f)return this._layers[_]},_addLayer:function(f,_,w){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:_,overlay:w}),this.options.sortLayers&&this._layers.sort(ft(function(C,N){return this.options.sortFunction(C.layer,N.layer,C.name,N.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tl(this._baseLayersList),Tl(this._overlaysList),this._layerControlInputs=[];var f,_,w,C,N=0;for(w=0;w<this._layers.length;w++)this._addItem(C=this._layers[w]),_=_||C.overlay,f=f||!C.overlay,N+=C.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(f=f&&N>1)?"":"none"),this._separator.style.display=_&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var _=this._getLayer(rt(f.target)),w=_.overlay?"add"===f.type?"overlayadd":"overlayremove":"add"===f.type?"baselayerchange":null;w&&this._map.fire(w,_)},_createRadioElement:function(f,_){var w='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(_?' checked="checked"':"")+"/>",C=document.createElement("div");return C.innerHTML=w,C.firstChild},_addItem:function(f){var C,_=document.createElement("label"),w=this._map.hasLayer(f.layer);f.overlay?((C=document.createElement("input")).type="checkbox",C.className="leaflet-control-layers-selector",C.defaultChecked=w):C=this._createRadioElement("leaflet-base-layers_"+rt(this),w),this._layerControlInputs.push(C),C.layerId=rt(f.layer),Ke(C,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+f.name;var W=document.createElement("span");return _.appendChild(W),W.appendChild(C),W.appendChild(N),(f.overlay?this._overlaysList:this._baseLayersList).appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var _,w,f=this._layerControlInputs,C=[],N=[];this._handlingClick=!0;for(var W=f.length-1;W>=0;W--)w=this._getLayer((_=f[W]).layerId).layer,_.checked?C.push(w):_.checked||N.push(w);for(W=0;W<N.length;W++)this._map.hasLayer(N[W])&&this._map.removeLayer(N[W]);for(W=0;W<C.length;W++)this._map.hasLayer(C[W])||this._map.addLayer(C[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var _,w,f=this._layerControlInputs,C=this._map.getZoom(),N=f.length-1;N>=0;N--)w=this._getLayer((_=f[N]).layerId).layer,_.disabled=void 0!==w.options.minZoom&&C<w.options.minZoom||void 0!==w.options.maxZoom&&C>w.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,Ke(f,"click",Hr),this.expand();var _=this;setTimeout(function(){In(f,"click",Hr),_._preventClick=!1})}}),so=we.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var _="leaflet-control-zoom",w=Vn("div",_+" leaflet-bar"),C=this.options;return this._zoomInButton=this._createButton(C.zoomInText,C.zoomInTitle,_+"-in",w,this._zoomIn),this._zoomOutButton=this._createButton(C.zoomOutText,C.zoomOutTitle,_+"-out",w,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),w},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,_,w,C,N){var W=Vn("a",w,C);return W.innerHTML=f,W.href="#",W.title=_,W.setAttribute("role","button"),W.setAttribute("aria-label",_),oo(W),Ke(W,"click",_o),Ke(W,"click",N,this),Ke(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var f=this._map,_="leaflet-disabled";Pe(this._zoomInButton,_),Pe(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(_e(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(_e(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new so,this.addControl(this.zoomControl))});var ao=we.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var _="leaflet-control-scale",w=Vn("div",_),C=this.options;return this._addScales(C,_+"-line",w),f.on(C.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),w},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,_,w){f.metric&&(this._mScale=Vn("div",_,w)),f.imperial&&(this._iScale=Vn("div",_,w))},_update:function(){var f=this._map,_=f.getSize().y/2,w=f.distance(f.containerPointToLatLng([0,_]),f.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(w)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var _=this._getRoundNum(f);this._updateScale(this._mScale,_<1e3?_+" m":_/1e3+" km",_/f)},_updateImperial:function(f){var w,C,N,_=3.2808399*f;_>5280?(C=this._getRoundNum(w=_/5280),this._updateScale(this._iScale,C+" mi",C/w)):(N=this._getRoundNum(_),this._updateScale(this._iScale,N+" ft",N/_))},_updateScale:function(f,_,w){f.style.width=Math.round(this.options.maxWidth*w)+"px",f.innerHTML=_},_getRoundNum:function(f){var _=Math.pow(10,(Math.floor(f)+"").length-1),w=f/_;return _*(w>=10?10:w>=5?5:w>=3?3:w>=2?2:1)}}),ja=we.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ge.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(f){Rt(this,f),this._attributions={}},onAdd:function(f){for(var _ in f.attributionControl=this,this._container=Vn("div","leaflet-control-attribution"),oo(this._container),f._layers)f._layers[_].getAttribution&&this.addAttribution(f._layers[_].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var _ in this._attributions)this._attributions[_]&&f.push(_);var w=[];this.options.prefix&&w.push(this.options.prefix),f.length&&w.push(f.join(", ")),this._container.innerHTML=w.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook(function(){this.options.attributionControl&&(new ja).addTo(this)});we.Layers=Ei,we.Zoom=so,we.Scale=ao,we.Attribution=ja,za.layers=function(f,_,w){return new Ei(f,_,w)},za.zoom=function(f){return new so(f)},za.scale=function(f){return new ao(f)},za.attribution=function(f){return new ja(f)};var Te=K.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Te.addTo=function(f,_){return f.addHandler(_,this),this};var On={Events:Lt},lu=Ge.touch?"touchstart mousedown":"mousedown",vr=lt.extend({options:{clickTolerance:3},initialize:function(f,_,w,C){Rt(this,C),this._element=f,this._dragStartTarget=_||f,this._preventOutline=w},enable:function(){this._enabled||(Ke(this._dragStartTarget,lu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vr._dragging===this&&this.finishDrag(!0),In(this._dragStartTarget,lu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!Nl(this._element,"leaflet-zoom-anim"))){if(f.touches&&1!==f.touches.length)return void(vr._dragging===this&&this.finishDrag());if(!(vr._dragging||f.shiftKey||1!==f.which&&1!==f.button&&!f.touches||(vr._dragging=this,this._preventOutline&&Qt(this._element),Lo(),Ba(),this._moving))){this.fire("down");var _=f.touches?f.touches[0]:f,w=Le(this._element);this._startPoint=new vt(_.clientX,_.clientY),this._startPos=_i(this._element),this._parentScale=xi(w);var C="mousedown"===f.type;Ke(document,C?"mousemove":"touchmove",this._onMove,this),Ke(document,C?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1)return void(this._moved=!0);var _=f.touches&&1===f.touches.length?f.touches[0]:f,w=new vt(_.clientX,_.clientY)._subtract(this._startPoint);!w.x&&!w.y||Math.abs(w.x)+Math.abs(w.y)<this.options.clickTolerance||(w.x/=this._parentScale.x,w.y/=this._parentScale.y,Hr(f),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(w),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),mi(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),In(document,"mousemove touchmove",this._onMove,this),In(document,"mouseup touchend touchcancel",this._onUp,this),as(),Ku();var _=this._moved&&this._moving;this._moving=!1,vr._dragging=!1,_&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function er(f,_,w){var C,W,_t,zt,Yt,se,ce,Ze,cn,N=[1,4,2,8];for(W=0,ce=f.length;W<ce;W++)f[W]._code=vi(f[W],_);for(zt=0;zt<4;zt++){for(Ze=N[zt],C=[],W=0,_t=(ce=f.length)-1;W<ce;_t=W++)se=f[_t],(Yt=f[W])._code&Ze?se._code&Ze||((cn=Bs(se,Yt,Ze,_,w))._code=vi(cn,_),C.push(cn)):(se._code&Ze&&((cn=Bs(se,Yt,Ze,_,w))._code=vi(cn,_),C.push(cn)),C.push(Yt));f=C}return f}function va(f,_){var w,C,N,W,_t,zt,Yt,se;if(!f||0===f.length)throw new Error("latlngs not passed");So(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Ze=ut([0,0]),cn=V(f);cn.getNorthWest().distanceTo(cn.getSouthWest())*cn.getNorthEast().distanceTo(cn.getNorthWest())<1700&&(Ze=el(f));var Yi=f.length,eo=[];for(w=0;w<Yi;w++){var cr=ut(f[w]);eo.push(_.project(ut([cr.lat-Ze.lat,cr.lng-Ze.lng])))}for(zt=Yt=se=0,w=0,C=Yi-1;w<Yi;C=w++)Yt+=((N=eo[w]).x+(W=eo[C]).x)*(_t=N.y*W.x-W.y*N.x),se+=(N.y+W.y)*_t,zt+=3*_t;var co=_.unproject(gt(0===zt?eo[0]:[Yt/zt,se/zt]));return ut([co.lat+Ze.lat,co.lng+Ze.lng])}function el(f){for(var _=0,w=0,C=0,N=0;N<f.length;N++){var W=ut(f[N]);_+=W.lat,w+=W.lng,C++}return ut([_/C,w/C])}var Ol,ji={__proto__:null,clipPolygon:er,polygonCenter:va,centroid:el};function Gh(f,_){if(!_||!f.length)return f.slice();var w=_*_;return function Hi(f,_){var w=f.length,N=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(w);N[0]=N[w-1]=1,Ha(f,N,_,0,w-1);var W,_t=[];for(W=0;W<w;W++)N[W]&&_t.push(f[W]);return _t}(f=function ko(f,_){for(var w=[f[0]],C=1,N=0,W=f.length;C<W;C++)hc(f[C],f[N])>_&&(w.push(f[C]),N=C);return N<W-1&&w.push(f[W-1]),w}(f,w),w)}function Bn(f,_,w){return Math.sqrt(Qr(f,_,w,!0))}function Ha(f,_,w,C,N){var _t,zt,Yt,W=0;for(zt=C+1;zt<=N-1;zt++)(Yt=Qr(f[zt],f[C],f[N],!0))>W&&(_t=zt,W=Yt);W>w&&(_[_t]=1,Ha(f,_,w,C,_t),Ha(f,_,w,_t,N))}function bn(f,_,w,C,N){var zt,Yt,se,W=C?Ol:vi(f,w),_t=vi(_,w);for(Ol=_t;;){if(!(W|_t))return[f,_];if(W&_t)return!1;se=vi(Yt=Bs(f,_,zt=W||_t,w,N),w),zt===W?(f=Yt,W=se):(_=Yt,_t=se)}}function Bs(f,_,w,C,N){var se,ce,W=_.x-f.x,_t=_.y-f.y,zt=C.min,Yt=C.max;return 8&w?(se=f.x+W*(Yt.y-f.y)/_t,ce=Yt.y):4&w?(se=f.x+W*(zt.y-f.y)/_t,ce=zt.y):2&w?(se=Yt.x,ce=f.y+_t*(Yt.x-f.x)/W):1&w&&(se=zt.x,ce=f.y+_t*(zt.x-f.x)/W),new vt(se,ce,N)}function vi(f,_){var w=0;return f.x<_.min.x?w|=1:f.x>_.max.x&&(w|=2),f.y<_.min.y?w|=4:f.y>_.max.y&&(w|=8),w}function hc(f,_){var w=_.x-f.x,C=_.y-f.y;return w*w+C*C}function Qr(f,_,w,C){var se,N=_.x,W=_.y,_t=w.x-N,zt=w.y-W,Yt=_t*_t+zt*zt;return Yt>0&&((se=((f.x-N)*_t+(f.y-W)*zt)/Yt)>1?(N=w.x,W=w.y):se>0&&(N+=_t*se,W+=zt*se)),_t=f.x-N,zt=f.y-W,C?_t*_t+zt*zt:new vt(N,W)}function So(f){return!B(f[0])||"object"!=typeof f[0][0]&&typeof f[0][0]<"u"}function $h(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),So(f)}function ws(f,_){var w,C,N,W,_t,zt,Yt,se;if(!f||0===f.length)throw new Error("latlngs not passed");So(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var ce=ut([0,0]),Ze=V(f);Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest())<1700&&(ce=el(f));var ir=f.length,Yi=[];for(w=0;w<ir;w++){var eo=ut(f[w]);Yi.push(_.project(ut([eo.lat-ce.lat,eo.lng-ce.lng])))}for(w=0,C=0;w<ir-1;w++)C+=Yi[w].distanceTo(Yi[w+1])/2;if(0===C)se=Yi[0];else for(w=0,W=0;w<ir-1;w++)if((W+=N=(_t=Yi[w]).distanceTo(zt=Yi[w+1]))>C){se=[zt.x-(Yt=(W-C)/N)*(zt.x-_t.x),zt.y-Yt*(zt.y-_t.y)];break}var cr=_.unproject(gt(se));return ut([cr.lat+ce.lat,cr.lng+ce.lng])}var Tn={__proto__:null,simplify:Gh,pointToSegmentDistance:Bn,closestPointOnSegment:function Ne(f,_,w){return Qr(f,_,w)},clipSegment:bn,_getEdgeIntersection:Bs,_getBitCode:vi,_sqClosestPointOnSegment:Qr,isFlat:So,_flat:$h,polylineCenter:ws},uo={project:function(f){return new vt(f.lng,f.lat)},unproject:function(f){return new Ot(f.y,f.x)},bounds:new Ct([-180,-90],[180,90])},cu={R:6378137,R_MINOR:6356752.314245179,bounds:new Ct([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(f){var _=Math.PI/180,w=this.R,C=f.lat*_,N=this.R_MINOR/w,W=Math.sqrt(1-N*N),_t=W*Math.sin(C),zt=Math.tan(Math.PI/4-C/2)/Math.pow((1-_t)/(1+_t),W/2);return C=-w*Math.log(Math.max(zt,1e-10)),new vt(f.lng*_*w,C)},unproject:function(f){for(var se,_=180/Math.PI,w=this.R,C=this.R_MINOR/w,N=Math.sqrt(1-C*C),W=Math.exp(-f.y/w),_t=Math.PI/2-2*Math.atan(W),zt=0,Yt=.1;zt<15&&Math.abs(Yt)>1e-7;zt++)se=N*Math.sin(_t),se=Math.pow((1-se)/(1+se),N/2),_t+=Yt=Math.PI/2-2*Math.atan(W*se)-_t;return new Ot(_t*_,f.x*_/w)}},ea={__proto__:null,LonLat:uo,Mercator:cu,SphericalMercator:jt},Go=tt({},Wt,{code:"EPSG:3395",projection:cu,transformation:function(){var f=.5/(Math.PI*cu.R);return ne(f,.5,-f,.5)}()}),Ur=tt({},Wt,{code:"EPSG:4326",projection:uo,transformation:ne(1/180,1,-1/180,.5)}),nl=tt({},Bt,{projection:uo,transformation:ne(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,_){var w=_.lng-f.lng,C=_.lat-f.lat;return Math.sqrt(w*w+C*C)},infinite:!0});Bt.Earth=Wt,Bt.EPSG3395=Go,Bt.EPSG3857=vn,Bt.EPSG900913=yn,Bt.EPSG4326=Ur,Bt.Simple=nl;var Vs=lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[rt(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[rt(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var _=f.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var w=this.getEvents();_.on(w,this),this.once("remove",function(){_.off(w,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var _=rt(f);return this._layers[_]||(this._layers[_]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f)),this},removeLayer:function(f){var _=rt(f);return this._layers[_]?(this._loaded&&f.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return rt(f)in this._layers},eachLayer:function(f,_){for(var w in this._layers)f.call(_,this._layers[w]);return this},_addLayers:function(f){for(var _=0,w=(f=f?B(f)?f:[f]:[]).length;_<w;_++)this.addLayer(f[_])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[rt(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var _=rt(f);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,_=-1/0,w=this._getZoomSpan();for(var C in this._zoomBoundLayers){var N=this._zoomBoundLayers[C].options;f=void 0===N.minZoom?f:Math.min(f,N.minZoom),_=void 0===N.maxZoom?_:Math.max(_,N.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=f===1/0?void 0:f,w!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gr=Vs.extend({initialize:function(f,_){var w,C;if(Rt(this,_),this._layers={},f)for(w=0,C=f.length;w<C;w++)this.addLayer(f[w])},addLayer:function(f){var _=this.getLayerId(f);return this._layers[_]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var _=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(f){return("number"==typeof f?f:this.getLayerId(f))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var w,C,_=Array.prototype.slice.call(arguments,1);for(w in this._layers)(C=this._layers[w])[f]&&C[f].apply(C,_);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,_){for(var w in this._layers)f.call(_,this._layers[w]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return rt(f)}}),ye=Gr.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Gr.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Gr.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new Et;for(var _ in this._layers){var w=this._layers[_];f.extend(w.getBounds?w.getBounds():w.getLatLng())}return f}}),fe=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){Rt(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,_){var w=this._getIconUrl(f);if(!w){if("icon"===f)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var C=this._createImg(w,_&&"IMG"===_.tagName?_:null);return this._setIconStyles(C,f),(this.options.crossOrigin||""===this.options.crossOrigin)&&(C.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),C},_setIconStyles:function(f,_){var w=this.options,C=w[_+"Size"];"number"==typeof C&&(C=[C,C]);var N=gt(C),W=gt("shadow"===_&&w.shadowAnchor||w.iconAnchor||N&&N.divideBy(2,!0));f.className="leaflet-marker-"+_+" "+(w.className||""),W&&(f.style.marginLeft=-W.x+"px",f.style.marginTop=-W.y+"px"),N&&(f.style.width=N.x+"px",f.style.height=N.y+"px")},_createImg:function(f,_){return(_=_||document.createElement("img")).src=f,_},_getIconUrl:function(f){return Ge.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});var cs=fe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return"string"!=typeof cs.imagePath&&(cs.imagePath=this._detectIconPath()),(this.options.imagePath||cs.imagePath)+fe.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var _=function(w,C,N){var W=C.exec(w);return W&&W[N]};return(f=_(f,/^url\((['"])?(.+)\1\)$/,2))&&_(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=Vn("div","leaflet-default-icon-path",document.body),_=Fa(f,"background-image")||Fa(f,"backgroundImage");if(document.body.removeChild(f),_=this._stripUrl(_))return _;var w=document.querySelector('link[href$="leaflet.css"]');return w?w.href.substring(0,w.href.length-11-1):""}}),$o=Te.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new vr(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var _=this._marker,w=_._map,C=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,W=_i(_._icon),_t=w.getPixelBounds(),zt=w.getPixelOrigin(),Yt=nt(_t.min._subtract(zt).add(N),_t.max._subtract(zt).subtract(N));if(!Yt.contains(W)){var se=gt((Math.max(Yt.max.x,W.x)-Yt.max.x)/(_t.max.x-Yt.max.x)-(Math.min(Yt.min.x,W.x)-Yt.min.x)/(_t.min.x-Yt.min.x),(Math.max(Yt.max.y,W.y)-Yt.max.y)/(_t.max.y-Yt.max.y)-(Math.min(Yt.min.y,W.y)-Yt.min.y)/(_t.min.y-Yt.min.y)).multiplyBy(C);w.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),mi(_._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=It(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(dt(this._panRequest),this._panRequest=It(this._adjustPan.bind(this,f)))},_onDrag:function(f){var _=this._marker,w=_._shadow,C=_i(_._icon),N=_._map.layerPointToLatLng(C);w&&mi(w,C),_._latlng=N,f.latlng=N,f.oldLatLng=this._oldLatLng,_.fire("move",f).fire("drag",f)},_onDragEnd:function(f){dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Ir=Vs.extend({options:{icon:new cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,_){Rt(this,_),this._latlng=ut(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var _=this._latlng;return this._latlng=ut(f),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),w=f.icon.createIcon(this._icon),C=!1;w!==this._icon&&(this._icon&&this._removeIcon(),C=!0,f.title&&(w.title=f.title),"IMG"===w.tagName&&(w.alt=f.alt||"")),_e(w,_),f.keyboard&&(w.tabIndex="0",w.setAttribute("role","button")),this._icon=w,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(w,"focus",this._panOnFocus,this);var N=f.icon.createShadow(this._shadow),W=!1;N!==this._shadow&&(this._removeShadow(),W=!0),N&&(_e(N,_),N.alt=""),this._shadow=N,f.opacity<1&&this._updateOpacity(),C&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&W&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&In(this._icon,"focus",this._panOnFocus,this),ln(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ln(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&mi(this._icon,f),this._shadow&&mi(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var _=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$o)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $o(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Ve(this._icon,f),this._shadow&&Ve(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var _=this.options.icon.options,w=_.iconSize?gt(_.iconSize):gt(0,0),C=_.iconAnchor?gt(_.iconAnchor):gt(0,0);f.panInside(this._latlng,{paddingTopLeft:C,paddingBottomRight:w.subtract(C)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var na=Vs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return Rt(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ri=na.extend({options:{fill:!0,radius:10},initialize:function(f,_){Rt(this,_),this._latlng=ut(f),this._radius=this.options.radius},setLatLng:function(f){var _=this._latlng;return this._latlng=ut(f),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var _=f&&f.radius||this._radius;return na.prototype.setStyle.call(this,f),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,_=this._radiusY||f,w=this._clickTolerance(),C=[f+w,_+w];this._pxBounds=new Ct(this._point.subtract(C),this._point.add(C))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var yr=Ri.extend({initialize:function(f,_,w){if("number"==typeof _&&(_=tt({},w,{radius:_})),Rt(this,_),this._latlng=ut(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new Et(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:na.prototype.setStyle,_project:function(){var f=this._latlng.lng,_=this._latlng.lat,w=this._map,C=w.options.crs;if(C.distance===Wt.distance){var N=Math.PI/180,W=this._mRadius/Wt.R/N,_t=w.project([_+W,f]),zt=w.project([_-W,f]),Yt=_t.add(zt).divideBy(2),se=w.unproject(Yt).lat,ce=Math.acos((Math.cos(W*N)-Math.sin(_*N)*Math.sin(se*N))/(Math.cos(_*N)*Math.cos(se*N)))/N;(isNaN(ce)||0===ce)&&(ce=W/Math.cos(Math.PI/180*_)),this._point=Yt.subtract(w.getPixelOrigin()),this._radius=isNaN(ce)?0:Yt.x-w.project([se,f-ce]).x,this._radiusY=Yt.y-_t.y}else{var Ze=C.unproject(C.project(this._latlng).subtract([this._mRadius,0]));this._point=w.latLngToLayerPoint(this._latlng),this._radius=this._point.x-w.latLngToLayerPoint(Ze).x}this._updateBounds()}});var Je=na.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,_){Rt(this,_),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var N,W,_=1/0,w=null,C=Qr,_t=0,zt=this._parts.length;_t<zt;_t++)for(var Yt=this._parts[_t],se=1,ce=Yt.length;se<ce;se++){var Ze=C(f,N=Yt[se-1],W=Yt[se],!0);Ze<_&&(_=Ze,w=C(f,N,W))}return w&&(w.distance=Math.sqrt(_)),w},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ws(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,_){return _=_||this._defaultShape(),f=ut(f),_.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new Et,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return So(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var _=[],w=So(f),C=0,N=f.length;C<N;C++)w?(_[C]=ut(f[C]),this._bounds.extend(_[C])):_[C]=this._convertLatLngs(f[C]);return _},_project:function(){var f=new Ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),_=new vt(f,f);this._rawPxBounds&&(this._pxBounds=new Ct([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(f,_,w){var W,_t,N=f.length;if(f[0]instanceof Ot){for(_t=[],W=0;W<N;W++)_t[W]=this._map.latLngToLayerPoint(f[W]),w.extend(_t[W]);_.push(_t)}else for(W=0;W<N;W++)this._projectLatlngs(f[W],_,w)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);var w,C,N,W,_t,zt,Yt,_=this._parts;for(w=0,N=0,W=this._rings.length;w<W;w++)for(C=0,_t=(Yt=this._rings[w]).length;C<_t-1;C++)(zt=bn(Yt[C],Yt[C+1],f,C,!0))&&(_[N]=_[N]||[],_[N].push(zt[0]),(zt[1]!==Yt[C+1]||C===_t-2)&&(_[N].push(zt[1]),N++))}},_simplifyPoints:function(){for(var f=this._parts,_=this.options.smoothFactor,w=0,C=f.length;w<C;w++)f[w]=Gh(f[w],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,_){var w,C,N,W,_t,zt,Yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(w=0,W=this._parts.length;w<W;w++)for(C=0,N=(_t=(zt=this._parts[w]).length)-1;C<_t;N=C++)if((_||0!==C)&&Bn(f,zt[N],zt[C])<=Yt)return!0;return!1}});Je._flat=$h;var js=Je.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return va(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var _=Je.prototype._convertLatLngs.call(this,f),w=_.length;return w>=2&&_[0]instanceof Ot&&_[0].equals(_[w-1])&&_.pop(),_},_setLatLngs:function(f){Je.prototype._setLatLngs.call(this,f),So(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return So(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,_=this.options.weight,w=new vt(_,_);if(f=new Ct(f.min.subtract(w),f.max.add(w)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(f)){if(this.options.noClip)return void(this._parts=this._rings);for(var W,C=0,N=this._rings.length;C<N;C++)(W=er(this._rings[C],f,!0)).length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var w,C,N,W,_t,zt,Yt,se,_=!1;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(W=0,Yt=this._parts.length;W<Yt;W++)for(_t=0,zt=(se=(w=this._parts[W]).length)-1;_t<se;zt=_t++)(C=w[_t]).y>f.y!=(N=w[zt]).y>f.y&&f.x<(N.x-C.x)*(f.y-C.y)/(N.y-C.y)+C.x&&(_=!_);return _||Je.prototype._containsPoint.call(this,f,!0)}});var ra=ye.extend({initialize:function(f,_){Rt(this,_),this._layers={},f&&this.addData(f)},addData:function(f){var w,C,N,_=B(f)?f:f.features;if(_){for(w=0,C=_.length;w<C;w++)((N=_[w]).geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var W=this.options;if(W.filter&&!W.filter(f))return this;var _t=Es(f,W);return _t?(_t.feature=qo(f),_t.defaultOptions=_t.options,this.resetStyle(_t),W.onEachFeature&&W.onEachFeature(f,_t),this.addLayer(_t)):this},resetStyle:function(f){return void 0===f?this.eachLayer(this.resetStyle,this):(f.options=tt({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(_){this._setLayerStyle(_,f)},this)},_setLayerStyle:function(f,_){f.setStyle&&("function"==typeof _&&(_=_(f.feature)),f.setStyle(_))}});function Es(f,_){var zt,Yt,se,ce,w="Feature"===f.type?f.geometry:f,C=w?w.coordinates:null,N=[],W=_&&_.pointToLayer,_t=_&&_.coordsToLatLng||hs;if(!C&&!w)return null;switch(w.type){case"Point":return Hs(W,f,zt=_t(C),_);case"MultiPoint":for(se=0,ce=C.length;se<ce;se++)zt=_t(C[se]),N.push(Hs(W,f,zt,_));return new ye(N);case"LineString":case"MultiLineString":return Yt=br(C,"LineString"===w.type?0:1,_t),new Je(Yt,_);case"Polygon":case"MultiPolygon":return Yt=br(C,"Polygon"===w.type?1:2,_t),new js(Yt,_);case"GeometryCollection":for(se=0,ce=w.geometries.length;se<ce;se++){var Ze=Es({geometry:w.geometries[se],type:"Feature",properties:f.properties},_);Ze&&N.push(Ze)}return new ye(N);case"FeatureCollection":for(se=0,ce=w.features.length;se<ce;se++){var cn=Es(w.features[se],_);cn&&N.push(cn)}return new ye(N);default:throw new Error("Invalid GeoJSON object.")}}function Hs(f,_,w,C){return f?f(_,w):new Ir(w,C&&C.markersInheritOptions&&C)}function hs(f){return new Ot(f[1],f[0],f[2])}function br(f,_,w){for(var _t,C=[],N=0,W=f.length;N<W;N++)_t=_?br(f[N],_-1,w):(w||hs)(f[N]),C.push(_t);return C}function ya(f,_){return void 0!==(f=ut(f)).alt?[Gt(f.lng,_),Gt(f.lat,_),Gt(f.alt,_)]:[Gt(f.lng,_),Gt(f.lat,_)]}function Rr(f,_,w,C){for(var N=[],W=0,_t=f.length;W<_t;W++)N.push(_?Rr(f[W],So(f[W])?0:_-1,w,C):ya(f[W],C));return!_&&w&&N.length>0&&N.push(N[0].slice()),N}function Mo(f,_){return f.feature?tt({},f.feature,{geometry:_}):qo(_)}function qo(f){return"Feature"===f.type||"FeatureCollection"===f.type?f:{type:"Feature",properties:{},geometry:f}}var il={toGeoJSON:function(f){return Mo(this,{type:"Point",coordinates:ya(this.getLatLng(),f)})}};function Ua(f,_){return new ra(f,_)}Ir.include(il),yr.include(il),Ri.include(il),Je.include({toGeoJSON:function(f){var _=!So(this._latlngs);return Mo(this,{type:(_?"Multi":"")+"LineString",coordinates:Rr(this._latlngs,_?1:0,!1,f)})}}),js.include({toGeoJSON:function(f){var _=!So(this._latlngs),w=_&&!So(this._latlngs[0]),C=Rr(this._latlngs,w?2:_?1:0,!0,f);return _||(C=[C]),Mo(this,{type:(w?"Multi":"")+"Polygon",coordinates:C})}}),Gr.include({toMultiPoint:function(f){var _=[];return this.eachLayer(function(w){_.push(w.toGeoJSON(f).geometry.coordinates)}),Mo(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(f){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===_)return this.toMultiPoint(f);var w="GeometryCollection"===_,C=[];return this.eachLayer(function(N){if(N.toGeoJSON){var W=N.toGeoJSON(f);if(w)C.push(W.geometry);else{var _t=qo(W);"FeatureCollection"===_t.type?C.push.apply(C,_t.features):C.push(_t)}}}),w?Mo(this,{geometries:C,type:"GeometryCollection"}):{type:"FeatureCollection",features:C}}});var Ga=Ua,fs=Vs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,_,w){this._url=f,this._bounds=V(_),Rt(this,w)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ln(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&Ro(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=V(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f="IMG"===this._url.tagName,_=this._image=f?this._url:Vn("img");_e(_,"leaflet-image-layer"),this._zoomAnimated&&_e(_,"leaflet-zoom-animated"),this.options.className&&_e(_,this.options.className),_.onselectstart=At,_.onmousemove=At,_.onload=ft(this.fire,this,"load"),_.onerror=ft(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(_.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f?this._url=_.src:(_.src=this._url,_.alt=this.options.alt)},_animateZoom:function(f){var _=this._map.getZoomScale(f.zoom),w=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Pn(this._image,w,_)},_reset:function(){var f=this._image,_=new Ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),w=_.getSize();mi(f,_.min),f.style.width=w.x+"px",f.style.height=w.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),ds=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f="VIDEO"===this._url.tagName,_=this._image=f?this._url:Vn("video");if(_e(_,"leaflet-image-layer"),this._zoomAnimated&&_e(_,"leaflet-zoom-animated"),this.options.className&&_e(_,this.options.className),_.onselectstart=At,_.onmousemove=At,_.onloadeddata=ft(this.fire,this,"load"),f){for(var w=_.getElementsByTagName("source"),C=[],N=0;N<w.length;N++)C.push(w[N].src);this._url=w.length>0?C:[_.src]}else{B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var _t=Vn("source");_t.src=this._url[W],_.appendChild(_t)}}}});var Yc=fs.extend({_initImage:function(){var f=this._image=this._url;_e(f,"leaflet-image-layer"),this._zoomAnimated&&_e(f,"leaflet-zoom-animated"),this.options.className&&_e(f,this.options.className),f.onselectstart=At,f.onmousemove=At}});var Bo=Vs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,_){f&&(f instanceof Ot||B(f))?(this._latlng=ut(f),Rt(this,_)):(Rt(this,f),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(f){return(f=arguments.length?f:this._source._map).hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(ft(ln,void 0,this._container),200)):ln(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=ut(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ro(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(f){var _=this._source;if(!_._map)return!1;if(_ instanceof ye){_=null;var w=this._source._layers;for(var C in w)if(w[C]._map){_=w[C];break}if(!_)return!1;this._source=_}if(!f)if(_.getCenter)f=_.getCenter();else if(_.getLatLng)f=_.getLatLng();else{if(!_.getBounds)throw new Error("Unable to get source layer LatLng.");f=_.getBounds().getCenter()}return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,_="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof _)f.innerHTML=_;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),_=gt(this.options.offset),w=this._getAnchor();this._zoomAnimated?mi(this._container,f.add(w)):_=_.add(f).add(w);var C=this._containerBottom=-_.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=C+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(f,_,w,C){var N=_;return N instanceof f||(N=new f(C).setContent(_)),w&&N.setLatLng(w),N}}),Vs.include({_initOverlay:function(f,_,w,C){var N=w;return N instanceof f?(Rt(N,C),N._source=this):(N=_&&!C?_:new f(C,this)).setContent(w),N}});var Tr=Bo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return!(f=arguments.length?f:this._source._map).hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,Bo.prototype.openOn.call(this,f)},onAdd:function(f){Bo.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof na||this._source.on("preclick",mo))},onRemove:function(f){Bo.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof na||this._source.off("preclick",mo))},getEvents:function(){var f=Bo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",_=this._container=Vn("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),w=this._wrapper=Vn("div",f+"-content-wrapper",_);if(this._contentNode=Vn("div",f+"-content",w),oo(_),zi(this._contentNode),Ke(_,"contextmenu",mo),this._tipContainer=Vn("div",f+"-tip-container",_),this._tip=Vn("div",f+"-tip",this._tipContainer),this.options.closeButton){var C=this._closeButton=Vn("a",f+"-close-button",_);C.setAttribute("role","button"),C.setAttribute("aria-label","Close popup"),C.href="#close",C.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(C,"click",function(N){Hr(N),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,_=f.style;_.width="",_.whiteSpace="nowrap";var w=f.offsetWidth;w=Math.min(w,this.options.maxWidth),w=Math.max(w,this.options.minWidth),_.width=w+1+"px",_.whiteSpace="",_.height="";var N=this.options.maxHeight,W="leaflet-popup-scrolled";N&&f.offsetHeight>N?(_.height=N+"px",_e(f,W)):Pe(f,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var _=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),w=this._getAnchor();mi(this._container,_.add(w))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var f=this._map,_=parseInt(Fa(this._container,"marginBottom"),10)||0,w=this._container.offsetHeight+_,C=this._containerWidth,N=new vt(this._containerLeft,-w-this._containerBottom);N._add(_i(this._container));var W=f.layerPointToContainerPoint(N),_t=gt(this.options.autoPanPadding),zt=gt(this.options.autoPanPaddingTopLeft||_t),Yt=gt(this.options.autoPanPaddingBottomRight||_t),se=f.getSize(),ce=0,Ze=0;W.x+C+Yt.x>se.x&&(ce=W.x+C-se.x+Yt.x),W.x-ce-zt.x<0&&(ce=W.x-zt.x),W.y+w+Yt.y>se.y&&(Ze=W.y+w-se.y+Yt.y),W.y-Ze-zt.y<0&&(Ze=W.y-zt.y),(ce||Ze)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([ce,Ze]))}},_getAnchor:function(){return gt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(f,_,w){return this._initOverlay(Tr,f,_,w).openOn(this),this},closePopup:function(f){return(f=arguments.length?f:this._popup)&&f.close(),this}}),Vs.include({bindPopup:function(f,_){return this._popup=this._initOverlay(Tr,this._popup,f,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof ye||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(this._popup&&this._map){_o(f);var _=f.layer||f.target;if(this._popup._source===_&&!(_ instanceof na))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng));this._popup._source=_,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){13===f.originalEvent.keyCode&&this._openPopup(f)}});var Wo=Bo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){Bo.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){Bo.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=Bo.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){this._contentNode=this._container=Vn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+rt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var _,w,C=this._map,N=this._container,W=C.latLngToContainerPoint(C.getCenter()),_t=C.layerPointToContainerPoint(f),zt=this.options.direction,Yt=N.offsetWidth,se=N.offsetHeight,ce=gt(this.options.offset),Ze=this._getAnchor();"top"===zt?(_=Yt/2,w=se):"bottom"===zt?(_=Yt/2,w=0):"center"===zt?(_=Yt/2,w=se/2):"right"===zt?(_=0,w=se/2):"left"===zt?(_=Yt,w=se/2):_t.x<W.x?(zt="right",_=0,w=se/2):(zt="left",_=Yt+2*(ce.x+Ze.x),w=se/2),f=f.subtract(gt(_,w,!0)).add(ce).add(Ze),Pe(N,"leaflet-tooltip-right"),Pe(N,"leaflet-tooltip-left"),Pe(N,"leaflet-tooltip-top"),Pe(N,"leaflet-tooltip-bottom"),_e(N,"leaflet-tooltip-"+zt),mi(N,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Ve(this._container,f)},_animateZoom:function(f){var _=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(_)},_getAnchor:function(){return gt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});rn.include({openTooltip:function(f,_,w){return this._initOverlay(Wo,f,_,w).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Vs.include({bindTooltip:function(f,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,f,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(f||!this._tooltipHandlersAdded){var _=f?"off":"on",w={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?w.add=this._openTooltip:(w.mouseover=this._openTooltip,w.mouseout=this.closeTooltip,w.click=this._openTooltip,this._map?this._addFocusListeners():w.add=this._addFocusListeners),this._tooltip.options.sticky&&(w.mousemove=this._moveTooltip),this[_](w),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof ye||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var _="function"==typeof f.getElement&&f.getElement();_&&(Ke(_,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),Ke(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var _="function"==typeof f.getElement&&f.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;return void this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(f)})}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var w,C,_=f.latlng;this._tooltip.options.sticky&&f.originalEvent&&(w=this._map.mouseEventToContainerPoint(f.originalEvent),C=this._map.containerPointToLayerPoint(w),_=this._map.layerPointToLatLng(C)),this._tooltip.setLatLng(_)}});var fc=fe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var _=f&&"DIV"===f.tagName?f:document.createElement("div"),w=this.options;if(w.html instanceof Element?(Tl(_),_.appendChild(w.html)):_.innerHTML=!1!==w.html?w.html:"",w.bgPos){var C=gt(w.bgPos);_.style.backgroundPosition=-C.x+"px "+-C.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});fe.Default=cs;var Cs=Vs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ge.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){Rt(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),ln(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ro(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=xt(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof vt?f:new vt(f,f)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var W,_=this.getPane().children,w=-f(-1/0,1/0),C=0,N=_.length;C<N;C++)W=_[C].style.zIndex,_[C]!==this._container&&W&&(w=f(w,+W));isFinite(w)&&(this.options.zIndex=w+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ge.ielt9){Ve(this._container,this.options.opacity);var f=+new Date,_=!1,w=!1;for(var C in this._tiles){var N=this._tiles[C];if(N.current&&N.loaded){var W=Math.min(1,(f-N.loaded)/200);Ve(N.el,W),W<1?_=!0:(N.active?w=!0:this._onOpaqueTile(N),N.active=!0)}}w&&!this._noPrune&&this._pruneTiles(),_&&(dt(this._fadeFrame),this._fadeFrame=It(this._updateOpacity,this))}},_onOpaqueTile:At,_initContainer:function(){this._container||(this._container=Vn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,_=this.options.maxZoom;if(void 0!==f){for(var w in this._levels)w=Number(w),this._levels[w].el.children.length||w===f?(this._levels[w].el.style.zIndex=_-Math.abs(f-w),this._onUpdateLevel(w)):(ln(this._levels[w].el),this._removeTilesAtZoom(w),this._onRemoveLevel(w),delete this._levels[w]);var C=this._levels[f],N=this._map;return C||((C=this._levels[f]={}).el=Vn("div","leaflet-tile-container leaflet-zoom-animated",this._container),C.el.style.zIndex=_,C.origin=N.project(N.unproject(N.getPixelOrigin()),f).round(),C.zoom=f,this._setZoomTransform(C,N.getCenter(),N.getZoom()),this._onCreateLevel(C)),this._level=C,C}},_onUpdateLevel:At,_onRemoveLevel:At,_onCreateLevel:At,_pruneTiles:function(){if(this._map){var f,_,w=this._map.getZoom();if(w>this.options.maxZoom||w<this.options.minZoom)return void this._removeAllTiles();for(f in this._tiles)(_=this._tiles[f]).retain=_.current;for(f in this._tiles)if((_=this._tiles[f]).current&&!_.active){var C=_.coords;this._retainParent(C.x,C.y,C.z,C.z-5)||this._retainChildren(C.x,C.y,C.z,C.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var _ in this._tiles)this._tiles[_].coords.z===f&&this._removeTile(_)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)ln(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,_,w,C){var N=Math.floor(f/2),W=Math.floor(_/2),_t=w-1,zt=new vt(+N,+W);zt.z=+_t;var Yt=this._tileCoordsToKey(zt),se=this._tiles[Yt];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),_t>C&&this._retainParent(N,W,_t,C))},_retainChildren:function(f,_,w,C){for(var N=2*f;N<2*f+2;N++)for(var W=2*_;W<2*_+2;W++){var _t=new vt(N,W);_t.z=w+1;var zt=this._tileCoordsToKey(_t),Yt=this._tiles[zt];Yt&&Yt.active?Yt.retain=!0:(Yt&&Yt.loaded&&(Yt.retain=!0),w+1<C&&this._retainChildren(N,W,w+1,C))}},_resetView:function(f){var _=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var _=this.options;return void 0!==_.minNativeZoom&&f<_.minNativeZoom?_.minNativeZoom:void 0!==_.maxNativeZoom&&_.maxNativeZoom<f?_.maxNativeZoom:f},_setView:function(f,_,w,C){var N=Math.round(_);N=void 0!==this.options.maxZoom&&N>this.options.maxZoom||void 0!==this.options.minZoom&&N<this.options.minZoom?void 0:this._clampZoom(N),(!C||this.options.updateWhenZooming&&N!==this._tileZoom)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==N&&this._update(f),w||this._pruneTiles(),this._noPrune=!!w),this._setZoomTransforms(f,_)},_setZoomTransforms:function(f,_){for(var w in this._levels)this._setZoomTransform(this._levels[w],f,_)},_setZoomTransform:function(f,_,w){var C=this._map.getZoomScale(w,f.zoom),N=f.origin.multiplyBy(C).subtract(this._map._getNewPixelOrigin(_,w)).round();Ge.any3d?Pn(f.el,N,C):mi(f.el,N)},_resetGrid:function(){var f=this._map,_=f.options.crs,w=this._tileSize=this.getTileSize(),C=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,_.wrapLng[0]],C).x/w.x),Math.ceil(f.project([0,_.wrapLng[1]],C).x/w.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([_.wrapLat[0],0],C).y/w.x),Math.ceil(f.project([_.wrapLat[1],0],C).y/w.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var _=this._map,w=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),C=_.getZoomScale(w,this._tileZoom),N=_.project(f,this._tileZoom).floor(),W=_.getSize().divideBy(2*C);return new Ct(N.subtract(W),N.add(W))},_update:function(f){var _=this._map;if(_){var w=this._clampZoom(_.getZoom());if(void 0===f&&(f=_.getCenter()),void 0!==this._tileZoom){var C=this._getTiledPixelBounds(f),N=this._pxBoundsToTileRange(C),W=N.getCenter(),_t=[],zt=this.options.keepBuffer,Yt=new Ct(N.getBottomLeft().subtract([zt,-zt]),N.getTopRight().add([zt,-zt]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ce=this._tiles[se].coords;(ce.z!==this._tileZoom||!Yt.contains(new vt(ce.x,ce.y)))&&(this._tiles[se].current=!1)}if(Math.abs(w-this._tileZoom)>1)return void this._setView(f,w);for(var Ze=N.min.y;Ze<=N.max.y;Ze++)for(var cn=N.min.x;cn<=N.max.x;cn++){var ir=new vt(cn,Ze);if(ir.z=this._tileZoom,this._isValidTile(ir)){var Yi=this._tiles[this._tileCoordsToKey(ir)];Yi?Yi.current=!0:_t.push(ir)}}if(_t.sort(function(cr,co){return cr.distanceTo(W)-co.distanceTo(W)}),0!==_t.length){this._loading||(this._loading=!0,this.fire("loading"));var eo=document.createDocumentFragment();for(cn=0;cn<_t.length;cn++)this._addTile(_t[cn],eo);this._level.el.appendChild(eo)}}}},_isValidTile:function(f){var _=this._map.options.crs;if(!_.infinite){var w=this._globalTileRange;if(!_.wrapLng&&(f.x<w.min.x||f.x>w.max.x)||!_.wrapLat&&(f.y<w.min.y||f.y>w.max.y))return!1}if(!this.options.bounds)return!0;var C=this._tileCoordsToBounds(f);return V(this.options.bounds).overlaps(C)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var _=this._map,w=this.getTileSize(),C=f.scaleBy(w),N=C.add(w);return[_.unproject(C,f.z),_.unproject(N,f.z)]},_tileCoordsToBounds:function(f){var _=this._tileCoordsToNwSe(f),w=new Et(_[0],_[1]);return this.options.noWrap||(w=this._map.wrapLatLngBounds(w)),w},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var _=f.split(":"),w=new vt(+_[0],+_[1]);return w.z=+_[2],w},_removeTile:function(f){var _=this._tiles[f];_&&(ln(_.el),delete this._tiles[f],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){_e(f,"leaflet-tile");var _=this.getTileSize();f.style.width=_.x+"px",f.style.height=_.y+"px",f.onselectstart=At,f.onmousemove=At,Ge.ielt9&&this.options.opacity<1&&Ve(f,this.options.opacity)},_addTile:function(f,_){var w=this._getTilePos(f),C=this._tileCoordsToKey(f),N=this.createTile(this._wrapCoords(f),ft(this._tileReady,this,f));this._initTile(N),this.createTile.length<2&&It(ft(this._tileReady,this,f,null,N)),mi(N,w),this._tiles[C]={el:N,coords:f,current:!0},_.appendChild(N),this.fire("tileloadstart",{tile:N,coords:f})},_tileReady:function(f,_,w){_&&this.fire("tileerror",{error:_,tile:w,coords:f});var C=this._tileCoordsToKey(f);(w=this._tiles[C])&&(w.loaded=+new Date,this._map._fadeAnimated?(Ve(w.el,0),dt(this._fadeFrame),this._fadeFrame=It(this._updateOpacity,this)):(w.active=!0,this._pruneTiles()),_||(_e(w.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:w.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ge.ielt9||!this._map._fadeAnimated?It(this._pruneTiles,this):setTimeout(ft(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var _=new vt(this._wrapX?Mt(f.x,this._wrapX):f.x,this._wrapY?Mt(f.y,this._wrapY):f.y);return _.z=f.z,_},_pxBoundsToTileRange:function(f){var _=this.getTileSize();return new Ct(f.min.unscaleBy(_).floor(),f.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});var fu=Cs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,_){this._url=f,(_=Rt(this,_)).detectRetina&&Ge.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),"string"==typeof _.subdomains&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,_){return this._url===f&&void 0===_&&(_=!0),this._url=f,_||this.redraw(),this},createTile:function(f,_){var w=document.createElement("img");return Ke(w,"load",ft(this._tileOnLoad,this,_,w)),Ke(w,"error",ft(this._tileOnError,this,_,w)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(w.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(w.referrerPolicy=this.options.referrerPolicy),w.alt="",w.src=this.getTileUrl(f),w},getTileUrl:function(f){var _={r:Ge.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var w=this._globalTileRange.max.y-f.y;this.options.tms&&(_.y=w),_["-y"]=w}return ot(this._url,tt(_,this.options))},_tileOnLoad:function(f,_){Ge.ielt9?setTimeout(ft(f,this,null,_),0):f(null,_)},_tileOnError:function(f,_,w){var C=this.options.errorTileUrl;C&&_.getAttribute("src")!==C&&(_.src=C),f(w,_)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom;return this.options.zoomReverse&&(f=this.options.maxZoom-f),f+this.options.zoomOffset},_getSubdomain:function(f){var _=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var f,_;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&((_=this._tiles[f].el).onload=At,_.onerror=At,!_.complete)){_.src=j;var w=this._tiles[f].coords;ln(_),delete this._tiles[f],this.fire("tileabort",{tile:_,coords:w})}},_removeTile:function(f){var _=this._tiles[f];if(_)return _.el.setAttribute("src",j),Cs.prototype._removeTile.call(this,f)},_tileReady:function(f,_,w){if(this._map&&(!w||w.getAttribute("src")!==j))return Cs.prototype._tileReady.call(this,f,_,w)}});function $r(f,_){return new fu(f,_)}var dc=fu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,_){this._url=f;var w=tt({},this.defaultWmsParams);for(var C in _)C in this.options||(w[C]=_[C]);var N=(_=Rt(this,_)).detectRetina&&Ge.retina?2:1,W=this.getTileSize();w.width=W.x*N,w.height=W.y*N,this.wmsParams=w},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,fu.prototype.onAdd.call(this,f)},getTileUrl:function(f){var _=this._tileCoordsToNwSe(f),w=this._crs,C=nt(w.project(_[0]),w.project(_[1])),N=C.min,W=C.max,_t=(this._wmsVersion>=1.3&&this._crs===Ur?[N.y,N.x,W.y,W.x]:[N.x,N.y,W.x,W.y]).join(","),zt=fu.prototype.getTileUrl.call(this,f);return zt+ie(this.wmsParams,zt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_t},setParams:function(f,_){return tt(this.wmsParams,f),_||this.redraw(),this}});fu.WMS=dc,$r.wms=function Dn(f,_){return new dc(f,_)};var Li=Vs.extend({options:{padding:.1},initialize:function(f){Rt(this,f),rt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,_){var w=this._map.getZoomScale(_,this._zoom),C=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,_),W=C.multiplyBy(-w).add(N).subtract(this._map._getNewPixelOrigin(f,_));Ge.any3d?Pn(this._container,W,w):mi(this._container,W)},_reset:function(){for(var f in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,_=this._map.getSize(),w=this._map.containerPointToLayerPoint(_.multiplyBy(-f)).round();this._bounds=new Ct(w,w.add(_.multiplyBy(1+2*f)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Zo=Li.extend({options:{tolerance:0},getEvents:function(){var f=Li.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Li.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");Ke(f,"mousemove",this._onMouseMove,this),Ke(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){dt(this._redrawRequest),delete this._ctx,ln(this._container),In(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var _ in this._redrawBounds=null,this._layers)this._layers[_]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Li.prototype._update.call(this);var f=this._bounds,_=this._container,w=f.getSize(),C=Ge.retina?2:1;mi(_,f.min),_.width=C*w.x,_.height=C*w.y,_.style.width=w.x+"px",_.style.height=w.y+"px",Ge.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){Li.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[rt(f)]=f;var _=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var _=f._order,w=_.next,C=_.prev;w?w.prev=C:this._drawLast=C,C?C.next=w:this._drawFirst=w,delete f._order,delete this._layers[rt(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if("string"==typeof f.options.dashArray){var C,N,_=f.options.dashArray.split(/[, ]+/),w=[];for(N=0;N<_.length;N++){if(C=Number(_[N]),isNaN(C))return;w.push(C)}f.options._dashArray=w}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||It(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var _=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ct,this._redrawBounds.extend(f._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(f._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var _=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,_=this._redrawBounds;if(this._ctx.save(),_){var w=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,w.x,w.y),this._ctx.clip()}this._drawing=!0;for(var C=this._drawFirst;C;C=C.next)f=C.layer,(!_||f._pxBounds&&f._pxBounds.intersects(_))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,_){if(this._drawing){var w,C,N,W,_t=f._parts,zt=_t.length,Yt=this._ctx;if(zt){for(Yt.beginPath(),w=0;w<zt;w++){for(C=0,N=_t[w].length;C<N;C++)Yt[C?"lineTo":"moveTo"]((W=_t[w][C]).x,W.y);_&&Yt.closePath()}this._fillStroke(Yt,f)}}},_updateCircle:function(f){if(this._drawing&&!f._empty()){var _=f._point,w=this._ctx,C=Math.max(Math.round(f._radius),1),N=(Math.max(Math.round(f._radiusY),1)||C)/C;1!==N&&(w.save(),w.scale(1,N)),w.beginPath(),w.arc(_.x,_.y/N,C,0,2*Math.PI,!1),1!==N&&w.restore(),this._fillStroke(w,f)}},_fillStroke:function(f,_){var w=_.options;w.fill&&(f.globalAlpha=w.fillOpacity,f.fillStyle=w.fillColor||w.color,f.fill(w.fillRule||"evenodd")),w.stroke&&0!==w.weight&&(f.setLineDash&&f.setLineDash(_.options&&_.options._dashArray||[]),f.globalAlpha=w.opacity,f.lineWidth=w.weight,f.strokeStyle=w.color,f.lineCap=w.lineCap,f.lineJoin=w.lineJoin,f.stroke())},_onClick:function(f){for(var w,C,_=this._map.mouseEventToLayerPoint(f),N=this._drawFirst;N;N=N.next)(w=N.layer).options.interactive&&w._containsPoint(_)&&("click"!==f.type&&"preclick"!==f.type||!this._map._draggableMoved(w))&&(C=w);this._fireEvent(!!C&&[C],f)},_onMouseMove:function(f){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var _=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,_)}},_handleMouseOut:function(f){var _=this._hoveredLayer;_&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([_],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,_){if(!this._mouseHoverThrottled){for(var w,C,N=this._drawFirst;N;N=N.next)(w=N.layer).options.interactive&&w._containsPoint(_)&&(C=w);C!==this._hoveredLayer&&(this._handleMouseOut(f),C&&(_e(this._container,"leaflet-interactive"),this._fireEvent([C],f,"mouseover"),this._hoveredLayer=C)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],f),this._mouseHoverThrottled=!0,setTimeout(ft(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,_,w){this._map._fireDOMEvent(_,w||_.type,f)},_bringToFront:function(f){var _=f._order;if(_){var w=_.next,C=_.prev;if(!w)return;w.prev=C,C?C.next=w:w&&(this._drawFirst=w),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(f)}},_bringToBack:function(f){var _=f._order;if(_){var w=_.next,C=_.prev;if(!C)return;C.next=w,w?w.prev=C:C&&(this._drawLast=C),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(f)}}});function pe(f){return Ge.canvas?new Zo(f):null}var wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),pn={_initContainer:function(){this._container=Vn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Li.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var _=f._container=wr("shape");_e(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",f._path=wr("path"),_.appendChild(f._path),this._updateStyle(f),this._layers[rt(f)]=f},_addPath:function(f){var _=f._container;this._container.appendChild(_),f.options.interactive&&f.addInteractiveTarget(_)},_removePath:function(f){var _=f._container;ln(_),f.removeInteractiveTarget(_),delete this._layers[rt(f)]},_updateStyle:function(f){var _=f._stroke,w=f._fill,C=f.options,N=f._container;N.stroked=!!C.stroke,N.filled=!!C.fill,C.stroke?(_||(_=f._stroke=wr("stroke")),N.appendChild(_),_.weight=C.weight+"px",_.color=C.color,_.opacity=C.opacity,_.dashStyle=C.dashArray?B(C.dashArray)?C.dashArray.join(" "):C.dashArray.replace(/( *, *)/g," "):"",_.endcap=C.lineCap.replace("butt","flat"),_.joinstyle=C.lineJoin):_&&(N.removeChild(_),f._stroke=null),C.fill?(w||(w=f._fill=wr("fill")),N.appendChild(w),w.color=C.fillColor||C.color,w.opacity=C.fillOpacity):w&&(N.removeChild(w),f._fill=null)},_updateCircle:function(f){var _=f._point.round(),w=Math.round(f._radius),C=Math.round(f._radiusY||w);this._setPath(f,f._empty()?"M0 0":"AL "+_.x+","+_.y+" "+w+","+C+" 0,23592600")},_setPath:function(f,_){f._path.v=_},_bringToFront:function(f){Ro(f._container)},_bringToBack:function(f){lr(f._container)}},nr=Ge.vml?wr:En,jn=Li.extend({_initContainer:function(){this._container=nr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ln(this._container),In(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Li.prototype._update.call(this);var f=this._bounds,_=f.getSize(),w=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,w.setAttribute("width",_.x),w.setAttribute("height",_.y)),mi(w,f.min),w.setAttribute("viewBox",[f.min.x,f.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(f){var _=f._path=nr("path");f.options.className&&_e(_,f.options.className),f.options.interactive&&_e(_,"leaflet-interactive"),this._updateStyle(f),this._layers[rt(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){ln(f._path),f.removeInteractiveTarget(f._path),delete this._layers[rt(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var _=f._path,w=f.options;_&&(w.stroke?(_.setAttribute("stroke",w.color),_.setAttribute("stroke-opacity",w.opacity),_.setAttribute("stroke-width",w.weight),_.setAttribute("stroke-linecap",w.lineCap),_.setAttribute("stroke-linejoin",w.lineJoin),w.dashArray?_.setAttribute("stroke-dasharray",w.dashArray):_.removeAttribute("stroke-dasharray"),w.dashOffset?_.setAttribute("stroke-dashoffset",w.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),w.fill?(_.setAttribute("fill",w.fillColor||w.color),_.setAttribute("fill-opacity",w.fillOpacity),_.setAttribute("fill-rule",w.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(f,_){this._setPath(f,Be(f._parts,_))},_updateCircle:function(f){var _=f._point,w=Math.max(Math.round(f._radius),1),N="a"+w+","+(Math.max(Math.round(f._radiusY),1)||w)+" 0 1,0 ",W=f._empty()?"M0 0":"M"+(_.x-w)+","+_.y+N+2*w+",0 "+N+2*-w+",0 ";this._setPath(f,W)},_setPath:function(f,_){f._path.setAttribute("d",_)},_bringToFront:function(f){Ro(f._path)},_bringToBack:function(f){lr(f._path)}});function Io(f){return Ge.svg||Ge.vml?new jn(f):null}Ge.vml&&jn.include(pn),rn.include({getRenderer:function(f){var _=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(f){if("overlayPane"===f||void 0===f)return!1;var _=this._paneRenderers[f];return void 0===_&&(_=this._createRenderer({pane:f}),this._paneRenderers[f]=_),_},_createRenderer:function(f){return this.options.preferCanvas&&pe(f)||Io(f)}});var An=js.extend({initialize:function(f,_){js.prototype.initialize.call(this,this._boundsToLatLngs(f),_)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return[(f=V(f)).getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});jn.create=nr,jn.pointsToPath=Be,ra.geometryToLayer=Es,ra.coordsToLatLng=hs,ra.coordsToLatLngs=br,ra.latLngToCoords=ya,ra.latLngsToCoords=Rr,ra.getFeature=Mo,ra.asFeature=qo,rn.mergeOptions({boxZoom:!0});var pc=Te.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){In(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ln(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||1!==f.which&&1!==f.button)return!1;this._clearDeferredResetState(),this._resetState(),Ba(),Lo(),this._startPoint=this._map.mouseEventToContainerPoint(f),Ke(document,{contextmenu:_o,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=Vn("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var _=new Ct(this._point,this._startPoint),w=_.getSize();mi(this._box,_.min),this._box.style.width=w.x+"px",this._box.style.height=w.y+"px"},_finish:function(){this._moved&&(ln(this._box),Pe(this._container,"leaflet-crosshair")),Ku(),as(),In(document,{contextmenu:_o,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if((1===f.which||1===f.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ft(this._resetState,this),0);var _=new Et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(f){27===f.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",pc),rn.mergeOptions({doubleClickZoom:!0});var Lr=Te.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var _=this._map,w=_.getZoom(),C=_.options.zoomDelta,N=f.originalEvent.shiftKey?w-C:w+C;"center"===_.options.doubleClickZoom?_.setZoom(N):_.setZoomAround(f.containerPoint,N)}});rn.addInitHook("addHandler","doubleClickZoom",Lr),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wa=Te.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new vr(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=V(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var _=this._lastTime=+new Date,w=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(w),this._times.push(_),this._prunePositions(_)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,_){return f-(f-_)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var f=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;f.x<_.min.x&&(f.x=this._viscousLimit(f.x,_.min.x)),f.y<_.min.y&&(f.y=this._viscousLimit(f.y,_.min.y)),f.x>_.max.x&&(f.x=this._viscousLimit(f.x,_.max.x)),f.y>_.max.y&&(f.y=this._viscousLimit(f.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,_=Math.round(f/2),w=this._initialWorldOffset,C=this._draggable._newPos.x,N=(C-_+w)%f+_-w,W=(C+_+w)%f-_-w,_t=Math.abs(N+w)<Math.abs(W+w)?N:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_t},_onDragEnd:function(f){var _=this._map,w=_.options,C=!w.inertia||f.noInertia||this._times.length<2;if(_.fire("dragend",f),C)_.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),_t=w.easeLinearity,zt=N.multiplyBy(_t/((this._lastTime-this._times[0])/1e3)),Yt=zt.distanceTo([0,0]),se=Math.min(w.inertiaMaxSpeed,Yt),ce=zt.multiplyBy(se/Yt),Ze=se/(w.inertiaDeceleration*_t),cn=ce.multiplyBy(-Ze/2).round();cn.x||cn.y?(cn=_._limitOffset(cn,_.options.maxBounds),It(function(){_.panBy(cn,{duration:Ze,easeLinearity:_t,noMoveStart:!0,animate:!0})})):_.fire("moveend")}}});rn.addInitHook("addHandler","dragging",wa),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gc=Te.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),Ke(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),In(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,_=document.documentElement,w=f.scrollTop||_.scrollTop,C=f.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(C,w)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var C,N,_=this._panKeys={},w=this.keyCodes;for(C=0,N=w.left.length;C<N;C++)_[w.left[C]]=[-1*f,0];for(C=0,N=w.right.length;C<N;C++)_[w.right[C]]=[f,0];for(C=0,N=w.down.length;C<N;C++)_[w.down[C]]=[0,f];for(C=0,N=w.up.length;C<N;C++)_[w.up[C]]=[0,-1*f]},_setZoomDelta:function(f){var C,N,_=this._zoomKeys={},w=this.keyCodes;for(C=0,N=w.zoomIn.length;C<N;C++)_[w.zoomIn[C]]=f;for(C=0,N=w.zoomOut.length;C<N;C++)_[w.zoomOut[C]]=-f},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){In(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var C,_=f.keyCode,w=this._map;if(_ in this._panKeys){if(!w._panAnim||!w._panAnim._inProgress)if(C=this._panKeys[_],f.shiftKey&&(C=gt(C).multiplyBy(3)),w.options.maxBounds&&(C=w._limitOffset(gt(C),w.options.maxBounds)),w.options.worldCopyJump){var N=w.wrapLatLng(w.unproject(w.project(w.getCenter()).add(C)));w.panTo(N)}else w.panBy(C)}else if(_ in this._zoomKeys)w.setZoom(w.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[_]);else{if(27!==_||!w._popup||!w._popup.options.closeOnEscapeKey)return;w.closePopup()}_o(f)}}});rn.addInitHook("addHandler","keyboard",gc),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ki=Te.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){In(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var _=Mr(f),w=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var C=Math.max(w-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(ft(this._performZoom,this),C),_o(f)},_performZoom:function(){var f=this._map,_=f.getZoom(),w=this._map.options.zoomSnap||0;f._stop();var N=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,W=w?Math.ceil(N/w)*w:N,_t=f._limitZoom(_+(this._delta>0?W:-W))-_;this._delta=0,this._startTime=null,_t&&("center"===f.options.scrollWheelZoom?f.setZoom(_+_t):f.setZoomAround(this._lastMousePos,_+_t))}});rn.addInitHook("addHandler","scrollWheelZoom",ki);rn.mergeOptions({tapHold:Ge.touchNative&&Ge.safari&&Ge.mobile,tapTolerance:15});var ze=Te.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){In(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),1===f.touches.length){var _=f.touches[0];this._startPos=this._newPos=new vt(_.clientX,_.clientY),this._holdTimeout=setTimeout(ft(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",Hr),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),600),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){In(document,"touchend",Hr),In(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),In(document,"touchend touchcancel contextmenu",this._cancel,this),In(document,"touchmove",this._onMove,this)},_onMove:function(f){var _=f.touches[0];this._newPos=new vt(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,_){var w=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});w._simulated=!0,_.target.dispatchEvent(w)}});rn.addInitHook("addHandler","tapHold",ze),rn.mergeOptions({touchZoom:Ge.touch,bounceAtZoomLimits:!0});var wn=Te.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),In(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var _=this._map;if(f.touches&&2===f.touches.length&&!_._animatingZoom&&!this._zooming){var w=_.mouseEventToContainerPoint(f.touches[0]),C=_.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),"center"!==_.options.touchZoom&&(this._pinchStartLatLng=_.containerPointToLatLng(w.add(C)._divideBy(2))),this._startDist=w.distanceTo(C),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),Hr(f)}},_onTouchMove:function(f){if(f.touches&&2===f.touches.length&&this._zooming){var _=this._map,w=_.mouseEventToContainerPoint(f.touches[0]),C=_.mouseEventToContainerPoint(f.touches[1]),N=w.distanceTo(C)/this._startDist;if(this._zoom=_.getScaleZoom(N,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&N<1||this._zoom>_.getMaxZoom()&&N>1)&&(this._zoom=_._limitZoom(this._zoom)),"center"===_.options.touchZoom){if(this._center=this._startLatLng,1===N)return}else{var W=w._add(C)._divideBy(2)._subtract(this._centerPoint);if(1===N&&0===W.x&&0===W.y)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),dt(this._animRequest);var _t=ft(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=It(_t,this,!0),Hr(f)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,dt(this._animRequest),In(document,"touchmove",this._onTouchMove,this),In(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",wn),rn.BoxZoom=pc,rn.DoubleClickZoom=Lr,rn.Drag=wa,rn.Keyboard=gc,rn.ScrollWheelZoom=ki,rn.TapHold=ze,rn.TouchZoom=wn,$.Bounds=Ct,$.Browser=Ge,$.CRS=Bt,$.Canvas=Zo,$.Circle=yr,$.CircleMarker=Ri,$.Class=K,$.Control=we,$.DivIcon=fc,$.DivOverlay=Bo,$.DomEvent=$e,$.DomUtil=Nd,$.Draggable=vr,$.Evented=lt,$.FeatureGroup=ye,$.GeoJSON=ra,$.GridLayer=Cs,$.Handler=Te,$.Icon=fe,$.ImageOverlay=fs,$.LatLng=Ot,$.LatLngBounds=Et,$.Layer=Vs,$.LayerGroup=Gr,$.LineUtil=Tn,$.Map=rn,$.Marker=Ir,$.Mixin=On,$.Path=na,$.Point=vt,$.PolyUtil=ji,$.Polygon=js,$.Polyline=Je,$.Popup=Tr,$.PosAnimation=_r,$.Projection=ea,$.Rectangle=An,$.Renderer=Li,$.SVG=jn,$.SVGOverlay=Yc,$.TileLayer=fu,$.Tooltip=Wo,$.Transformation=ve,$.Util=bt,$.VideoOverlay=ds,$.bind=ft,$.bounds=nt,$.canvas=pe,$.circle=function ia(f,_,w){return new yr(f,_,w)},$.circleMarker=function zs(f,_){return new Ri(f,_)},$.control=za,$.divIcon=function Au(f){return new fc(f)},$.extend=tt,$.featureGroup=function(f,_){return new ye(f,_)},$.geoJSON=Ua,$.geoJson=Ga,$.gridLayer=function Gi(f){return new Cs(f)},$.icon=function ls(f){return new fe(f)},$.imageOverlay=function(f,_,w){return new fs(f,_,w)},$.latLng=ut,$.latLngBounds=V,$.layerGroup=function(f,_){return new Gr(f,_)},$.map=function Wc(f,_){return new rn(f,_)},$.marker=function qh(f,_){return new Ir(f,_)},$.point=gt,$.polygon=function hu(f,_){return new js(f,_)},$.polyline=function Al(f,_){return new Je(f,_)},$.popup=function(f,_){return new Tr(f,_)},$.rectangle=function Zc(f,_){return new An(f,_)},$.setOptions=Rt,$.stamp=rt,$.svg=Io,$.svgOverlay=function ba(f,_,w){return new Yc(f,_,w)},$.tileLayer=$r,$.tooltip=function(f,_){return new Wo(f,_)},$.transformation=ne,$.version="1.9.4",$.videoOverlay=function Ui(f,_,w){return new ds(f,_,w)};var Xo=window.L;$.noConflict=function(){return window.L=Xo,this},window.L=$}(Pt)},4772:te=>{"use strict";var Pt=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;te.exports=function yt(){try{if(!Object.assign)return!1;var ft=new String("abc");if(ft[5]="de","5"===Object.getOwnPropertyNames(ft)[0])return!1;for(var wt={},rt=0;rt<10;rt++)wt["_"+String.fromCharCode(rt)]=rt;if("0123456789"!==Object.getOwnPropertyNames(wt).map(function(At){return wt[At]}).join(""))return!1;var Mt={};return"abcdefghijklmnopqrst".split("").forEach(function(At){Mt[At]=At}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Mt)).join("")}catch{return!1}}()?Object.assign:function(ft,wt){for(var rt,Mt,xt=function tt(ft){if(null==ft)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ft)}(ft),At=1;At<arguments.length;At++){for(var Gt in rt=Object(arguments[At]))$.call(rt,Gt)&&(xt[Gt]=rt[Gt]);if(Pt){Mt=Pt(rt);for(var Ft=0;Ft<Mt.length;Ft++)J.call(rt,Mt[Ft])&&(xt[Mt[Ft]]=rt[Mt[Ft]])}}return xt}},4246:te=>{"use strict";var Pt=function($){return $!=$};te.exports=function(J,tt){return 0===J&&0===tt?1/J==1/tt:!!(J===tt||Pt(J)&&Pt(tt))}},314:(te,Pt,$)=>{"use strict";var J=$(1648),tt=$(5436),yt=$(4246),ft=$(1353),wt=$(3090),rt=tt(ft(),Object);J(rt,{getPolyfill:ft,implementation:yt,shim:wt}),te.exports=rt},1353:(te,Pt,$)=>{"use strict";var J=$(4246);te.exports=function(){return"function"==typeof Object.is?Object.is:J}},3090:(te,Pt,$)=>{"use strict";var J=$(1353),tt=$(1648);te.exports=function(){var ft=J();return tt(Object,{is:ft},{is:function(){return Object.is!==ft}}),ft}},7972:(te,Pt,$)=>{"use strict";var J;if(!Object.keys){var tt=Object.prototype.hasOwnProperty,yt=Object.prototype.toString,ft=$(9637),wt=Object.prototype.propertyIsEnumerable,rt=!wt.call({toString:null},"toString"),xt=wt.call(function(){},"prototype"),Mt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],At=function(Rt){var ie=Rt.constructor;return ie&&ie.prototype===Rt},Gt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ft=function(){if(typeof window>"u")return!1;for(var Rt in window)try{if(!Gt["$"+Rt]&&tt.call(window,Rt)&&null!==window[Rt]&&"object"==typeof window[Rt])try{At(window[Rt])}catch{return!0}}catch{return!0}return!1}();J=function(ie){var H=null!==ie&&"object"==typeof ie,ot="[object Function]"===yt.call(ie),B=ft(ie),Y=H&&"[object String]"===yt.call(ie),j=[];if(!H&&!ot&&!B)throw new TypeError("Object.keys called on a non-object");var ht=xt&&ot;if(Y&&ie.length>0&&!tt.call(ie,0))for(var G=0;G<ie.length;++G)j.push(String(G));if(B&&ie.length>0)for(var Z=0;Z<ie.length;++Z)j.push(String(Z));else for(var et in ie)(!ht||"prototype"!==et)&&tt.call(ie,et)&&j.push(String(et));if(rt)for(var k=function(Rt){if(typeof window>"u"||!Ft)return At(Rt);try{return At(Rt)}catch{return!1}}(ie),It=0;It<Mt.length;++It)(!k||"constructor"!==Mt[It])&&tt.call(ie,Mt[It])&&j.push(Mt[It]);return j}}te.exports=J},7809:(te,Pt,$)=>{"use strict";var J=Array.prototype.slice,tt=$(9637),yt=Object.keys,ft=yt?function(xt){return yt(xt)}:$(7972),wt=Object.keys;ft.shim=function(){if(Object.keys){var xt=function(){var Mt=Object.keys(arguments);return Mt&&Mt.length===arguments.length}(1,2);xt||(Object.keys=function(At){return tt(At)?wt(J.call(At)):wt(At)})}else Object.keys=ft;return Object.keys||ft},te.exports=ft},9637:te=>{"use strict";var Pt=Object.prototype.toString;te.exports=function(J){var tt=Pt.call(J),yt="[object Arguments]"===tt;return yt||(yt="[object Array]"!==tt&&null!==J&&"object"==typeof J&&"number"==typeof J.length&&J.length>=0&&"[object Function]"===Pt.call(J.callee)),yt}},50:function(te){te.exports=function(){"use strict";var J="round",yt=(function(){function Et(Ot){this.value=Ot}function V(Ot){var ut,Bt;function Kt(ve,ne){try{var vn=Ot[ve](ne),yn=vn.value;yn instanceof Et?Promise.resolve(yn.value).then(function(En){Kt("next",En)},function(En){Kt("throw",En)}):jt(vn.done?"return":"normal",vn.value)}catch(En){jt("throw",En)}}function jt(ve,ne){switch(ve){case"return":ut.resolve({value:ne,done:!0});break;case"throw":ut.reject(ne);break;default:ut.resolve({value:ne,done:!1})}(ut=ut.next)?Kt(ut.key,ut.arg):Bt=null}this._invoke=function Wt(ve,ne){return new Promise(function(vn,yn){var En={key:ve,arg:ne,resolve:vn,reject:yn,next:null};Bt?Bt=Bt.next=En:(ut=Bt=En,Kt(ve,ne))})},"function"!=typeof Ot.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(V.prototype[Symbol.asyncIterator]=function(){return this}),V.prototype.next=function(Ot){return this._invoke("next",Ot)},V.prototype.throw=function(Ot){return this._invoke("throw",Ot)},V.prototype.return=function(Ot){return this._invoke("return",Ot)}}(),function(Et,V){if(!(Et instanceof V))throw new TypeError("Cannot call a class as a function")}),ft=function(){function Et(V,Ot){for(var ut=0;ut<Ot.length;ut++){var Bt=Ot[ut];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(V,Bt.key,Bt)}}return function(V,Ot,ut){return Ot&&Et(V.prototype,Ot),ut&&Et(V,ut),V}}(),wt=Object.assign||function(Et){for(var V=1;V<arguments.length;V++){var Ot=arguments[V];for(var ut in Ot)Object.prototype.hasOwnProperty.call(Ot,ut)&&(Et[ut]=Ot[ut])}return Et},rt=function(Et,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function, not "+typeof V);Et.prototype=Object.create(V&&V.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(Et,V):Et.__proto__=V)},xt=function(Et,V){if(!Et)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?Et:V},Mt=function(){function Et(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,Ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(100, 100, 100, 0.7)",ut=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 0.8)";return yt(this,Et),this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=V,this._canvas.height=V,this._context.fillStyle=Ot,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._size=V,this._patternColor=ut,this}return ft(Et,[{key:"setStrokeProps",value:function(){this._context.strokeStyle=this._patternColor,this._context.lineWidth=this._size/10,this._context.lineJoin=J,this._context.lineCap=J}},{key:"setFillProps",value:function(){this._context.fillStyle=this._patternColor}}]),Et}(),At=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawPlus(),this.drawPlus(ut,ut),this._context.stroke(),this._canvas}},{key:"drawPlus",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=this._size,Kt=Wt/2,jt=Wt/4;this._context.moveTo(jt+ut,0+Bt),this._context.lineTo(jt+ut,Kt+Bt),this._context.moveTo(0+ut,jt+Bt),this._context.lineTo(Kt+ut,jt+Bt),this._context.closePath()}}]),V}(Mt),Gt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawCross(),this.drawCross(ut,ut),this._context.stroke(),this._canvas}},{key:"drawCross",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Kt=this._size/2;this._context.moveTo(ut+2,Bt+2),this._context.lineTo(Kt-2+ut,Kt-2+Bt),this._context.moveTo(ut+2,Kt-2+Bt),this._context.lineTo(Kt-2+ut,Bt+2),this._context.closePath()}}]),V}(Mt),Ft=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDash(),this.drawDash(ut,ut),this._context.stroke(),this._canvas}},{key:"drawDash",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Kt=this._size/2;this._context.moveTo(ut+2,Bt+2),this._context.lineTo(Kt-2+ut,Kt-2+Bt),this._context.closePath()}}]),V}(Mt),Nt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new Gt).drawCross.call(this),(new Ft).drawDash.call(this,ut,ut),this._context.stroke(),this._canvas}}]),V}(Mt),Rt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDot(),this.drawDot(ut,ut),this._context.fill(),this._canvas}},{key:"drawDot",value:function(){var Wt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._size/10,jt=this._size/4,ve=jt+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),ne=jt+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);this._context.moveTo(ve+jt,ne),this._context.arc(ve,ne,Wt,0,2*Math.PI),this._context.closePath()}}]),V}(Mt),ie=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new Ft).drawDash.call(this,ut,ut),this._context.closePath(),this._context.stroke(),this.setFillProps(),(new Rt).drawDot.call(this),this._context.fill(),this._canvas}}]),V}(Mt),H=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2,Bt=this._size/5;return this._context.beginPath(),this.setFillProps(),this.drawDot(0,0,Bt),this.drawDot(ut,ut,Bt),this._context.fill(),this._canvas}}]),V}(Rt),ot=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2,Bt=this._size/5;return this._context.beginPath(),this.setStrokeProps(),this.drawDot(0,0,Bt),this.drawDot(ut,ut,Bt),this._context.stroke(),this._canvas}}]),V}(Rt),B=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawLine(),this.drawLine(ut,ut),this._context.stroke(),this._canvas}},{key:"drawLine",value:function(){var Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Kt=this._size/4;this._context.moveTo(0,Kt+Bt),this._context.lineTo(this._size,Kt+Bt),this._context.closePath()}}]),V}(Mt),Y=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),B.prototype.drawTile.call(this),this._canvas}}]),V}(B),j=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawWeave(0,0),this._context.stroke(),this._canvas}},{key:"drawWeave",value:function(ut,Bt){var Wt=this._size,Kt=Wt/2;this._context.moveTo(ut+1,Bt+1),this._context.lineTo(Kt-1,Kt-1),this._context.moveTo(Kt+1,Wt-1),this._context.lineTo(Wt-1,Kt+1),this._context.closePath()}}]),V}(Mt),ht=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawZigzag(),this.drawZigzag(this._size/2),this._context.stroke(),this._canvas}},{key:"drawZigzag",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=this._size,Wt=Bt/4,Kt=Bt/2,jt=Bt/10;this._context.moveTo(0,jt+ut),this._context.lineTo(Wt,Kt-jt+ut),this._context.lineTo(Kt,jt+ut),this._context.lineTo(Bt-Wt,Kt-jt+ut),this._context.lineTo(Bt,jt+ut)}}]),V}(Mt),G=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),ht.prototype.drawTile.call(this),this._canvas}}]),V}(ht),Z=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiagonalLine(),this.drawDiagonalLine(ut,ut),this._context.stroke(),this._canvas}},{key:"drawDiagonalLine",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=this._size,Kt=Wt/2;this._context.moveTo(Kt-1-ut,-1+Bt),this._context.lineTo(Wt+1-ut,Kt+1+Bt),this._context.closePath()}}]),V}(Mt),et=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),Z.prototype.drawTile.call(this),this._canvas}}]),V}(Z),k=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawSquare(),this.drawSquare(ut,ut),this._context.fill(),this._canvas}},{key:"drawSquare",value:function(){var Wt=this._size,Kt=Wt/2,jt=Wt/20;this._context.fillRect((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+jt,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+jt,Kt-2*jt,Kt-2*jt),this._context.closePath()}}]),V}(Mt),It=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawBox(),this.drawBox(ut,ut),this._context.stroke(),this._canvas}},{key:"drawBox",value:function(){var Wt=this._size,Kt=Wt/2,jt=Wt/20;this._context.strokeRect((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+jt,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+jt,Kt-4*jt,Kt-4*jt),this._context.closePath()}}]),V}(Mt),dt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawTriangle(),this.drawTriangle(ut,ut),this._context.fill(),this._canvas}},{key:"drawTriangle",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=this._size,Kt=Wt/2;this._context.moveTo(Wt/4+ut,Bt),this._context.lineTo(Kt+ut,Kt+Bt),this._context.lineTo(ut,Kt+Bt),this._context.closePath()}}]),V}(Mt),bt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size;return this._context.translate(ut,ut),this._context.rotate(180*Math.PI/180),dt.prototype.drawTile.call(this),this._canvas}}]),V}(dt),K=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDiamond(),this.drawDiamond(ut,ut),this._context.fill(),this._canvas}},{key:"drawDiamond",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=this._size,Kt=Wt/2,jt=Wt/4;this._context.moveTo(jt+ut,Bt),this._context.lineTo(Kt+ut,jt+Bt),this._context.lineTo(jt+ut,Kt+Bt),this._context.lineTo(ut,jt+Bt),this._context.closePath()}}]),V}(Mt),Jt=function(Et){function V(){return yt(this,V),xt(this,(V.__proto__||Object.getPrototypeOf(V)).apply(this,arguments))}return rt(V,Et),ft(V,[{key:"drawTile",value:function(){var ut=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiamond(),this.drawDiamond(ut,ut),this._context.stroke(),this._canvas}},{key:"drawDiamond",value:function(){var ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Wt=this._size,Kt=Wt/2-1,jt=Wt/4;this._context.moveTo(jt+ut,Bt+1),this._context.lineTo(Kt+ut,jt+Bt),this._context.lineTo(jt+ut,Kt+Bt),this._context.lineTo(ut+1,jt+Bt),this._context.closePath()}}]),V}(K),Lt={plus:At,cross:Gt,dash:Ft,"cross-dash":Nt,dot:Rt,"dot-dash":ie,disc:H,ring:ot,line:B,"line-vertical":Y,weave:j,zigzag:ht,"zigzag-vertical":G,diagonal:Z,"diagonal-right-left":et,square:k,box:It,triangle:dt,"triangle-inverted":bt,diamond:K,"diamond-box":Jt},vt=[];function at(){var Et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],V=Object.keys(Lt);Et.forEach(function(ut){V.splice(V.indexOf(ut),1)});var Ot=Math.floor(Math.random()*V.length);return V[Ot]}function gt(){var Et=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"square",V=arguments[1],Ot=arguments[2],ut=arguments[3],Bt=document.createElement("canvas"),Wt=Bt.getContext("2d"),Kt=2*ut,ve=new(0,vt[Et])(ut,V,Ot),ne=Wt.createPattern(ve.drawTile(),"repeat");return Bt.width=Kt,Bt.height=Kt,ne.shapeType=Et,ne}return wt(vt,Lt,{circle:Lt.disc,"triangle-vertical":Lt["triangle-inverted"],"line-horizontal":Lt.line,"line-diagonal-lr":Lt.diagonal,"line-diagonal-rl":Lt["diagonal-right-left"],"zigzag-horizontal":Lt.zigzag,"diamond-outline":Lt["diamond-box"]}),{draw:gt,generate:function Ct(Et){var V=void 0,Ot=void 0;return Et.map(function(ut,Bt,Wt){var Kt=void 0;return 0===Bt?(Kt=at(),V=Ot=Kt):Bt===Wt.length-1?Kt=at([Ot,V]):(Kt=at([Ot]),Ot=Kt),gt(Kt,ut)})}}}()},4018:te=>{te.exports=function($,J,tt,yt){var ft=$[0],wt=$[1],rt=!1;void 0===tt&&(tt=0),void 0===yt&&(yt=J.length);for(var xt=(yt-tt)/2,Mt=0,At=xt-1;Mt<xt;At=Mt++){var Gt=J[tt+2*Mt+0],Ft=J[tt+2*Mt+1],Rt=J[tt+2*At+1];Ft>wt!=Rt>wt&&ft<(J[tt+2*At+0]-Gt)*(wt-Ft)/(Rt-Ft)+Gt&&(rt=!rt)}return rt}},4179:(te,Pt,$)=>{var J=$(4018),tt=$(8875);te.exports=function(ft,wt,rt,xt){return wt.length>0&&Array.isArray(wt[0])?tt(ft,wt,rt,xt):J(ft,wt,rt,xt)},te.exports.nested=tt,te.exports.flat=J},8875:te=>{te.exports=function($,J,tt,yt){var ft=$[0],wt=$[1],rt=!1;void 0===tt&&(tt=0),void 0===yt&&(yt=J.length);for(var xt=yt-tt,Mt=0,At=xt-1;Mt<xt;At=Mt++){var Gt=J[Mt+tt][0],Ft=J[Mt+tt][1],Rt=J[At+tt][1];Ft>wt!=Rt>wt&&ft<(J[At+tt][0]-Gt)*(wt-Ft)/(Rt-Ft)+Gt&&(rt=!rt)}return rt}},8464:function(te){te.exports=function(){"use strict";function Pt(X,O){if(!(X instanceof O))throw new TypeError("Cannot call a class as a function")}function $(X,O){for(var P=0;P<O.length;P++){var R=O[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(X,R.key,R)}}function J(X,O,P){return O&&$(X.prototype,O),P&&$(X,P),X}var tt=function X(O,P){this.next=null,this.key=O,this.data=P,this.left=null,this.right=null};function yt(X,O){return X>O?1:X<O?-1:0}function ft(X,O,P){for(var R=new tt(null,null),Q=R,St=R;;){var kt=P(X,O.key);if(kt<0){if(null===O.left)break;if(P(X,O.left.key)<0&&(O.left=(qt=O.left).right,qt.right=O,null===(O=qt).left))break;St.left=O,St=O,O=O.left}else{if(!(kt>0))break;if(null===O.right)break;var qt;if(P(X,O.right.key)>0&&(O.right=(qt=O.right).left,qt.left=O,null===(O=qt).right))break;Q.right=O,Q=O,O=O.right}}return Q.right=O.left,St.left=O.right,O.left=R.right,O.right=R.left,O}function wt(X,O,P,R){var Q=new tt(X,O);if(null===P)return Q.left=Q.right=null,Q;var St=R(X,(P=ft(X,P,R)).key);return St<0?(Q.left=P.left,Q.right=P,P.left=null):St>=0&&(Q.right=P.right,Q.left=P,P.right=null),Q}function rt(X,O,P){var R=null,Q=null;if(O){var St=P((O=ft(X,O,P)).key,X);0===St?(R=O.left,Q=O.right):St<0?(Q=O.right,O.right=null,R=O):(R=O.left,O.left=null,Q=O)}return{left:R,right:Q}}function Mt(X,O,P,R,Q){if(X){R(O+(P?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+Q(X)+"\n");var St=O+(P?"    ":"\u2502   ");X.left&&Mt(X.left,St,!1,R,Q),X.right&&Mt(X.right,St,!0,R,Q)}}var At=function(){function X(O){void 0===O&&(O=yt),this._root=null,this._size=0,this._comparator=O}return X.prototype.insert=function(O,P){return this._size++,this._root=wt(O,P,this._root,this._comparator)},X.prototype.add=function(O,P){var R=new tt(O,P);null===this._root&&(R.left=R.right=null,this._size++,this._root=R);var Q=this._comparator,St=ft(O,this._root,Q),kt=Q(O,St.key);return 0===kt?this._root=St:(kt<0?(R.left=St.left,R.right=St,St.left=null):kt>0&&(R.right=St.right,R.left=St,St.right=null),this._size++,this._root=R),this._root},X.prototype.remove=function(O){this._root=this._remove(O,this._root,this._comparator)},X.prototype._remove=function(O,P,R){var Q;return null===P?null:0===R(O,(P=ft(O,P,R)).key)?(null===P.left?Q=P.right:(Q=ft(O,P.left,R)).right=P.right,this._size--,Q):P},X.prototype.pop=function(){var O=this._root;if(O){for(;O.left;)O=O.left;return this._root=ft(O.key,this._root,this._comparator),this._root=this._remove(O.key,this._root,this._comparator),{key:O.key,data:O.data}}return null},X.prototype.findStatic=function(O){for(var P=this._root,R=this._comparator;P;){var Q=R(O,P.key);if(0===Q)return P;P=Q<0?P.left:P.right}return null},X.prototype.find=function(O){return this._root&&(this._root=ft(O,this._root,this._comparator),0!==this._comparator(O,this._root.key))?null:this._root},X.prototype.contains=function(O){for(var P=this._root,R=this._comparator;P;){var Q=R(O,P.key);if(0===Q)return!0;P=Q<0?P.left:P.right}return!1},X.prototype.forEach=function(O,P){for(var R=this._root,Q=[],St=!1;!St;)null!==R?(Q.push(R),R=R.left):0!==Q.length?(R=Q.pop(),O.call(P,R),R=R.right):St=!0;return this},X.prototype.range=function(O,P,R,Q){for(var St=[],kt=this._comparator,qt=this._root;0!==St.length||qt;)if(qt)St.push(qt),qt=qt.left;else{if(kt((qt=St.pop()).key,P)>0)break;if(kt(qt.key,O)>=0&&R.call(Q,qt))return this;qt=qt.right}return this},X.prototype.keys=function(){var O=[];return this.forEach(function(P){return O.push(P.key)}),O},X.prototype.values=function(){var O=[];return this.forEach(function(P){return O.push(P.data)}),O},X.prototype.min=function(){return this._root?this.minNode(this._root).key:null},X.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},X.prototype.minNode=function(O){if(void 0===O&&(O=this._root),O)for(;O.left;)O=O.left;return O},X.prototype.maxNode=function(O){if(void 0===O&&(O=this._root),O)for(;O.right;)O=O.right;return O},X.prototype.at=function(O){for(var P=this._root,R=!1,Q=0,St=[];!R;)if(P)St.push(P),P=P.left;else if(St.length>0){if(P=St.pop(),Q===O)return P;Q++,P=P.right}else R=!0;return null},X.prototype.next=function(O){var P=this._root,R=null;if(O.right){for(R=O.right;R.left;)R=R.left;return R}for(var Q=this._comparator;P;){var St=Q(O.key,P.key);if(0===St)break;St<0?(R=P,P=P.left):P=P.right}return R},X.prototype.prev=function(O){var P=this._root,R=null;if(null!==O.left){for(R=O.left;R.right;)R=R.right;return R}for(var Q=this._comparator;P;){var St=Q(O.key,P.key);if(0===St)break;St<0?P=P.left:(R=P,P=P.right)}return R},X.prototype.clear=function(){return this._root=null,this._size=0,this},X.prototype.toList=function(){return function Nt(X){for(var O=X,P=[],R=!1,Q=new tt(null,null),St=Q;!R;)O?(P.push(O),O=O.left):P.length>0?O=(O=St=St.next=P.pop()).right:R=!0;return St.next=null,Q.next}(this._root)},X.prototype.load=function(O,P,R){void 0===P&&(P=[]),void 0===R&&(R=!1);var Q=O.length,St=this._comparator;if(R&&H(O,P,0,Q-1,St),null===this._root)this._root=Gt(O,P,0,Q),this._size=Q;else{var kt=function ie(X,O,P){for(var R=new tt(null,null),Q=R,St=X,kt=O;null!==St&&null!==kt;)P(St.key,kt.key)<0?(Q.next=St,St=St.next):(Q.next=kt,kt=kt.next),Q=Q.next;return null!==St?Q.next=St:null!==kt&&(Q.next=kt),R.next}(this.toList(),function Ft(X,O){for(var P=new tt(null,null),R=P,Q=0;Q<X.length;Q++)R=R.next=new tt(X[Q],O[Q]);return R.next=null,P.next}(O,P),St);this._root=Rt({head:kt},0,Q=this._size+Q)}return this},X.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(X.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),X.prototype.toString=function(O){void 0===O&&(O=function(Q){return String(Q.key)});var P=[];return Mt(this._root,"",!0,function(R){return P.push(R)},O),P.join("")},X.prototype.update=function(O,P,R){var Q=this._comparator,St=rt(O,this._root,Q),kt=St.left,qt=St.right;Q(O,P)<0?qt=wt(P,R,qt,Q):kt=wt(P,R,kt,Q),this._root=function xt(X,O,P){return null===O?X:(null===X||((O=ft(X.key,O,P)).left=X),O)}(kt,qt,Q)},X.prototype.split=function(O){return rt(O,this._root,this._comparator)},X}();function Gt(X,O,P,R){var Q=R-P;if(Q>0){var St=P+Math.floor(Q/2),Xt=new tt(X[St],O[St]);return Xt.left=Gt(X,O,P,St),Xt.right=Gt(X,O,St+1,R),Xt}return null}function Rt(X,O,P){var R=P-O;if(R>0){var Q=O+Math.floor(R/2),St=Rt(X,O,Q),kt=X.head;return kt.left=St,X.head=X.head.next,kt.right=Rt(X,Q+1,P),kt}return null}function H(X,O,P,R,Q){if(!(P>=R)){for(var St=X[P+R>>1],kt=P-1,qt=R+1;;){do{kt++}while(Q(X[kt],St)<0);do{qt--}while(Q(X[qt],St)>0);if(kt>=qt)break;var Xt=X[kt];X[kt]=X[qt],X[qt]=Xt,Xt=O[kt],O[kt]=O[qt],O[qt]=Xt}H(X,O,P,qt,Q),H(X,O,qt+1,R,Q)}}var ot=function(O,P){return O.ll.x<=P.x&&P.x<=O.ur.x&&O.ll.y<=P.y&&P.y<=O.ur.y},B=function(O,P){return P.ur.x<O.ll.x||O.ur.x<P.ll.x||P.ur.y<O.ll.y||O.ur.y<P.ll.y?null:{ll:{x:O.ll.x<P.ll.x?P.ll.x:O.ll.x,y:O.ll.y<P.ll.y?P.ll.y:O.ll.y},ur:{x:O.ur.x<P.ur.x?O.ur.x:P.ur.x,y:O.ur.y<P.ur.y?O.ur.y:P.ur.y}}},Y=Number.EPSILON;void 0===Y&&(Y=Math.pow(2,-52));var j=Y*Y,ht=function(O,P){if(-Y<O&&O<Y&&-Y<P&&P<Y)return 0;var R=O-P;return R*R<j*O*P?0:O<P?-1:1},G=function(){function X(){Pt(this,X),this.reset()}return J(X,[{key:"reset",value:function(){this.xRounder=new Z,this.yRounder=new Z}},{key:"round",value:function(P,R){return{x:this.xRounder.round(P),y:this.yRounder.round(R)}}}]),X}(),Z=function(){function X(){Pt(this,X),this.tree=new At,this.round(0)}return J(X,[{key:"round",value:function(P){var R=this.tree.add(P),Q=this.tree.prev(R);if(null!==Q&&0===ht(R.key,Q.key))return this.tree.remove(P),Q.key;var St=this.tree.next(R);return null!==St&&0===ht(R.key,St.key)?(this.tree.remove(P),St.key):P}}]),X}(),et=new G,k=function(O,P){return O.x*P.y-O.y*P.x},It=function(O,P){return O.x*P.x+O.y*P.y},dt=function(O,P,R){var kt=k({x:P.x-O.x,y:P.y-O.y},{x:R.x-O.x,y:R.y-O.y});return ht(kt,0)},bt=function(O){return Math.sqrt(It(O,O))},K=function(O,P,R){var Q={x:P.x-O.x,y:P.y-O.y},St={x:R.x-O.x,y:R.y-O.y};return k(St,Q)/bt(St)/bt(Q)},Jt=function(O,P,R){var Q={x:P.x-O.x,y:P.y-O.y},St={x:R.x-O.x,y:R.y-O.y};return It(St,Q)/bt(St)/bt(Q)},Lt=function(O,P,R){return 0===P.y?null:{x:O.x+P.x/P.y*(R-O.y),y:R}},lt=function(O,P,R){return 0===P.x?null:{x:R,y:O.y+P.y/P.x*(R-O.x)}},at=function(){function X(O,P){Pt(this,X),void 0===O.events?O.events=[this]:O.events.push(this),this.point=O,this.isLeft=P}return J(X,null,[{key:"compare",value:function(P,R){var Q=X.comparePoints(P.point,R.point);return 0!==Q?Q:(P.point!==R.point&&P.link(R),P.isLeft!==R.isLeft?P.isLeft?1:-1:Ct.compare(P.segment,R.segment))}},{key:"comparePoints",value:function(P,R){return P.x<R.x?-1:P.x>R.x?1:P.y<R.y?-1:P.y>R.y?1:0}}]),J(X,[{key:"link",value:function(P){if(P.point===this.point)throw new Error("Tried to link already linked events");for(var R=P.point.events,Q=0,St=R.length;Q<St;Q++){var kt=R[Q];this.point.events.push(kt),kt.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var P=this.point.events.length,R=0;R<P;R++){var Q=this.point.events[R];if(void 0===Q.segment.consumedBy)for(var St=R+1;St<P;St++){var kt=this.point.events[St];void 0===kt.consumedBy&&Q.otherSE.point.events===kt.otherSE.point.events&&Q.segment.consume(kt.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var P=[],R=0,Q=this.point.events.length;R<Q;R++){var St=this.point.events[R];St!==this&&!St.segment.ringOut&&St.segment.isInResult()&&P.push(St)}return P}},{key:"getLeftmostComparator",value:function(P){var R=this,Q=new Map,St=function(qt){var Xt=qt.otherSE;Q.set(qt,{sine:K(R.point,P.point,Xt.point),cosine:Jt(R.point,P.point,Xt.point)})};return function(kt,qt){Q.has(kt)||St(kt),Q.has(qt)||St(qt);var Xt=Q.get(kt),Ut=Xt.sine,Ue=Xt.cosine,nn=Q.get(qt),he=nn.sine,ke=nn.cosine;return Ut>=0&&he>=0?Ue<ke?1:Ue>ke?-1:0:Ut<0&&he<0?Ue<ke?-1:Ue>ke?1:0:he<Ut?-1:he>Ut?1:0}}}]),X}(),gt=0,Ct=function(){function X(O,P,R,Q){Pt(this,X),this.id=++gt,this.leftSE=O,O.segment=this,O.otherSE=P,this.rightSE=P,P.segment=this,P.otherSE=O,this.rings=R,this.windings=Q}return J(X,null,[{key:"compare",value:function(P,R){var Q=P.leftSE.point.x,St=R.leftSE.point.x,kt=P.rightSE.point.x,qt=R.rightSE.point.x;if(qt<Q)return 1;if(kt<St)return-1;var Xt=P.leftSE.point.y,Ut=R.leftSE.point.y,Ue=P.rightSE.point.y,nn=R.rightSE.point.y;if(Q<St){if(Ut<Xt&&Ut<Ue)return 1;if(Ut>Xt&&Ut>Ue)return-1;var he=P.comparePoint(R.leftSE.point);if(he<0)return 1;if(he>0)return-1;var ke=R.comparePoint(P.rightSE.point);return 0!==ke?ke:-1}if(Q>St){if(Xt<Ut&&Xt<nn)return-1;if(Xt>Ut&&Xt>nn)return 1;var bi=R.comparePoint(P.leftSE.point);if(0!==bi)return bi;var qe=P.comparePoint(R.rightSE.point);return qe<0?1:qe>0?-1:1}if(Xt<Ut)return-1;if(Xt>Ut)return 1;if(kt<qt){var dn=R.comparePoint(P.rightSE.point);if(0!==dn)return dn}if(kt>qt){var Ai=P.comparePoint(R.rightSE.point);if(Ai<0)return 1;if(Ai>0)return-1}if(kt!==qt){var mr=Ue-Xt,ar=kt-Q,Cr=nn-Ut,Co=qt-St;if(mr>ar&&Cr<Co)return 1;if(mr<ar&&Cr>Co)return-1}return kt>qt?1:kt<qt||Ue<nn?-1:Ue>nn?1:P.id<R.id?-1:P.id>R.id?1:0}}]),J(X,[{key:"replaceRightSE",value:function(P){this.rightSE=P,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var P=this.leftSE.point.y,R=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:P<R?P:R},ur:{x:this.rightSE.point.x,y:P>R?P:R}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(P){return P.x===this.leftSE.point.x&&P.y===this.leftSE.point.y||P.x===this.rightSE.point.x&&P.y===this.rightSE.point.y}},{key:"comparePoint",value:function(P){if(this.isAnEndpoint(P))return 0;var R=this.leftSE.point,Q=this.rightSE.point,St=this.vector();if(R.x===Q.x)return P.x===R.x?0:P.x<R.x?1:-1;if(P.x===R.x+(P.y-R.y)/St.y*St.x)return 0;var Ut=R.y+(P.x-R.x)/St.x*St.y;return P.y===Ut?0:P.y<Ut?-1:1}},{key:"getIntersection",value:function(P){var R=this.bbox(),Q=P.bbox(),St=B(R,Q);if(null===St)return null;var kt=this.leftSE.point,qt=this.rightSE.point,Xt=P.leftSE.point,Ut=P.rightSE.point,Ue=ot(R,Xt)&&0===this.comparePoint(Xt),nn=ot(Q,kt)&&0===P.comparePoint(kt),he=ot(R,Ut)&&0===this.comparePoint(Ut),ke=ot(Q,qt)&&0===P.comparePoint(qt);if(nn&&Ue)return ke&&!he?qt:!ke&&he?Ut:null;if(nn)return he&&kt.x===Ut.x&&kt.y===Ut.y?null:kt;if(Ue)return ke&&qt.x===Xt.x&&qt.y===Xt.y?null:Xt;if(ke&&he)return null;if(ke)return qt;if(he)return Ut;var bi=function(O,P,R,Q){if(0===P.x)return lt(R,Q,O.x);if(0===Q.x)return lt(O,P,R.x);if(0===P.y)return Lt(R,Q,O.y);if(0===Q.y)return Lt(O,P,R.y);var St=k(P,Q);if(0==St)return null;var kt={x:R.x-O.x,y:R.y-O.y},qt=k(kt,P)/St,Xt=k(kt,Q)/St;return{x:(O.x+Xt*P.x+(R.x+qt*Q.x))/2,y:(O.y+Xt*P.y+(R.y+qt*Q.y))/2}}(kt,this.vector(),Xt,P.vector());return null!==bi&&ot(St,bi)?et.round(bi.x,bi.y):null}},{key:"split",value:function(P){var R=[],Q=void 0!==P.events,St=new at(P,!0),kt=new at(P,!1),qt=this.rightSE;this.replaceRightSE(kt),R.push(kt),R.push(St);var Xt=new X(St,qt,this.rings.slice(),this.windings.slice());return at.comparePoints(Xt.leftSE.point,Xt.rightSE.point)>0&&Xt.swapEvents(),at.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Q&&(St.checkForConsuming(),kt.checkForConsuming()),R}},{key:"swapEvents",value:function(){var P=this.rightSE;this.rightSE=this.leftSE,this.leftSE=P,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var R=0,Q=this.windings.length;R<Q;R++)this.windings[R]*=-1}},{key:"consume",value:function(P){for(var R=this,Q=P;R.consumedBy;)R=R.consumedBy;for(;Q.consumedBy;)Q=Q.consumedBy;var St=X.compare(R,Q);if(0!==St){if(St>0){var kt=R;R=Q,Q=kt}if(R.prev===Q){var qt=R;R=Q,Q=qt}for(var Xt=0,Ut=Q.rings.length;Xt<Ut;Xt++){var Ue=Q.rings[Xt],nn=Q.windings[Xt],he=R.rings.indexOf(Ue);-1===he?(R.rings.push(Ue),R.windings.push(nn)):R.windings[he]+=nn}Q.rings=null,Q.windings=null,Q.consumedBy=R,Q.leftSE.consumedBy=R.leftSE,Q.rightSE.consumedBy=R.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var P=this.beforeState();this._afterState={rings:P.rings.slice(0),windings:P.windings.slice(0),multiPolys:[]};for(var R=this._afterState.rings,Q=this._afterState.windings,St=this._afterState.multiPolys,kt=0,qt=this.rings.length;kt<qt;kt++){var Xt=this.rings[kt],Ut=this.windings[kt],Ue=R.indexOf(Xt);-1===Ue?(R.push(Xt),Q.push(Ut)):Q[Ue]+=Ut}for(var nn=[],he=[],ke=0,bi=R.length;ke<bi;ke++)if(0!==Q[ke]){var qe=R[ke],dn=qe.poly;if(-1===he.indexOf(dn))if(qe.isExterior)nn.push(dn);else{-1===he.indexOf(dn)&&he.push(dn);var Ai=nn.indexOf(qe.poly);-1!==Ai&&nn.splice(Ai,1)}}for(var mr=0,ar=nn.length;mr<ar;mr++){var Cr=nn[mr].multiPoly;-1===St.indexOf(Cr)&&St.push(Cr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var P=this.beforeState().multiPolys,R=this.afterState().multiPolys;switch(ne.type){case"union":this._isInResult=0===P.length!=(0===R.length);break;case"intersection":var kt,qt;P.length<R.length?(kt=P.length,qt=R.length):(kt=R.length,qt=P.length),this._isInResult=qt===ne.numMultiPolys&&kt<qt;break;case"xor":var Xt=Math.abs(P.length-R.length);this._isInResult=Xt%2==1;break;case"difference":var Ut=function(nn){return 1===nn.length&&nn[0].isSubject};this._isInResult=Ut(P)!==Ut(R);break;default:throw new Error("Unrecognized operation type found ".concat(ne.type))}return this._isInResult}}],[{key:"fromRing",value:function(P,R,Q){var St,kt,qt,Xt=at.comparePoints(P,R);if(Xt<0)St=P,kt=R,qt=1;else{if(!(Xt>0))throw new Error("Tried to create degenerate segment at [".concat(P.x,", ").concat(P.y,"]"));St=R,kt=P,qt=-1}return new X(new at(St,!0),new at(kt,!1),[Q],[qt])}}]),X}(),nt=function(){function X(O,P,R){if(Pt(this,X),!Array.isArray(O)||0===O.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=P,this.isExterior=R,this.segments=[],"number"!=typeof O[0][0]||"number"!=typeof O[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Q=et.round(O[0][0],O[0][1]);this.bbox={ll:{x:Q.x,y:Q.y},ur:{x:Q.x,y:Q.y}};for(var St=Q,kt=1,qt=O.length;kt<qt;kt++){if("number"!=typeof O[kt][0]||"number"!=typeof O[kt][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Xt=et.round(O[kt][0],O[kt][1]);Xt.x===St.x&&Xt.y===St.y||(this.segments.push(Ct.fromRing(St,Xt,this)),Xt.x<this.bbox.ll.x&&(this.bbox.ll.x=Xt.x),Xt.y<this.bbox.ll.y&&(this.bbox.ll.y=Xt.y),Xt.x>this.bbox.ur.x&&(this.bbox.ur.x=Xt.x),Xt.y>this.bbox.ur.y&&(this.bbox.ur.y=Xt.y),St=Xt)}(Q.x!==St.x||Q.y!==St.y)&&this.segments.push(Ct.fromRing(St,Q,this))}return J(X,[{key:"getSweepEvents",value:function(){for(var P=[],R=0,Q=this.segments.length;R<Q;R++){var St=this.segments[R];P.push(St.leftSE),P.push(St.rightSE)}return P}}]),X}(),Et=function(){function X(O,P){if(Pt(this,X),!Array.isArray(O))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nt(O[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var R=1,Q=O.length;R<Q;R++){var St=new nt(O[R],this,!1);St.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=St.bbox.ll.x),St.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=St.bbox.ll.y),St.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=St.bbox.ur.x),St.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=St.bbox.ur.y),this.interiorRings.push(St)}this.multiPoly=P}return J(X,[{key:"getSweepEvents",value:function(){for(var P=this.exteriorRing.getSweepEvents(),R=0,Q=this.interiorRings.length;R<Q;R++)for(var St=this.interiorRings[R].getSweepEvents(),kt=0,qt=St.length;kt<qt;kt++)P.push(St[kt]);return P}}]),X}(),V=function(){function X(O,P){if(Pt(this,X),!Array.isArray(O))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof O[0][0][0]&&(O=[O])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var R=0,Q=O.length;R<Q;R++){var St=new Et(O[R],this);St.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=St.bbox.ll.x),St.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=St.bbox.ll.y),St.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=St.bbox.ur.x),St.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=St.bbox.ur.y),this.polys.push(St)}this.isSubject=P}return J(X,[{key:"getSweepEvents",value:function(){for(var P=[],R=0,Q=this.polys.length;R<Q;R++)for(var St=this.polys[R].getSweepEvents(),kt=0,qt=St.length;kt<qt;kt++)P.push(St[kt]);return P}}]),X}(),Ot=function(){function X(O){Pt(this,X),this.events=O;for(var P=0,R=O.length;P<R;P++)O[P].segment.ringOut=this;this.poly=null}return J(X,null,[{key:"factory",value:function(P){for(var R=[],Q=0,St=P.length;Q<St;Q++){var kt=P[Q];if(kt.isInResult()&&!kt.ringOut){for(var qt=null,Xt=kt.leftSE,Ut=kt.rightSE,Ue=[Xt],nn=Xt.point,he=[];qt=Xt,Ue.push(Xt=Ut),Xt.point!==nn;)for(;;){var ke=Xt.getAvailableLinkedEvents();if(0===ke.length){var bi=Ue[0].point,qe=Ue[Ue.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(bi.x,",")+" ".concat(bi.y,"]. Last matching segment found ends at")+" [".concat(qe.x,", ").concat(qe.y,"]."))}if(1===ke.length){Ut=ke[0].otherSE;break}for(var dn=null,Ai=0,mr=he.length;Ai<mr;Ai++)if(he[Ai].point===Xt.point){dn=Ai;break}if(null===dn){he.push({index:Ue.length,point:Xt.point});var Co=Xt.getLeftmostComparator(qt);Ut=ke.sort(Co)[0].otherSE;break}var ar=he.splice(dn)[0],Cr=Ue.splice(ar.index);Cr.unshift(Cr[0].otherSE),R.push(new X(Cr.reverse()))}R.push(new X(Ue))}}return R}}]),J(X,[{key:"getGeom",value:function(){for(var P=this.events[0].point,R=[P],Q=1,St=this.events.length-1;Q<St;Q++){var kt=this.events[Q].point;0!==dt(kt,P,this.events[Q+1].point)&&(R.push(kt),P=kt)}if(1===R.length)return null;0===dt(R[0],P,R[1])&&R.shift(),R.push(R[0]);for(var Ue=this.isExteriorRing()?1:-1,nn=this.isExteriorRing()?0:R.length-1,he=this.isExteriorRing()?R.length:-1,ke=[],bi=nn;bi!=he;bi+=Ue)ke.push([R[bi].x,R[bi].y]);return ke}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var P=this.enclosingRing();this._isExteriorRing=!P||!P.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var P=this.events[0],R=1,Q=this.events.length;R<Q;R++){var St=this.events[R];at.compare(P,St)>0&&(P=St)}for(var kt=P.segment.prevInResult(),qt=kt?kt.prevInResult():null;;){if(!kt)return null;if(!qt)return kt.ringOut;if(qt.ringOut!==kt.ringOut)return qt.ringOut.enclosingRing()!==kt.ringOut?kt.ringOut:kt.ringOut.enclosingRing();kt=qt.prevInResult(),qt=kt?kt.prevInResult():null}}}]),X}(),ut=function(){function X(O){Pt(this,X),this.exteriorRing=O,O.poly=this,this.interiorRings=[]}return J(X,[{key:"addInterior",value:function(P){this.interiorRings.push(P),P.poly=this}},{key:"getGeom",value:function(){var P=[this.exteriorRing.getGeom()];if(null===P[0])return null;for(var R=0,Q=this.interiorRings.length;R<Q;R++){var St=this.interiorRings[R].getGeom();null!==St&&P.push(St)}return P}}]),X}(),Bt=function(){function X(O){Pt(this,X),this.rings=O,this.polys=this._composePolys(O)}return J(X,[{key:"getGeom",value:function(){for(var P=[],R=0,Q=this.polys.length;R<Q;R++){var St=this.polys[R].getGeom();null!==St&&P.push(St)}return P}},{key:"_composePolys",value:function(P){for(var R=[],Q=0,St=P.length;Q<St;Q++){var kt=P[Q];if(!kt.poly)if(kt.isExteriorRing())R.push(new ut(kt));else{var qt=kt.enclosingRing();qt.poly||R.push(new ut(qt)),qt.poly.addInterior(kt)}}return R}}]),X}(),Wt=function(){function X(O){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct.compare;Pt(this,X),this.queue=O,this.tree=new At(P),this.segments=[]}return J(X,[{key:"process",value:function(P){var R=P.segment,Q=[];if(P.consumedBy)return P.isLeft?this.queue.remove(P.otherSE):this.tree.remove(R),Q;var St=P.isLeft?this.tree.insert(R):this.tree.find(R);if(!St)throw new Error("Unable to find segment #".concat(R.id," ")+"[".concat(R.leftSE.point.x,", ").concat(R.leftSE.point.y,"] -> ")+"[".concat(R.rightSE.point.x,", ").concat(R.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var kt=St,qt=St,Xt=void 0,Ut=void 0;void 0===Xt;)null===(kt=this.tree.prev(kt))?Xt=null:void 0===kt.key.consumedBy&&(Xt=kt.key);for(;void 0===Ut;)null===(qt=this.tree.next(qt))?Ut=null:void 0===qt.key.consumedBy&&(Ut=qt.key);if(P.isLeft){var Ue=null;if(Xt){var nn=Xt.getIntersection(R);if(null!==nn&&(R.isAnEndpoint(nn)||(Ue=nn),!Xt.isAnEndpoint(nn)))for(var he=this._splitSafely(Xt,nn),ke=0,bi=he.length;ke<bi;ke++)Q.push(he[ke])}var qe=null;if(Ut){var dn=Ut.getIntersection(R);if(null!==dn&&(R.isAnEndpoint(dn)||(qe=dn),!Ut.isAnEndpoint(dn)))for(var Ai=this._splitSafely(Ut,dn),mr=0,ar=Ai.length;mr<ar;mr++)Q.push(Ai[mr])}if(null!==Ue||null!==qe){var Cr;Cr=null===Ue?qe:null===qe||at.comparePoints(Ue,qe)<=0?Ue:qe,this.queue.remove(R.rightSE),Q.push(R.rightSE);for(var Ti=R.split(Cr),zo=0,Or=Ti.length;zo<Or;zo++)Q.push(Ti[zo])}Q.length>0?(this.tree.remove(R),Q.push(P)):(this.segments.push(R),R.prev=Xt)}else{if(Xt&&Ut){var ue=Xt.getIntersection(Ut);if(null!==ue){if(!Xt.isAnEndpoint(ue))for(var Pu=this._splitSafely(Xt,ue),ks=0,sn=Pu.length;ks<sn;ks++)Q.push(Pu[ks]);if(!Ut.isAnEndpoint(ue))for(var Js=this._splitSafely(Ut,ue),Fs=0,ys=Js.length;Fs<ys;Fs++)Q.push(Js[Fs])}}this.tree.remove(R)}return Q}},{key:"_splitSafely",value:function(P,R){this.tree.remove(P);var Q=P.rightSE;this.queue.remove(Q);var St=P.split(R);return St.push(Q),void 0===P.consumedBy&&this.tree.insert(P),St}}]),X}(),Kt=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,jt=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,ne=new(function(){function X(){Pt(this,X)}return J(X,[{key:"run",value:function(P,R,Q){ne.type=P,et.reset();for(var St=[new V(R,!0)],kt=0,qt=Q.length;kt<qt;kt++)St.push(new V(Q[kt],!1));if(ne.numMultiPolys=St.length,"difference"===ne.type)for(var Xt=St[0],Ut=1;Ut<St.length;)null!==B(St[Ut].bbox,Xt.bbox)?Ut++:St.splice(Ut,1);if("intersection"===ne.type)for(var Ue=0,nn=St.length;Ue<nn;Ue++)for(var he=St[Ue],ke=Ue+1,bi=St.length;ke<bi;ke++)if(null===B(he.bbox,St[ke].bbox))return[];for(var qe=new At(at.compare),dn=0,Ai=St.length;dn<Ai;dn++)for(var mr=St[dn].getSweepEvents(),ar=0,Cr=mr.length;ar<Cr;ar++)if(qe.insert(mr[ar]),qe.size>Kt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Co=new Wt(qe),Ti=qe.size,zo=qe.pop();zo;){var Or=zo.key;if(qe.size===Ti){var ue=Or.segment;throw new Error("Unable to pop() ".concat(Or.isLeft?"left":"right"," SweepEvent ")+"[".concat(Or.point.x,", ").concat(Or.point.y,"] from segment #").concat(ue.id," ")+"[".concat(ue.leftSE.point.x,", ").concat(ue.leftSE.point.y,"] -> ")+"[".concat(ue.rightSE.point.x,", ").concat(ue.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(qe.size>Kt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Co.segments.length>jt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Pu=Co.process(Or),ks=0,sn=Pu.length;ks<sn;ks++){var Js=Pu[ks];void 0===Js.consumedBy&&qe.insert(Js)}Ti=qe.size,zo=qe.pop()}et.reset();var Fs=Ot.factory(Co.segments);return new Bt(Fs).getGeom()}}]),X}());return{union:function(O){for(var P=arguments.length,R=new Array(P>1?P-1:0),Q=1;Q<P;Q++)R[Q-1]=arguments[Q];return ne.run("union",O,R)},intersection:function(O){for(var P=arguments.length,R=new Array(P>1?P-1:0),Q=1;Q<P;Q++)R[Q-1]=arguments[Q];return ne.run("intersection",O,R)},xor:function(O){for(var P=arguments.length,R=new Array(P>1?P-1:0),Q=1;Q<P;Q++)R[Q-1]=arguments[Q];return ne.run("xor",O,R)},difference:function(O){for(var P=arguments.length,R=new Array(P>1?P-1:0),Q=1;Q<P;Q++)R[Q-1]=arguments[Q];return ne.run("difference",O,R)}}}()},5262:function(te){te.exports=function(){"use strict";function $(yt,ft,wt,rt,xt){for(;rt>wt;){if(rt-wt>600){var Mt=rt-wt+1,At=ft-wt+1,Gt=Math.log(Mt),Ft=.5*Math.exp(2*Gt/3),Nt=.5*Math.sqrt(Gt*Ft*(Mt-Ft)/Mt)*(At-Mt/2<0?-1:1);$(yt,ft,Math.max(wt,Math.floor(ft-At*Ft/Mt+Nt)),Math.min(rt,Math.floor(ft+(Mt-At)*Ft/Mt+Nt)),xt)}var H=yt[ft],ot=wt,B=rt;for(J(yt,wt,ft),xt(yt[rt],H)>0&&J(yt,wt,rt);ot<B;){for(J(yt,ot,B),ot++,B--;xt(yt[ot],H)<0;)ot++;for(;xt(yt[B],H)>0;)B--}0===xt(yt[wt],H)?J(yt,wt,B):J(yt,++B,rt),B<=ft&&(wt=B+1),ft<=B&&(rt=B-1)}}function J(yt,ft,wt){var rt=yt[ft];yt[ft]=yt[wt],yt[wt]=rt}function tt(yt,ft){return yt<ft?-1:yt>ft?1:0}return function Pt(yt,ft,wt,rt,xt){$(yt,ft,wt||0,rt||yt.length-1,xt||tt)}}()},7861:(te,Pt,$)=>{"use strict";te.exports=tt,te.exports.default=tt;var J=$(5262);function tt(B,Y){if(!(this instanceof tt))return new tt(B,Y);this._maxEntries=Math.max(4,B||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),Y&&this._initFormat(Y),this.clear()}function yt(B,Y,j){if(!j)return Y.indexOf(B);for(var ht=0;ht<Y.length;ht++)if(j(B,Y[ht]))return ht;return-1}function ft(B,Y){wt(B,0,B.children.length,Y,B)}function wt(B,Y,j,ht,G){G||(G=H(null)),G.minX=1/0,G.minY=1/0,G.maxX=-1/0,G.maxY=-1/0;for(var et,Z=Y;Z<j;Z++)et=B.children[Z],rt(G,B.leaf?ht(et):et);return G}function rt(B,Y){return B.minX=Math.min(B.minX,Y.minX),B.minY=Math.min(B.minY,Y.minY),B.maxX=Math.max(B.maxX,Y.maxX),B.maxY=Math.max(B.maxY,Y.maxY),B}function xt(B,Y){return B.minX-Y.minX}function Mt(B,Y){return B.minY-Y.minY}function At(B){return(B.maxX-B.minX)*(B.maxY-B.minY)}function Gt(B){return B.maxX-B.minX+(B.maxY-B.minY)}function Ft(B,Y){return(Math.max(Y.maxX,B.maxX)-Math.min(Y.minX,B.minX))*(Math.max(Y.maxY,B.maxY)-Math.min(Y.minY,B.minY))}function Nt(B,Y){var j=Math.max(B.minX,Y.minX),ht=Math.max(B.minY,Y.minY),G=Math.min(B.maxX,Y.maxX),Z=Math.min(B.maxY,Y.maxY);return Math.max(0,G-j)*Math.max(0,Z-ht)}function Rt(B,Y){return B.minX<=Y.minX&&B.minY<=Y.minY&&Y.maxX<=B.maxX&&Y.maxY<=B.maxY}function ie(B,Y){return Y.minX<=B.maxX&&Y.minY<=B.maxY&&Y.maxX>=B.minX&&Y.maxY>=B.minY}function H(B){return{children:B,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ot(B,Y,j,ht,G){for(var et,Z=[Y,j];Z.length;)!((j=Z.pop())-(Y=Z.pop())<=ht)&&(et=Y+Math.ceil((j-Y)/ht/2)*ht,J(B,et,Y,j,G),Z.push(Y,et,et,j))}tt.prototype={all:function(){return this._all(this.data,[])},search:function(B){var Y=this.data,j=[],ht=this.toBBox;if(!ie(B,Y))return j;for(var Z,et,k,It,G=[];Y;){for(Z=0,et=Y.children.length;Z<et;Z++)k=Y.children[Z],ie(B,It=Y.leaf?ht(k):k)&&(Y.leaf?j.push(k):Rt(B,It)?this._all(k,j):G.push(k));Y=G.pop()}return j},collides:function(B){var Y=this.data,j=this.toBBox;if(!ie(B,Y))return!1;for(var G,Z,et,k,ht=[];Y;){for(G=0,Z=Y.children.length;G<Z;G++)if(et=Y.children[G],ie(B,k=Y.leaf?j(et):et)){if(Y.leaf||Rt(B,k))return!0;ht.push(et)}Y=ht.pop()}return!1},load:function(B){if(!B||!B.length)return this;if(B.length<this._minEntries){for(var Y=0,j=B.length;Y<j;Y++)this.insert(B[Y]);return this}var ht=this._build(B.slice(),0,B.length-1,0);if(this.data.children.length)if(this.data.height===ht.height)this._splitRoot(this.data,ht);else{if(this.data.height<ht.height){var G=this.data;this.data=ht,ht=G}this._insert(ht,this.data.height-ht.height-1,!0)}else this.data=ht;return this},insert:function(B){return B&&this._insert(B,this.data.height-1),this},clear:function(){return this.data=H([]),this},remove:function(B,Y){if(!B)return this;for(var et,k,It,dt,j=this.data,ht=this.toBBox(B),G=[],Z=[];j||G.length;){if(j||(j=G.pop(),k=G[G.length-1],et=Z.pop(),dt=!0),j.leaf&&-1!==(It=yt(B,j.children,Y)))return j.children.splice(It,1),G.push(j),this._condense(G),this;dt||j.leaf||!Rt(j,ht)?k?(et++,j=k.children[et],dt=!1):j=null:(G.push(j),Z.push(et),et=0,k=j,j=j.children[0])}return this},toBBox:function(B){return B},compareMinX:xt,compareMinY:Mt,toJSON:function(){return this.data},fromJSON:function(B){return this.data=B,this},_all:function(B,Y){for(var j=[];B;)B.leaf?Y.push.apply(Y,B.children):j.push.apply(j,B.children),B=j.pop();return Y},_build:function(B,Y,j,ht){var et,G=j-Y+1,Z=this._maxEntries;if(G<=Z)return ft(et=H(B.slice(Y,j+1)),this.toBBox),et;ht||(ht=Math.ceil(Math.log(G)/Math.log(Z)),Z=Math.ceil(G/Math.pow(Z,ht-1))),(et=H([])).leaf=!1,et.height=ht;var dt,bt,K,Jt,k=Math.ceil(G/Z),It=k*Math.ceil(Math.sqrt(Z));for(ot(B,Y,j,It,this.compareMinX),dt=Y;dt<=j;dt+=It)for(ot(B,dt,K=Math.min(dt+It-1,j),k,this.compareMinY),bt=dt;bt<=K;bt+=k)Jt=Math.min(bt+k-1,K),et.children.push(this._build(B,bt,Jt,ht-1));return ft(et,this.toBBox),et},_chooseSubtree:function(B,Y,j,ht){for(var G,Z,et,k,It,dt,bt,K;ht.push(Y),!Y.leaf&&ht.length-1!==j;){for(bt=K=1/0,G=0,Z=Y.children.length;G<Z;G++)It=At(et=Y.children[G]),(dt=Ft(B,et)-It)<K?(K=dt,bt=It<bt?It:bt,k=et):dt===K&&It<bt&&(bt=It,k=et);Y=k||Y.children[0]}return Y},_insert:function(B,Y,j){var G=j?B:(0,this.toBBox)(B),Z=[],et=this._chooseSubtree(G,this.data,Y,Z);for(et.children.push(B),rt(et,G);Y>=0&&Z[Y].children.length>this._maxEntries;)this._split(Z,Y),Y--;this._adjustParentBBoxes(G,Z,Y)},_split:function(B,Y){var j=B[Y],ht=j.children.length,G=this._minEntries;this._chooseSplitAxis(j,G,ht);var Z=this._chooseSplitIndex(j,G,ht),et=H(j.children.splice(Z,j.children.length-Z));et.height=j.height,et.leaf=j.leaf,ft(j,this.toBBox),ft(et,this.toBBox),Y?B[Y-1].children.push(et):this._splitRoot(j,et)},_splitRoot:function(B,Y){this.data=H([B,Y]),this.data.height=B.height+1,this.data.leaf=!1,ft(this.data,this.toBBox)},_chooseSplitIndex:function(B,Y,j){var ht,G,Z,et,k,It,dt,bt;for(It=dt=1/0,ht=Y;ht<=j-Y;ht++)et=Nt(G=wt(B,0,ht,this.toBBox),Z=wt(B,ht,j,this.toBBox)),k=At(G)+At(Z),et<It?(It=et,bt=ht,dt=k<dt?k:dt):et===It&&k<dt&&(dt=k,bt=ht);return bt},_chooseSplitAxis:function(B,Y,j){var ht=B.leaf?this.compareMinX:xt,G=B.leaf?this.compareMinY:Mt;this._allDistMargin(B,Y,j,ht)<this._allDistMargin(B,Y,j,G)&&B.children.sort(ht)},_allDistMargin:function(B,Y,j,ht){B.children.sort(ht);var It,dt,G=this.toBBox,Z=wt(B,0,Y,G),et=wt(B,j-Y,j,G),k=Gt(Z)+Gt(et);for(It=Y;It<j-Y;It++)dt=B.children[It],rt(Z,B.leaf?G(dt):dt),k+=Gt(Z);for(It=j-Y-1;It>=Y;It--)dt=B.children[It],rt(et,B.leaf?G(dt):dt),k+=Gt(et);return k},_adjustParentBBoxes:function(B,Y,j){for(var ht=j;ht>=0;ht--)rt(Y[ht],B)},_condense:function(B){for(var j,Y=B.length-1;Y>=0;Y--)0===B[Y].children.length?Y>0?(j=B[Y-1].children).splice(j.indexOf(B[Y]),1):this.clear():ft(B[Y],this.toBBox)},_initFormat:function(B){var Y=["return a"," - b",";"];this.compareMinX=new Function("a","b",Y.join(B[0])),this.compareMinY=new Function("a","b",Y.join(B[1])),this.toBBox=new Function("a","return {minX: a"+B[0]+", minY: a"+B[1]+", maxX: a"+B[2]+", maxY: a"+B[3]+"};")}}},3817:(te,Pt,$)=>{"use strict";var J=$(9789),tt=Object,yt=TypeError;te.exports=J(function(){if(null!=this&&this!==tt(this))throw new yt("RegExp.prototype.flags getter called on non-object");var wt="";return this.hasIndices&&(wt+="d"),this.global&&(wt+="g"),this.ignoreCase&&(wt+="i"),this.multiline&&(wt+="m"),this.dotAll&&(wt+="s"),this.unicode&&(wt+="u"),this.unicodeSets&&(wt+="v"),this.sticky&&(wt+="y"),wt},"get flags",!0)},1139:(te,Pt,$)=>{"use strict";var J=$(1648),tt=$(5436),yt=$(3817),ft=$(4861),wt=$(6002),rt=tt(ft());J(rt,{getPolyfill:ft,implementation:yt,shim:wt}),te.exports=rt},4861:(te,Pt,$)=>{"use strict";var J=$(3817),tt=$(1648).supportsDescriptors,yt=Object.getOwnPropertyDescriptor;te.exports=function(){if(tt&&"gim"===/a/gim.flags){var wt=yt(RegExp.prototype,"flags");if(wt&&"function"==typeof wt.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var rt="",xt={};if(Object.defineProperty(xt,"hasIndices",{get:function(){rt+="d"}}),Object.defineProperty(xt,"sticky",{get:function(){rt+="y"}}),"dy"===rt)return wt.get}}return J}},6002:(te,Pt,$)=>{"use strict";var J=$(1648).supportsDescriptors,tt=$(4861),yt=Object.getOwnPropertyDescriptor,ft=Object.defineProperty,wt=TypeError,rt=Object.getPrototypeOf,xt=/a/;te.exports=function(){if(!J||!rt)throw new wt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var At=tt(),Gt=rt(xt),Ft=yt(Gt,"flags");return(!Ft||Ft.get!==At)&&ft(Gt,"flags",{configurable:!0,enumerable:!1,get:At}),At}},6138:function(te,Pt){!function($){"use strict";function yt(Rt,ie,H,ot,B){let Y,j,ht,G,Z=ie[0],et=ot[0],k=0,It=0;et>Z==et>-Z?(Y=Z,Z=ie[++k]):(Y=et,et=ot[++It]);let dt=0;if(k<Rt&&It<H)for(et>Z==et>-Z?(ht=Y-((j=Z+Y)-Z),Z=ie[++k]):(ht=Y-((j=et+Y)-et),et=ot[++It]),Y=j,0!==ht&&(B[dt++]=ht);k<Rt&&It<H;)et>Z==et>-Z?(ht=Y-((j=Y+Z)-(G=j-Y))+(Z-G),Z=ie[++k]):(ht=Y-((j=Y+et)-(G=j-Y))+(et-G),et=ot[++It]),Y=j,0!==ht&&(B[dt++]=ht);for(;k<Rt;)ht=Y-((j=Y+Z)-(G=j-Y))+(Z-G),Z=ie[++k],Y=j,0!==ht&&(B[dt++]=ht);for(;It<H;)ht=Y-((j=Y+et)-(G=j-Y))+(et-G),et=ot[++It],Y=j,0!==ht&&(B[dt++]=ht);return 0===Y&&0!==dt||(B[dt++]=Y),dt}function ft(Rt){return new Float64Array(Rt)}const Mt=ft(4),At=ft(8),Gt=ft(12),Ft=ft(16),Nt=ft(4);$.orient2d=function(Rt,ie,H,ot,B,Y){const j=(ie-Y)*(H-B),ht=(Rt-B)*(ot-Y),G=j-ht;if(0===j||0===ht||j>0!=ht>0)return G;const Z=Math.abs(j+ht);return Math.abs(G)>=33306690738754716e-32*Z?G:-function(et,k,It,dt,bt,K,Jt){let Lt,lt,vt,at,gt,Ct,nt,Et,V,Ot,ut,Bt,Wt,Kt,jt,ve,ne,vn;const yn=et-bt,En=It-bt,Be=k-K,Tt=dt-K;gt=(jt=(Et=yn-(nt=(Ct=134217729*yn)-(Ct-yn)))*(Ot=Tt-(V=(Ct=134217729*Tt)-(Ct-Tt)))-((Kt=yn*Tt)-nt*V-Et*V-nt*Ot))-(ut=jt-(ne=(Et=Be-(nt=(Ct=134217729*Be)-(Ct-Be)))*(Ot=En-(V=(Ct=134217729*En)-(Ct-En)))-((ve=Be*En)-nt*V-Et*V-nt*Ot))),Mt[0]=jt-(ut+gt)+(gt-ne),gt=(Wt=Kt-((Bt=Kt+ut)-(gt=Bt-Kt))+(ut-gt))-(ut=Wt-ve),Mt[1]=Wt-(ut+gt)+(gt-ve),gt=(vn=Bt+ut)-Bt,Mt[2]=Bt-(vn-gt)+(ut-gt),Mt[3]=vn;let X=function(St,kt){let qt=kt[0];for(let Xt=1;Xt<4;Xt++)qt+=kt[Xt];return qt}(0,Mt),O=22204460492503146e-32*Jt;if(X>=O||-X>=O||(Lt=et-(yn+(gt=et-yn))+(gt-bt),vt=It-(En+(gt=It-En))+(gt-bt),lt=k-(Be+(gt=k-Be))+(gt-K),at=dt-(Tt+(gt=dt-Tt))+(gt-K),0===Lt&&0===lt&&0===vt&&0===at)||(O=11093356479670487e-47*Jt+33306690738754706e-32*Math.abs(X),(X+=yn*at+Tt*Lt-(Be*vt+En*lt))>=O||-X>=O))return X;gt=(jt=(Et=Lt-(nt=(Ct=134217729*Lt)-(Ct-Lt)))*(Ot=Tt-(V=(Ct=134217729*Tt)-(Ct-Tt)))-((Kt=Lt*Tt)-nt*V-Et*V-nt*Ot))-(ut=jt-(ne=(Et=lt-(nt=(Ct=134217729*lt)-(Ct-lt)))*(Ot=En-(V=(Ct=134217729*En)-(Ct-En)))-((ve=lt*En)-nt*V-Et*V-nt*Ot))),Nt[0]=jt-(ut+gt)+(gt-ne),gt=(Wt=Kt-((Bt=Kt+ut)-(gt=Bt-Kt))+(ut-gt))-(ut=Wt-ve),Nt[1]=Wt-(ut+gt)+(gt-ve),gt=(vn=Bt+ut)-Bt,Nt[2]=Bt-(vn-gt)+(ut-gt),Nt[3]=vn;const P=yt(4,Mt,4,Nt,At);gt=(jt=(Et=yn-(nt=(Ct=134217729*yn)-(Ct-yn)))*(Ot=at-(V=(Ct=134217729*at)-(Ct-at)))-((Kt=yn*at)-nt*V-Et*V-nt*Ot))-(ut=jt-(ne=(Et=Be-(nt=(Ct=134217729*Be)-(Ct-Be)))*(Ot=vt-(V=(Ct=134217729*vt)-(Ct-vt)))-((ve=Be*vt)-nt*V-Et*V-nt*Ot))),Nt[0]=jt-(ut+gt)+(gt-ne),gt=(Wt=Kt-((Bt=Kt+ut)-(gt=Bt-Kt))+(ut-gt))-(ut=Wt-ve),Nt[1]=Wt-(ut+gt)+(gt-ve),gt=(vn=Bt+ut)-Bt,Nt[2]=Bt-(vn-gt)+(ut-gt),Nt[3]=vn;const R=yt(P,At,4,Nt,Gt);gt=(jt=(Et=Lt-(nt=(Ct=134217729*Lt)-(Ct-Lt)))*(Ot=at-(V=(Ct=134217729*at)-(Ct-at)))-((Kt=Lt*at)-nt*V-Et*V-nt*Ot))-(ut=jt-(ne=(Et=lt-(nt=(Ct=134217729*lt)-(Ct-lt)))*(Ot=vt-(V=(Ct=134217729*vt)-(Ct-vt)))-((ve=lt*vt)-nt*V-Et*V-nt*Ot))),Nt[0]=jt-(ut+gt)+(gt-ne),gt=(Wt=Kt-((Bt=Kt+ut)-(gt=Bt-Kt))+(ut-gt))-(ut=Wt-ve),Nt[1]=Wt-(ut+gt)+(gt-ve),gt=(vn=Bt+ut)-Bt,Nt[2]=Bt-(vn-gt)+(ut-gt),Nt[3]=vn;const Q=yt(R,Gt,4,Nt,Ft);return Ft[Q-1]}(Rt,ie,H,ot,B,Y,Z)},$.orient2dfast=function(Rt,ie,H,ot,B,Y){return(ie-Y)*(H-B)-(Rt-B)*(ot-Y)},Object.defineProperty($,"__esModule",{value:!0})}(Pt)},2245:(te,Pt,$)=>{"use strict";var J=$(491),tt=$(9224),yt=$(2486)(),ft=$(9262),wt=J("%TypeError%"),rt=J("%Math.floor%");te.exports=function(Mt,At){if("function"!=typeof Mt)throw new wt("`fn` is not a function");if("number"!=typeof At||At<0||At>4294967295||rt(At)!==At)throw new wt("`length` must be a positive 32-bit integer");var Gt=arguments.length>2&&!!arguments[2],Ft=!0,Nt=!0;if("length"in Mt&&ft){var Rt=ft(Mt,"length");Rt&&!Rt.configurable&&(Ft=!1),Rt&&!Rt.writable&&(Nt=!1)}return(Ft||Nt||!Gt)&&(yt?tt(Mt,"length",At,!0,!0):tt(Mt,"length",At)),Mt}},9789:(te,Pt,$)=>{"use strict";var J=$(9224),tt=$(2486)(),yt=$(1552).functionsHaveConfigurableNames(),ft=TypeError;te.exports=function(rt,xt){if("function"!=typeof rt)throw new ft("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||yt)&&(tt?J(rt,"name",xt,!0,!0):J(rt,"name",xt)),rt}},9579:te=>{"use strict";te.exports={eudist:function($,J,tt){for(var yt=$.length,ft=0,wt=0;wt<yt;wt++){var rt=($[wt]||0)-(J[wt]||0);ft+=rt*rt}return tt?Math.sqrt(ft):ft},mandist:function($,J,tt){for(var yt=$.length,ft=0,wt=0;wt<yt;wt++)ft+=Math.abs(($[wt]||0)-(J[wt]||0));return tt?Math.sqrt(ft):ft},dist:function($,J,tt){var yt=Math.abs($-J);return tt?yt:yt*yt}}},7180:(te,Pt,$)=>{"use strict";var J=$(9579),tt=J.eudist,yt=J.dist;te.exports={kmrand:function(wt,rt){for(var xt={},Mt=[],At=rt<<2,Gt=wt.length,Ft=wt[0].length>0;Mt.length<rt&&At-- >0;){var Nt=wt[Math.floor(Math.random()*Gt)],Rt=Ft?Nt.join("_"):""+Nt;xt[Rt]||(xt[Rt]=!0,Mt.push(Nt))}if(Mt.length<rt)throw new Error("Error initializating clusters");return Mt},kmpp:function(wt,rt){var xt=wt[0].length?tt:yt,Mt=[],At=wt.length,Gt=wt[0].length>0,Nt=wt[Math.floor(Math.random()*At)];for(Gt&&Nt.join("_"),Mt.push(Nt);Mt.length<rt;){for(var ie=[],H=Mt.length,ot=0,B=[],Y=0;Y<At;Y++){for(var j=1/0,ht=0;ht<H;ht++){var G=xt(wt[Y],Mt[ht]);G<=j&&(j=G)}ie[Y]=j}for(var Z=0;Z<At;Z++)ot+=ie[Z];for(var et=0;et<At;et++)B[et]={i:et,v:wt[et],pr:ie[et]/ot,cs:0};B.sort(function(bt,K){return bt.pr-K.pr}),B[0].cs=B[0].pr;for(var k=1;k<At;k++)B[k].cs=B[k-1].cs+B[k].pr;for(var It=Math.random(),dt=0;dt<At-1&&B[dt++].cs<It;);Mt.push(B[dt-1].v)}return Mt}}},3282:(te,Pt,$)=>{"use strict";var J=$(9579),tt=$(7180),yt=J.eudist,rt=tt.kmrand,xt=tt.kmpp;function At(Ft,Nt,Rt){Rt=Rt||[];for(var ie=0;ie<Ft;ie++)Rt[ie]=Nt;return Rt}te.exports=function Gt(Ft,Nt,Rt,ie){var H=[],ot=[],B=[],Y=[],j=!1,ht=ie||1e4,G=Ft.length,Z=Ft[0].length,et=Z>0,k=[];if(Rt)H="kmrand"==Rt?rt(Ft,Nt):"kmpp"==Rt?xt(Ft,Nt):Rt;else for(var It={};H.length<Nt;){var dt=Math.floor(Math.random()*G);It[dt]||(It[dt]=!0,H.push(Ft[dt]))}do{At(Nt,0,k);for(var bt=0;bt<G;bt++){for(var K=1/0,Jt=0,Lt=0;Lt<Nt;Lt++)(Y=et?yt(Ft[bt],H[Lt]):Math.abs(Ft[bt]-H[Lt]))<=K&&(K=Y,Jt=Lt);B[bt]=Jt,k[Jt]++}for(var lt=[],at=(ot=[],0);at<Nt;at++)lt[at]=et?At(Z,0,lt[at]):0,ot[at]=H[at];if(et){for(var gt=0;gt<Nt;gt++)H[gt]=[];for(var Ct=0;Ct<G;Ct++)for(var Et=lt[B[Ct]],V=Ft[Ct],Ot=0;Ot<Z;Ot++)Et[Ot]+=V[Ot];j=!0;for(var ut=0;ut<Nt;ut++){for(var Bt=H[ut],Wt=lt[ut],Kt=ot[ut],jt=k[ut],ve=0;ve<Z;ve++)Bt[ve]=Wt[ve]/jt||0;if(j)for(var ne=0;ne<Z;ne++)if(Kt[ne]!=Bt[ne]){j=!1;break}}}else{for(var vn=0;vn<G;vn++)lt[B[vn]]+=Ft[vn];for(var En=0;En<Nt;En++)H[En]=lt[En]/k[En]||0;j=!0;for(var Be=0;Be<Nt;Be++)if(ot[Be]!=H[Be]){j=!1;break}}j=j||--ht<=0}while(!j);return{it:1e4-ht,k:Nt,idxs:B,centroids:H}}},7935:(te,Pt,$)=>{"use strict";$.r(Pt),$.d(Pt,{default:()=>J});class J{constructor(ft=[],wt=tt){if(this.data=ft,this.length=this.data.length,this.compare=wt,this.length>0)for(let rt=(this.length>>1)-1;rt>=0;rt--)this._down(rt)}push(ft){this.data.push(ft),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const ft=this.data[0],wt=this.data.pop();return this.length--,this.length>0&&(this.data[0]=wt,this._down(0)),ft}peek(){return this.data[0]}_up(ft){const{data:wt,compare:rt}=this,xt=wt[ft];for(;ft>0;){const Mt=ft-1>>1,At=wt[Mt];if(rt(xt,At)>=0)break;wt[ft]=At,ft=Mt}wt[ft]=xt}_down(ft){const{data:wt,compare:rt}=this,xt=this.length>>1,Mt=wt[ft];for(;ft<xt;){let At=1+(ft<<1),Gt=wt[At];const Ft=At+1;if(Ft<this.length&&rt(wt[Ft],Gt)<0&&(At=Ft,Gt=wt[Ft]),rt(Gt,Mt)>=0)break;wt[ft]=Gt,ft=At}wt[ft]=Mt}}function tt(yt,ft){return yt<ft?-1:yt>ft?1:0}},4855:function(te,Pt){!function($){"use strict";function J(){}function tt(a){this.message=a||""}function yt(a){this.message=a||""}function ft(a){this.message=a||""}function wt(){}function rt(a){return null===a?Kr:a.color}function xt(a){return null===a?null:a.parent}function Mt(a,l){null!==a&&(a.color=l)}function At(a){return null===a?null:a.left}function Gt(a){return null===a?null:a.right}function Ft(){this.root_=null,this.size_=0}function Nt(){}function Rt(){this.array_=[],arguments[0]instanceof Ti&&this.addAll(arguments[0])}function ie(){}function H(a){this.message=a||""}function ot(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(a){if(null==this)throw new TypeError(this+" is not an object");var l=Object(this),d=Math.max(Math.min(l.length,9007199254740991),0)||0,g=1 in arguments&&parseInt(Number(arguments[1]),10)||0;g=g<0?Math.max(d+g,0):Math.min(g,d);var y=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:d;for(y=y<0?Math.max(d+arguments[2],0):Math.min(y,d);g<y;)l[g]=a,++g;return l},writable:!0}),Number.isFinite=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},Number.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(a){return a!=a},Math.trunc=Math.trunc||function(a){return a<0?Math.ceil(a):Math.floor(a)};var B=function(){};B.prototype.interfaces_=function(){return[]},B.prototype.getClass=function(){return B},B.prototype.equalsWithTolerance=function(a,l,d){return Math.abs(a-l)<=d};var Y=function(a){function l(d){a.call(this,d),this.name="IllegalArgumentException",this.message=d,this.stack=(new a).stack}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(Error),j=function(){},ht={MAX_VALUE:{configurable:!0}};j.isNaN=function(a){return Number.isNaN(a)},j.doubleToLongBits=function(a){return a},j.longBitsToDouble=function(a){return a},j.isInfinite=function(a){return!Number.isFinite(a)},ht.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(j,ht);var G=function(){},Z=function(){},et=function(){},k=function a(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=a.NULL_ORDINATE;else if(1===arguments.length){var l=arguments[0];this.x=l.x,this.y=l.y,this.z=l.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=a.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},It={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};k.prototype.setOrdinate=function(a,l){switch(a){case k.X:this.x=l;break;case k.Y:this.y=l;break;case k.Z:this.z=l;break;default:throw new Y("Invalid ordinate index: "+a)}},k.prototype.equals2D=function(){if(1===arguments.length){var a=arguments[0];return this.x===a.x&&this.y===a.y}if(2===arguments.length){var l=arguments[0],d=arguments[1];return!!B.equalsWithTolerance(this.x,l.x,d)&&!!B.equalsWithTolerance(this.y,l.y,d)}},k.prototype.getOrdinate=function(a){switch(a){case k.X:return this.x;case k.Y:return this.y;case k.Z:return this.z}throw new Y("Invalid ordinate index: "+a)},k.prototype.equals3D=function(a){return this.x===a.x&&this.y===a.y&&(this.z===a.z||j.isNaN(this.z))&&j.isNaN(a.z)},k.prototype.equals=function(a){return a instanceof k&&this.equals2D(a)},k.prototype.equalInZ=function(a,l){return B.equalsWithTolerance(this.z,a.z,l)},k.prototype.compareTo=function(a){return this.x<a.x?-1:this.x>a.x?1:this.y<a.y?-1:this.y>a.y?1:0},k.prototype.clone=function(){},k.prototype.copy=function(){return new k(this)},k.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},k.prototype.distance3D=function(a){var l=this.x-a.x,d=this.y-a.y,g=this.z-a.z;return Math.sqrt(l*l+d*d+g*g)},k.prototype.distance=function(a){var l=this.x-a.x,d=this.y-a.y;return Math.sqrt(l*l+d*d)},k.prototype.hashCode=function(){var a=17;return 37*(a=37*a+k.hashCode(this.x))+k.hashCode(this.y)},k.prototype.setCoordinate=function(a){this.x=a.x,this.y=a.y,this.z=a.z},k.prototype.interfaces_=function(){return[G,Z,J]},k.prototype.getClass=function(){return k},k.hashCode=function(){if(1===arguments.length){var l=j.doubleToLongBits(arguments[0]);return Math.trunc((l^l)>>>32)}},It.DimensionalComparator.get=function(){return dt},It.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},It.NULL_ORDINATE.get=function(){return j.NaN},It.X.get=function(){return 0},It.Y.get=function(){return 1},It.Z.get=function(){return 2},Object.defineProperties(k,It);var dt=function(a){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var l=arguments[0];if(2!==l&&3!==l)throw new Y("only 2 or 3 dimensions may be specified");this._dimensionsToTest=l}};dt.prototype.compare=function(a,l){var d=a,g=l,y=dt.compare(d.x,g.x);if(0!==y)return y;var x=dt.compare(d.y,g.y);return 0!==x?x:this._dimensionsToTest<=2?0:dt.compare(d.z,g.z)},dt.prototype.interfaces_=function(){return[et]},dt.prototype.getClass=function(){return dt},dt.compare=function(a,l){return a<l?-1:a>l?1:j.isNaN(a)?j.isNaN(l)?0:-1:j.isNaN(l)?1:0};var bt=function(){};bt.prototype.create=function(){},bt.prototype.interfaces_=function(){return[]},bt.prototype.getClass=function(){return bt};var K=function(){},Jt={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};K.prototype.interfaces_=function(){return[]},K.prototype.getClass=function(){return K},K.toLocationSymbol=function(a){switch(a){case K.EXTERIOR:return"e";case K.BOUNDARY:return"b";case K.INTERIOR:return"i";case K.NONE:return"-"}throw new Y("Unknown location value: "+a)},Jt.INTERIOR.get=function(){return 0},Jt.BOUNDARY.get=function(){return 1},Jt.EXTERIOR.get=function(){return 2},Jt.NONE.get=function(){return-1},Object.defineProperties(K,Jt);var Lt=function(a,l){return a.interfaces_&&a.interfaces_().indexOf(l)>-1},lt=function(){},vt={LOG_10:{configurable:!0}};lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt},lt.log10=function(a){var l=Math.log(a);return j.isInfinite(l)||j.isNaN(l)?l:l/lt.LOG_10},lt.min=function(a,l,d,g){var y=a;return l<y&&(y=l),d<y&&(y=d),g<y&&(y=g),y},lt.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],d=arguments[2];return a<l?l:a>d?d:a}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var g=arguments[0],y=arguments[1],x=arguments[2];return g<y?y:g>x?x:g}},lt.wrap=function(a,l){return a<0?l- -a%l:a%l},lt.max=function(){if(3===arguments.length){var l=arguments[1],d=arguments[2],g=arguments[0];return l>g&&(g=l),d>g&&(g=d),g}if(4===arguments.length){var x=arguments[1],S=arguments[2],F=arguments[3],st=arguments[0];return x>st&&(st=x),S>st&&(st=S),F>st&&(st=F),st}},lt.average=function(a,l){return(a+l)/2},vt.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(lt,vt);var at=function(a){this.str=a};at.prototype.append=function(a){this.str+=a},at.prototype.setCharAt=function(a,l){this.str=this.str.substr(0,a)+l+this.str.substr(a+1)},at.prototype.toString=function(a){return this.str};var gt=function(a){this.value=a};gt.prototype.intValue=function(){return this.value},gt.prototype.compareTo=function(a){return this.value<a?-1:this.value>a?1:0},gt.isNaN=function(a){return Number.isNaN(a)};var Ct=function(){};Ct.isWhitespace=function(a){return a<=32&&a>=0||127===a},Ct.toUpperCase=function(a){return a.toUpperCase()};var nt=function a(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof a?this.init(arguments[0]):"string"==typeof arguments[0]&&a.call(this,a.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Et={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};nt.prototype.le=function(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<=a._lo},nt.prototype.extractSignificantDigits=function(a,l){var d=this.abs(),g=nt.magnitude(d._hi),y=nt.TEN.pow(g);(d=d.divide(y)).gt(nt.TEN)?(d=d.divide(nt.TEN),g+=1):d.lt(nt.ONE)&&(d=d.multiply(nt.TEN),g-=1);for(var x=g+1,S=new at,F=nt.MAX_PRINT_DIGITS-1,st=0;st<=F;st++){a&&st===x&&S.append(".");var Dt=Math.trunc(d._hi);if(Dt<0)break;var Ht=!1,$t=0;Dt>9?(Ht=!0,$t="9"):$t="0"+Dt,S.append($t),d=d.subtract(nt.valueOf(Dt)).multiply(nt.TEN),Ht&&d.selfAdd(nt.TEN);var ge=!0,be=nt.magnitude(d._hi);if(be<0&&Math.abs(be)>=F-st&&(ge=!1),!ge)break}return l[0]=g,S.toString()},nt.prototype.sqr=function(){return this.multiply(this)},nt.prototype.doubleValue=function(){return this._hi+this._lo},nt.prototype.subtract=function(){return arguments[0]instanceof nt?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},nt.prototype.equals=function(){if(1===arguments.length){var a=arguments[0];return this._hi===a._hi&&this._lo===a._lo}},nt.prototype.isZero=function(){return 0===this._hi&&0===this._lo},nt.prototype.selfSubtract=function(){if(arguments[0]instanceof nt){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a._hi,-a._lo)}if("number"==typeof arguments[0]){var l=arguments[0];return this.isNaN()?this:this.selfAdd(-l,0)}},nt.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},nt.prototype.min=function(a){return this.le(a)?this:a},nt.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof nt){var a=arguments[0];return this.selfDivide(a._hi,a._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var x,F,st,Ht,d=arguments[0],y=null,S=null,Dt=null,$t=null;return this._hi=$t=(st=this._hi/d)+(Dt=(this._hi-(Ht=st*d)-($t=(y=(Dt=nt.SPLIT*st)-(y=Dt-st))*(S=($t=nt.SPLIT*d)-(S=$t-d))-Ht+y*(F=d-S)+(x=st-y)*S+x*F)+this._lo-st*arguments[1])/d),this._lo=st-$t+Dt,this}},nt.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},nt.prototype.divide=function(){if(arguments[0]instanceof nt){var d,y,x,F,a=arguments[0],l=null,g=null,S=null,st=null;return d=(x=this._hi/a._hi)-(l=(S=nt.SPLIT*x)-(l=S-x)),st=l*(g=(st=nt.SPLIT*a._hi)-(g=st-a._hi))-(F=x*a._hi)+l*(y=a._hi-g)+d*g+d*y,new nt(st=x+(S=(this._hi-F-st+this._lo-x*a._lo)/a._hi),x-st+S)}if("number"==typeof arguments[0]){var Dt=arguments[0];return j.isNaN(Dt)?nt.createNaN():nt.copy(this).selfDivide(Dt,0)}},nt.prototype.ge=function(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>=a._lo},nt.prototype.pow=function(a){if(0===a)return nt.valueOf(1);var l=new nt(this),d=nt.valueOf(1),g=Math.abs(a);if(g>1)for(;g>0;)g%2==1&&d.selfMultiply(l),(g/=2)>0&&(l=l.sqr());else d=l;return a<0?d.reciprocal():d},nt.prototype.ceil=function(){if(this.isNaN())return nt.NaN;var a=Math.ceil(this._hi),l=0;return a===this._hi&&(l=Math.ceil(this._lo)),new nt(a,l)},nt.prototype.compareTo=function(a){return this._hi<a._hi?-1:this._hi>a._hi?1:this._lo<a._lo?-1:this._lo>a._lo?1:0},nt.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},nt.prototype.setValue=function(){return arguments[0]instanceof nt||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},nt.prototype.max=function(a){return this.ge(a)?this:a},nt.prototype.sqrt=function(){if(this.isZero())return nt.valueOf(0);if(this.isNegative())return nt.NaN;var a=1/Math.sqrt(this._hi),d=nt.valueOf(this._hi*a),g=this.subtract(d.sqr())._hi*(.5*a);return d.add(g)},nt.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof nt){var a=arguments[0];return this.selfAdd(a._hi,a._lo)}if("number"==typeof arguments[0]){var d,g,y,S,F,l=arguments[0];return this._hi=(d=(y=this._hi+l)+(F=l-(S=y-this._hi)+(this._hi-(y-S))+this._lo))+(g=F+(y-d)),this._lo=g+(d-this._hi),this}}else if(2===arguments.length){var Ht,$t,be,Ci,st=arguments[0],Dt=arguments[1],ge=null,Oe=null,Xe=null;Oe=(be=this._hi+st)-(Xe=be-this._hi),ge=($t=this._lo+Dt)-(Ci=$t-this._lo);var Yr=(Ht=be+(Xe=(Oe=st-Xe+(this._hi-Oe))+$t))+(Xe=(ge=Dt-Ci+(this._lo-ge))+(Xe+(be-Ht))),Jo=Xe+(Ht-Yr);return this._hi=Yr,this._lo=Jo,this}},nt.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof nt){var a=arguments[0];return this.selfMultiply(a._hi,a._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var x,F,d=arguments[0],y=null,S=null,st=null,Dt=null;y=(st=nt.SPLIT*this._hi)-this._hi,y=st-y;var Ht=(st=this._hi*d)+(Dt=y*(S=(Dt=nt.SPLIT*d)-(S=Dt-d))-st+y*(F=d-S)+(x=this._hi-y)*S+x*F+(this._hi*arguments[1]+this._lo*d)),$t=Dt+(y=st-Ht);return this._hi=Ht,this._lo=$t,this}},nt.prototype.selfSqr=function(){return this.selfMultiply(this)},nt.prototype.floor=function(){if(this.isNaN())return nt.NaN;var a=Math.floor(this._hi),l=0;return a===this._hi&&(l=Math.floor(this._lo)),new nt(a,l)},nt.prototype.negate=function(){return this.isNaN()?this:new nt(-this._hi,-this._lo)},nt.prototype.clone=function(){},nt.prototype.multiply=function(){if(arguments[0]instanceof nt){var a=arguments[0];return a.isNaN()?nt.createNaN():nt.copy(this).selfMultiply(a)}if("number"==typeof arguments[0]){var l=arguments[0];return j.isNaN(l)?nt.createNaN():nt.copy(this).selfMultiply(l,0)}},nt.prototype.isNaN=function(){return j.isNaN(this._hi)},nt.prototype.intValue=function(){return Math.trunc(this._hi)},nt.prototype.toString=function(){var a=nt.magnitude(this._hi);return a>=-3&&a<=20?this.toStandardNotation():this.toSciNotation()},nt.prototype.toStandardNotation=function(){var a=this.getSpecialNumberString();if(null!==a)return a;var l=new Array(1).fill(null),d=this.extractSignificantDigits(!0,l),g=l[0]+1,y=d;return"."===d.charAt(0)?y="0"+d:g<0?y="0."+nt.stringOfChar("0",-g)+d:-1===d.indexOf(".")&&(y=d+nt.stringOfChar("0",g-d.length)+".0"),this.isNegative()?"-"+y:y},nt.prototype.reciprocal=function(){var l,g,y,S,a=null,d=null,x=null,F=null;l=(y=1/this._hi)-(a=(x=nt.SPLIT*y)-(a=x-y)),d=(F=nt.SPLIT*this._hi)-this._hi;var st=y+(x=(1-(S=y*this._hi)-(F=a*(d=F-d)-S+a*(g=this._hi-d)+l*d+l*g)-y*this._lo)/this._hi);return new nt(st,y-st+x)},nt.prototype.toSciNotation=function(){if(this.isZero())return nt.SCI_NOT_ZERO;var a=this.getSpecialNumberString();if(null!==a)return a;var l=new Array(1).fill(null),d=this.extractSignificantDigits(!1,l),g=nt.SCI_NOT_EXPONENT_CHAR+l[0];if("0"===d.charAt(0))throw new Error("Found leading zero: "+d);var y="";d.length>1&&(y=d.substring(1));var x=d.charAt(0)+"."+y;return this.isNegative()?"-"+x+g:x+g},nt.prototype.abs=function(){return this.isNaN()?nt.NaN:this.isNegative()?this.negate():new nt(this)},nt.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},nt.prototype.lt=function(a){return(this._hi<a._hi||this._hi===a._hi)&&this._lo<a._lo},nt.prototype.add=function(){if(arguments[0]instanceof nt){var a=arguments[0];return nt.copy(this).selfAdd(a)}if("number"==typeof arguments[0]){var l=arguments[0];return nt.copy(this).selfAdd(l)}},nt.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof nt){var l=arguments[0];this._hi=l._hi,this._lo=l._lo}}else if(2===arguments.length){var g=arguments[1];this._hi=arguments[0],this._lo=g}},nt.prototype.gt=function(a){return(this._hi>a._hi||this._hi===a._hi)&&this._lo>a._lo},nt.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},nt.prototype.trunc=function(){return this.isNaN()?nt.NaN:this.isPositive()?this.floor():this.ceil()},nt.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},nt.prototype.interfaces_=function(){return[J,G,Z]},nt.prototype.getClass=function(){return nt},nt.sqr=function(a){return nt.valueOf(a).selfMultiply(a)},nt.valueOf=function(){return"string"==typeof arguments[0]?nt.parse(arguments[0]):"number"==typeof arguments[0]?new nt(arguments[0]):void 0},nt.sqrt=function(a){return nt.valueOf(a).sqrt()},nt.parse=function(a){for(var l=0,d=a.length;Ct.isWhitespace(a.charAt(l));)l++;var g=!1;if(l<d){var y=a.charAt(l);"-"!==y&&"+"!==y||(l++,"-"===y&&(g=!0))}for(var x=new nt,S=0,F=0,st=0;!(l>=d);){var Dt=a.charAt(l);if(l++,Ct.isDigit(Dt)){var Ht=Dt-"0";x.selfMultiply(nt.TEN),x.selfAdd(Ht),S++}else{if("."!==Dt){if("e"===Dt||"E"===Dt){var $t=a.substring(l);try{st=gt.parseInt($t)}catch(Ci){throw Ci instanceof Error?new Error("Invalid exponent "+$t+" in string "+a):Ci}break}throw new Error("Unexpected character '"+Dt+"' at position "+l+" in string "+a)}F=S}}var ge=x,be=S-F-st;if(0===be)ge=x;else if(be>0){var Oe=nt.TEN.pow(be);ge=x.divide(Oe)}else if(be<0){var Xe=nt.TEN.pow(-be);ge=x.multiply(Xe)}return g?ge.negate():ge},nt.createNaN=function(){return new nt(j.NaN,j.NaN)},nt.copy=function(a){return new nt(a)},nt.magnitude=function(a){var l=Math.abs(a),d=Math.log(l)/Math.log(10),g=Math.trunc(Math.floor(d));return 10*Math.pow(10,g)<=l&&(g+=1),g},nt.stringOfChar=function(a,l){for(var d=new at,g=0;g<l;g++)d.append(a);return d.toString()},Et.PI.get=function(){return new nt(3.141592653589793,12246467991473532e-32)},Et.TWO_PI.get=function(){return new nt(6.283185307179586,24492935982947064e-32)},Et.PI_2.get=function(){return new nt(1.5707963267948966,6123233995736766e-32)},Et.E.get=function(){return new nt(2.718281828459045,14456468917292502e-32)},Et.NaN.get=function(){return new nt(j.NaN,j.NaN)},Et.EPS.get=function(){return 123259516440783e-46},Et.SPLIT.get=function(){return 134217729},Et.MAX_PRINT_DIGITS.get=function(){return 32},Et.TEN.get=function(){return nt.valueOf(10)},Et.ONE.get=function(){return nt.valueOf(1)},Et.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Et.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(nt,Et);var V=function(){},Ot={DP_SAFE_EPSILON:{configurable:!0}};V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.orientationIndex=function(a,l,d){var g=V.orientationIndexFilter(a,l,d);if(g<=1)return g;var y=nt.valueOf(l.x).selfAdd(-a.x),x=nt.valueOf(l.y).selfAdd(-a.y),S=nt.valueOf(d.x).selfAdd(-l.x),F=nt.valueOf(d.y).selfAdd(-l.y);return y.selfMultiply(F).selfSubtract(x.selfMultiply(S)).signum()},V.signOfDet2x2=function(a,l,d,g){return a.multiply(g).selfSubtract(l.multiply(d)).signum()},V.intersection=function(a,l,d,g){var y=nt.valueOf(g.y).selfSubtract(d.y).selfMultiply(nt.valueOf(l.x).selfSubtract(a.x)),x=nt.valueOf(g.x).selfSubtract(d.x).selfMultiply(nt.valueOf(l.y).selfSubtract(a.y)),S=y.subtract(x),F=nt.valueOf(g.x).selfSubtract(d.x).selfMultiply(nt.valueOf(a.y).selfSubtract(d.y)),st=nt.valueOf(g.y).selfSubtract(d.y).selfMultiply(nt.valueOf(a.x).selfSubtract(d.x)),Dt=F.subtract(st).selfDivide(S).doubleValue(),Ht=nt.valueOf(a.x).selfAdd(nt.valueOf(l.x).selfSubtract(a.x).selfMultiply(Dt)).doubleValue(),$t=nt.valueOf(l.x).selfSubtract(a.x).selfMultiply(nt.valueOf(a.y).selfSubtract(d.y)),ge=nt.valueOf(l.y).selfSubtract(a.y).selfMultiply(nt.valueOf(a.x).selfSubtract(d.x)),be=$t.subtract(ge).selfDivide(S).doubleValue(),Oe=nt.valueOf(d.y).selfAdd(nt.valueOf(g.y).selfSubtract(d.y).selfMultiply(be)).doubleValue();return new k(Ht,Oe)},V.orientationIndexFilter=function(a,l,d){var g=null,y=(a.x-d.x)*(l.y-d.y),x=(a.y-d.y)*(l.x-d.x),S=y-x;if(y>0){if(x<=0)return V.signum(S);g=y+x}else{if(!(y<0)||x>=0)return V.signum(S);g=-y-x}var F=V.DP_SAFE_EPSILON*g;return S>=F||-S>=F?V.signum(S):2},V.signum=function(a){return a>0?1:a<0?-1:0},Ot.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(V,Ot);var ut=function(){},Bt={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Bt.X.get=function(){return 0},Bt.Y.get=function(){return 1},Bt.Z.get=function(){return 2},Bt.M.get=function(){return 3},ut.prototype.setOrdinate=function(a,l,d){},ut.prototype.size=function(){},ut.prototype.getOrdinate=function(a,l){},ut.prototype.getCoordinate=function(){},ut.prototype.getCoordinateCopy=function(a){},ut.prototype.getDimension=function(){},ut.prototype.getX=function(a){},ut.prototype.clone=function(){},ut.prototype.expandEnvelope=function(a){},ut.prototype.copy=function(){},ut.prototype.getY=function(a){},ut.prototype.toCoordinateArray=function(){},ut.prototype.interfaces_=function(){return[Z]},ut.prototype.getClass=function(){return ut},Object.defineProperties(ut,Bt);var Wt=function(){},Kt=function(a){function l(){a.call(this,"Projective point not representable on the Cartesian plane.")}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Wt),jt=function(){};jt.arraycopy=function(a,l,d,g,y){for(var x=0,S=l;S<l+y;S++)d[g+x]=a[S],x++},jt.getProperty=function(a){return{"line.separator":"\n"}[a]};var ve=function a(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var l=arguments[0];this.x=l.x,this.y=l.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var g=arguments[1];this.x=arguments[0],this.y=g,this.w=1}else if(arguments[0]instanceof a&&arguments[1]instanceof a){var y=arguments[0],x=arguments[1];this.x=y.y*x.w-x.y*y.w,this.y=x.x*y.w-y.x*x.w,this.w=y.x*x.y-x.x*y.y}else if(arguments[0]instanceof k&&arguments[1]instanceof k){var S=arguments[0],F=arguments[1];this.x=S.y-F.y,this.y=F.x-S.x,this.w=S.x*F.y-F.x*S.y}}else if(3===arguments.length){var Dt=arguments[1],Ht=arguments[2];this.x=arguments[0],this.y=Dt,this.w=Ht}else if(4===arguments.length){var $t=arguments[0],ge=arguments[1],be=arguments[2],Oe=arguments[3],Xe=$t.y-ge.y,Ci=ge.x-$t.x,Yr=$t.x*ge.y-ge.x*$t.y,Jo=be.y-Oe.y,du=Oe.x-be.x,sl=be.x*Oe.y-Oe.x*be.y;this.x=Ci*sl-du*Yr,this.y=Jo*Yr-Xe*sl,this.w=Xe*du-Jo*Ci}};ve.prototype.getY=function(){var a=this.y/this.w;if(j.isNaN(a)||j.isInfinite(a))throw new Kt;return a},ve.prototype.getX=function(){var a=this.x/this.w;if(j.isNaN(a)||j.isInfinite(a))throw new Kt;return a},ve.prototype.getCoordinate=function(){var a=new k;return a.x=this.getX(),a.y=this.getY(),a},ve.prototype.interfaces_=function(){return[]},ve.prototype.getClass=function(){return ve},ve.intersection=function(a,l,d,g){var y=a.y-l.y,x=l.x-a.x,S=a.x*l.y-l.x*a.y,F=d.y-g.y,st=g.x-d.x,Dt=d.x*g.y-g.x*d.y,Ht=y*st-F*x,$t=(x*Dt-st*S)/Ht,ge=(F*S-y*Dt)/Ht;if(j.isNaN($t)||j.isInfinite($t)||j.isNaN(ge)||j.isInfinite(ge))throw new Kt;return new k($t,ge)};var ne=function a(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof k){var l=arguments[0];this.init(l.x,l.x,l.y,l.y)}else arguments[0]instanceof a&&this.init(arguments[0]);else if(2===arguments.length){var g=arguments[0],y=arguments[1];this.init(g.x,y.x,g.y,y.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},vn={serialVersionUID:{configurable:!0}};ne.prototype.getArea=function(){return this.getWidth()*this.getHeight()},ne.prototype.equals=function(a){if(!(a instanceof ne))return!1;var l=a;return this.isNull()?l.isNull():this._maxx===l.getMaxX()&&this._maxy===l.getMaxY()&&this._minx===l.getMinX()&&this._miny===l.getMinY()},ne.prototype.intersection=function(a){return this.isNull()||a.isNull()||!this.intersects(a)?new ne:new ne(this._minx>a._minx?this._minx:a._minx,this._maxx<a._maxx?this._maxx:a._maxx,this._miny>a._miny?this._miny:a._miny,this._maxy<a._maxy?this._maxy:a._maxy)},ne.prototype.isNull=function(){return this._maxx<this._minx},ne.prototype.getMaxX=function(){return this._maxx},ne.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return this.covers(a.x,a.y)}if(arguments[0]instanceof ne){var l=arguments[0];return!this.isNull()&&!l.isNull()&&l.getMinX()>=this._minx&&l.getMaxX()<=this._maxx&&l.getMinY()>=this._miny&&l.getMaxY()<=this._maxy}}else if(2===arguments.length){var d=arguments[0],g=arguments[1];return!this.isNull()&&d>=this._minx&&d<=this._maxx&&g>=this._miny&&g<=this._maxy}},ne.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof ne){var a=arguments[0];return!this.isNull()&&!a.isNull()&&!(a._minx>this._maxx||a._maxx<this._minx||a._miny>this._maxy||a._maxy<this._miny)}if(arguments[0]instanceof k){var l=arguments[0];return this.intersects(l.x,l.y)}}else if(2===arguments.length){var d=arguments[0],g=arguments[1];return!this.isNull()&&!(d>this._maxx||d<this._minx||g>this._maxy||g<this._miny)}},ne.prototype.getMinY=function(){return this._miny},ne.prototype.getMinX=function(){return this._minx},ne.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];this.expandToInclude(a.x,a.y)}else if(arguments[0]instanceof ne){var l=arguments[0];if(l.isNull())return null;this.isNull()?(this._minx=l.getMinX(),this._maxx=l.getMaxX(),this._miny=l.getMinY(),this._maxy=l.getMaxY()):(l._minx<this._minx&&(this._minx=l._minx),l._maxx>this._maxx&&(this._maxx=l._maxx),l._miny<this._miny&&(this._miny=l._miny),l._maxy>this._maxy&&(this._maxy=l._maxy))}}else if(2===arguments.length){var d=arguments[0],g=arguments[1];this.isNull()?(this._minx=d,this._maxx=d,this._miny=g,this._maxy=g):(d<this._minx&&(this._minx=d),d>this._maxx&&(this._maxx=d),g<this._miny&&(this._miny=g),g>this._maxy&&(this._maxy=g))}},ne.prototype.minExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),l=this.getHeight();return a<l?a:l},ne.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},ne.prototype.compareTo=function(a){var l=a;return this.isNull()?l.isNull()?0:-1:l.isNull()?1:this._minx<l._minx?-1:this._minx>l._minx?1:this._miny<l._miny?-1:this._miny>l._miny?1:this._maxx<l._maxx?-1:this._maxx>l._maxx?1:this._maxy<l._maxy?-1:this._maxy>l._maxy?1:0},ne.prototype.translate=function(a,l){if(this.isNull())return null;this.init(this.getMinX()+a,this.getMaxX()+a,this.getMinY()+l,this.getMaxY()+l)},ne.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},ne.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},ne.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},ne.prototype.maxExtent=function(){if(this.isNull())return 0;var a=this.getWidth(),l=this.getHeight();return a>l?a:l},ne.prototype.expandBy=function(){if(1===arguments.length){var a=arguments[0];this.expandBy(a,a)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this.isNull())return null;this._minx-=l,this._maxx+=l,this._miny-=d,this._maxy+=d,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},ne.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof ne)return this.covers(arguments[0]);if(arguments[0]instanceof k)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},ne.prototype.centre=function(){return this.isNull()?null:new k((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},ne.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else if(arguments[0]instanceof ne){var l=arguments[0];this._minx=l._minx,this._maxx=l._maxx,this._miny=l._miny,this._maxy=l._maxy}}else if(2===arguments.length){var d=arguments[0],g=arguments[1];this.init(d.x,g.x,d.y,g.y)}else if(4===arguments.length){var y=arguments[0],x=arguments[1],S=arguments[2],F=arguments[3];y<x?(this._minx=y,this._maxx=x):(this._minx=x,this._maxx=y),S<F?(this._miny=S,this._maxy=F):(this._miny=F,this._maxy=S)}},ne.prototype.getMaxY=function(){return this._maxy},ne.prototype.distance=function(a){if(this.intersects(a))return 0;var l=0;this._maxx<a._minx?l=a._minx-this._maxx:this._minx>a._maxx&&(l=this._minx-a._maxx);var d=0;return this._maxy<a._miny?d=a._miny-this._maxy:this._miny>a._maxy&&(d=this._miny-a._maxy),0===l?d:0===d?l:Math.sqrt(l*l+d*d)},ne.prototype.hashCode=function(){var a=17;return 37*(a=37*(a=37*(a=37*a+k.hashCode(this._minx))+k.hashCode(this._maxx))+k.hashCode(this._miny))+k.hashCode(this._maxy)},ne.prototype.interfaces_=function(){return[G,J]},ne.prototype.getClass=function(){return ne},ne.intersects=function(){if(3===arguments.length){var a=arguments[0],l=arguments[1],d=arguments[2];return d.x>=(a.x<l.x?a.x:l.x)&&d.x<=(a.x>l.x?a.x:l.x)&&d.y>=(a.y<l.y?a.y:l.y)&&d.y<=(a.y>l.y?a.y:l.y)}if(4===arguments.length){var g=arguments[0],y=arguments[1],x=arguments[2],S=arguments[3],F=Math.min(x.x,S.x),st=Math.max(x.x,S.x),Dt=Math.min(g.x,y.x),Ht=Math.max(g.x,y.x);return!(Dt>st||Ht<F||(F=Math.min(x.y,S.y),st=Math.max(x.y,S.y),Dt=Math.min(g.y,y.y),Ht=Math.max(g.y,y.y),Dt>st||Ht<F))}},vn.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(ne,vn);var yn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},En=function(a){this.geometryFactory=a||new Ve};En.prototype.read=function(a){var l,d;a=a.replace(/[\n\r]/g," ");var y=yn.typeStr.exec(a);if(-1!==a.search("EMPTY")&&((y=yn.emptyTypeStr.exec(a))[2]=void 0),y&&(d=y[1].toLowerCase(),Tt[d]&&(l=Tt[d].apply(this,[y[2]]))),void 0===l)throw new Error("Could not parse WKT "+a);return l},En.prototype.write=function(a){return this.extractGeometry(a)},En.prototype.extractGeometry=function(a){var l=a.getGeometryType().toLowerCase();if(!Be[l])return null;var d=l.toUpperCase();return a.isEmpty()?d+" EMPTY":d+"("+Be[l].apply(this,[a])+")"};var Be={coordinate:function(a){return a.x+" "+a.y},point:function(a){return Be.coordinate.call(this,a._coordinates._coordinates[0])},multipoint:function(a){for(var l=[],d=0,g=a._geometries.length;d<g;++d)l.push("("+Be.point.apply(this,[a._geometries[d]])+")");return l.join(",")},linestring:function(a){for(var l=[],d=0,g=a._points._coordinates.length;d<g;++d)l.push(Be.coordinate.apply(this,[a._points._coordinates[d]]));return l.join(",")},linearring:function(a){for(var l=[],d=0,g=a._points._coordinates.length;d<g;++d)l.push(Be.coordinate.apply(this,[a._points._coordinates[d]]));return l.join(",")},multilinestring:function(a){for(var l=[],d=0,g=a._geometries.length;d<g;++d)l.push("("+Be.linestring.apply(this,[a._geometries[d]])+")");return l.join(",")},polygon:function(a){var l=[];l.push("("+Be.linestring.apply(this,[a._shell])+")");for(var d=0,g=a._holes.length;d<g;++d)l.push("("+Be.linestring.apply(this,[a._holes[d]])+")");return l.join(",")},multipolygon:function(a){for(var l=[],d=0,g=a._geometries.length;d<g;++d)l.push("("+Be.polygon.apply(this,[a._geometries[d]])+")");return l.join(",")},geometrycollection:function(a){for(var l=[],d=0,g=a._geometries.length;d<g;++d)l.push(this.extractGeometry(a._geometries[d]));return l.join(",")}},Tt={point:function(a){if(void 0===a)return this.geometryFactory.createPoint();var l=a.trim().split(yn.spaces);return this.geometryFactory.createPoint(new k(Number.parseFloat(l[0]),Number.parseFloat(l[1])))},multipoint:function(a){if(void 0===a)return this.geometryFactory.createMultiPoint();for(var l,d=a.trim().split(","),g=[],y=0,x=d.length;y<x;++y)l=d[y].replace(yn.trimParens,"$1"),g.push(Tt.point.apply(this,[l]));return this.geometryFactory.createMultiPoint(g)},linestring:function(a){if(void 0===a)return this.geometryFactory.createLineString();for(var l,d=a.trim().split(","),g=[],y=0,x=d.length;y<x;++y)l=d[y].trim().split(yn.spaces),g.push(new k(Number.parseFloat(l[0]),Number.parseFloat(l[1])));return this.geometryFactory.createLineString(g)},linearring:function(a){if(void 0===a)return this.geometryFactory.createLinearRing();for(var l,d=a.trim().split(","),g=[],y=0,x=d.length;y<x;++y)l=d[y].trim().split(yn.spaces),g.push(new k(Number.parseFloat(l[0]),Number.parseFloat(l[1])));return this.geometryFactory.createLinearRing(g)},multilinestring:function(a){if(void 0===a)return this.geometryFactory.createMultiLineString();for(var l,d=a.trim().split(yn.parenComma),g=[],y=0,x=d.length;y<x;++y)l=d[y].replace(yn.trimParens,"$1"),g.push(Tt.linestring.apply(this,[l]));return this.geometryFactory.createMultiLineString(g)},polygon:function(a){if(void 0===a)return this.geometryFactory.createPolygon();for(var l,d,g,y,x=a.trim().split(yn.parenComma),S=[],F=0,st=x.length;F<st;++F)l=x[F].replace(yn.trimParens,"$1"),d=Tt.linestring.apply(this,[l]),g=this.geometryFactory.createLinearRing(d._points),0===F?y=g:S.push(g);return this.geometryFactory.createPolygon(y,S)},multipolygon:function(a){if(void 0===a)return this.geometryFactory.createMultiPolygon();for(var l,d=a.trim().split(yn.doubleParenComma),g=[],y=0,x=d.length;y<x;++y)l=d[y].replace(yn.trimParens,"$1"),g.push(Tt.polygon.apply(this,[l]));return this.geometryFactory.createMultiPolygon(g)},geometrycollection:function(a){if(void 0===a)return this.geometryFactory.createGeometryCollection();for(var l=(a=a.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),d=[],g=0,y=l.length;g<y;++g)d.push(this.read(l[g]));return this.geometryFactory.createGeometryCollection(d)}},X=function(a){this.parser=new En(a)};X.prototype.write=function(a){return this.parser.write(a)},X.toLineString=function(a,l){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+a.x+" "+a.y+", "+l.x+" "+l.y+" )"};var O=function(a){function l(d){a.call(this,d),this.name="RuntimeException",this.message=d,this.stack=(new a).stack}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(Error),P=function(a){function l(){a.call(this),0===arguments.length?a.call(this):1===arguments.length&&a.call(this,arguments[0])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(O),R=function(){};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.shouldNeverReachHere=function(){if(0===arguments.length)R.shouldNeverReachHere(null);else if(1===arguments.length){var a=arguments[0];throw new P("Should never reach here"+(null!==a?": "+a:""))}},R.isTrue=function(){var l;if(1===arguments.length)R.isTrue(arguments[0],null);else if(2===arguments.length&&(l=arguments[1],!arguments[0]))throw null===l?new P:new P(l)},R.equals=function(){var a,l,d;if(2===arguments.length)R.equals(a=arguments[0],l=arguments[1],null);else if(3===arguments.length&&(d=arguments[2],!(l=arguments[1]).equals(a=arguments[0])))throw new P("Expected "+a+" but encountered "+l+(null!==d?": "+d:""))};var Q=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new k,this._intPt[1]=new k,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},St={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Q.prototype.getIndexAlongSegment=function(a,l){return this.computeIntLineIndex(),this._intLineIndex[a][l]},Q.prototype.getTopologySummary=function(){var a=new at;return this.isEndPoint()&&a.append(" endpoint"),this._isProper&&a.append(" proper"),this.isCollinear()&&a.append(" collinear"),a.toString()},Q.prototype.computeIntersection=function(a,l,d,g){this._inputLines[0][0]=a,this._inputLines[0][1]=l,this._inputLines[1][0]=d,this._inputLines[1][1]=g,this._result=this.computeIntersect(a,l,d,g)},Q.prototype.getIntersectionNum=function(){return this._result},Q.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var a=arguments[0];this.getEdgeDistance(a,0)>this.getEdgeDistance(a,1)?(this._intLineIndex[a][0]=0,this._intLineIndex[a][1]=1):(this._intLineIndex[a][0]=1,this._intLineIndex[a][1]=0)}},Q.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Q.prototype.setPrecisionModel=function(a){this._precisionModel=a},Q.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var a=arguments[0],l=0;l<this._result;l++)if(!this._intPt[l].equals2D(this._inputLines[a][0])&&!this._intPt[l].equals2D(this._inputLines[a][1]))return!0;return!1}},Q.prototype.getIntersection=function(a){return this._intPt[a]},Q.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Q.prototype.hasIntersection=function(){return this._result!==Q.NO_INTERSECTION},Q.prototype.getEdgeDistance=function(a,l){return Q.computeEdgeDistance(this._intPt[l],this._inputLines[a][0],this._inputLines[a][1])},Q.prototype.isCollinear=function(){return this._result===Q.COLLINEAR_INTERSECTION},Q.prototype.toString=function(){return X.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+X.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Q.prototype.getEndpoint=function(a,l){return this._inputLines[a][l]},Q.prototype.isIntersection=function(a){for(var l=0;l<this._result;l++)if(this._intPt[l].equals2D(a))return!0;return!1},Q.prototype.getIntersectionAlongSegment=function(a,l){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[a][l]]},Q.prototype.interfaces_=function(){return[]},Q.prototype.getClass=function(){return Q},Q.computeEdgeDistance=function(a,l,d){var g=Math.abs(d.x-l.x),y=Math.abs(d.y-l.y),x=-1;if(a.equals(l))x=0;else if(a.equals(d))x=g>y?g:y;else{var S=Math.abs(a.x-l.x),F=Math.abs(a.y-l.y);0!==(x=g>y?S:F)||a.equals(l)||(x=Math.max(S,F))}return R.isTrue(!(0===x&&!a.equals(l)),"Bad distance calculation"),x},Q.nonRobustComputeEdgeDistance=function(a,l,d){var g=a.x-l.x,y=a.y-l.y,x=Math.sqrt(g*g+y*y);return R.isTrue(!(0===x&&!a.equals(l)),"Invalid distance calculation"),x},St.DONT_INTERSECT.get=function(){return 0},St.DO_INTERSECT.get=function(){return 1},St.COLLINEAR.get=function(){return 2},St.NO_INTERSECTION.get=function(){return 0},St.POINT_INTERSECTION.get=function(){return 1},St.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Q,St);var kt=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.isInSegmentEnvelopes=function(d){var g=new ne(this._inputLines[0][0],this._inputLines[0][1]),y=new ne(this._inputLines[1][0],this._inputLines[1][1]);return g.contains(d)&&y.contains(d)},l.prototype.computeIntersection=function(){if(3!==arguments.length)return a.prototype.computeIntersection.apply(this,arguments);var d=arguments[0],g=arguments[1],y=arguments[2];if(this._isProper=!1,ne.intersects(g,y,d)&&0===Ut.orientationIndex(g,y,d)&&0===Ut.orientationIndex(y,g,d))return this._isProper=!0,(d.equals(g)||d.equals(y))&&(this._isProper=!1),this._result=a.POINT_INTERSECTION,null;this._result=a.NO_INTERSECTION},l.prototype.normalizeToMinimum=function(d,g,y,x,S){S.x=this.smallestInAbsValue(d.x,g.x,y.x,x.x),S.y=this.smallestInAbsValue(d.y,g.y,y.y,x.y),d.x-=S.x,d.y-=S.y,g.x-=S.x,g.y-=S.y,y.x-=S.x,y.y-=S.y,x.x-=S.x,x.y-=S.y},l.prototype.safeHCoordinateIntersection=function(d,g,y,x){var S=null;try{S=ve.intersection(d,g,y,x)}catch(F){if(!(F instanceof Kt))throw F;S=l.nearestEndpoint(d,g,y,x)}return S},l.prototype.intersection=function(d,g,y,x){var S=this.intersectionWithNormalization(d,g,y,x);return this.isInSegmentEnvelopes(S)||(S=new k(l.nearestEndpoint(d,g,y,x))),null!==this._precisionModel&&this._precisionModel.makePrecise(S),S},l.prototype.smallestInAbsValue=function(d,g,y,x){var S=d,F=Math.abs(S);return Math.abs(g)<F&&(S=g,F=Math.abs(g)),Math.abs(y)<F&&(S=y,F=Math.abs(y)),Math.abs(x)<F&&(S=x),S},l.prototype.checkDD=function(d,g,y,x,S){var F=V.intersection(d,g,y,x),st=this.isInSegmentEnvelopes(F);jt.out.println("DD in env = "+st+"  --------------------- "+F),S.distance(F)>1e-4&&jt.out.println("Distance = "+S.distance(F))},l.prototype.intersectionWithNormalization=function(d,g,y,x){var S=new k(d),F=new k(g),st=new k(y),Dt=new k(x),Ht=new k;this.normalizeToEnvCentre(S,F,st,Dt,Ht);var $t=this.safeHCoordinateIntersection(S,F,st,Dt);return $t.x+=Ht.x,$t.y+=Ht.y,$t},l.prototype.computeCollinearIntersection=function(d,g,y,x){var S=ne.intersects(d,g,y),F=ne.intersects(d,g,x),st=ne.intersects(y,x,d),Dt=ne.intersects(y,x,g);return S&&F?(this._intPt[0]=y,this._intPt[1]=x,a.COLLINEAR_INTERSECTION):st&&Dt?(this._intPt[0]=d,this._intPt[1]=g,a.COLLINEAR_INTERSECTION):S&&st?(this._intPt[0]=y,this._intPt[1]=d,!y.equals(d)||F||Dt?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):S&&Dt?(this._intPt[0]=y,this._intPt[1]=g,!y.equals(g)||F||st?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):F&&st?(this._intPt[0]=x,this._intPt[1]=d,!x.equals(d)||S||Dt?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):F&&Dt?(this._intPt[0]=x,this._intPt[1]=g,!x.equals(g)||S||st?a.COLLINEAR_INTERSECTION:a.POINT_INTERSECTION):a.NO_INTERSECTION},l.prototype.normalizeToEnvCentre=function(d,g,y,x,S){var F=d.x<g.x?d.x:g.x,st=d.y<g.y?d.y:g.y,Dt=d.x>g.x?d.x:g.x,Ht=d.y>g.y?d.y:g.y,$t=y.x<x.x?y.x:x.x,ge=y.y<x.y?y.y:x.y,be=y.x>x.x?y.x:x.x,Oe=y.y>x.y?y.y:x.y,Ci=((st>ge?st:ge)+(Ht<Oe?Ht:Oe))/2;S.x=((F>$t?F:$t)+(Dt<be?Dt:be))/2,S.y=Ci,d.x-=S.x,d.y-=S.y,g.x-=S.x,g.y-=S.y,y.x-=S.x,y.y-=S.y,x.x-=S.x,x.y-=S.y},l.prototype.computeIntersect=function(d,g,y,x){if(this._isProper=!1,!ne.intersects(d,g,y,x))return a.NO_INTERSECTION;var S=Ut.orientationIndex(d,g,y),F=Ut.orientationIndex(d,g,x);if(S>0&&F>0||S<0&&F<0)return a.NO_INTERSECTION;var st=Ut.orientationIndex(y,x,d),Dt=Ut.orientationIndex(y,x,g);return st>0&&Dt>0||st<0&&Dt<0?a.NO_INTERSECTION:0===S&&0===F&&0===st&&0===Dt?this.computeCollinearIntersection(d,g,y,x):(0===S||0===F||0===st||0===Dt?(this._isProper=!1,d.equals2D(y)||d.equals2D(x)?this._intPt[0]=d:g.equals2D(y)||g.equals2D(x)?this._intPt[0]=g:0===S?this._intPt[0]=new k(y):0===F?this._intPt[0]=new k(x):0===st?this._intPt[0]=new k(d):0===Dt&&(this._intPt[0]=new k(g))):(this._isProper=!0,this._intPt[0]=this.intersection(d,g,y,x)),a.POINT_INTERSECTION)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.nearestEndpoint=function(d,g,y,x){var S=d,F=Ut.distancePointLine(d,y,x),st=Ut.distancePointLine(g,y,x);return st<F&&(F=st,S=g),(st=Ut.distancePointLine(y,d,g))<F&&(F=st,S=y),(st=Ut.distancePointLine(x,d,g))<F&&(F=st,S=x),S},l}(Q),qt=function(){};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.orientationIndex=function(a,l,d){return qt.signOfDet2x2(l.x-a.x,l.y-a.y,d.x-l.x,d.y-l.y)},qt.signOfDet2x2=function(a,l,d,g){var y=null,x=null,S=null;if(y=1,0===a||0===g)return 0===l||0===d?0:l>0?d>0?-y:y:d>0?y:-y;if(0===l||0===d)return g>0?a>0?y:-y:a>0?-y:y;if(l>0?g>0?l<=g||(y=-y,x=a,a=d,d=x,x=l,l=g,g=x):l<=-g?(y=-y,d=-d,g=-g):(x=a,a=-d,d=x,x=l,l=-g,g=x):g>0?-l<=g?(y=-y,a=-a,l=-l):(x=-a,a=d,d=x,x=-l,l=g,g=x):l>=g?(a=-a,l=-l,d=-d,g=-g):(y=-y,x=-a,a=-d,d=x,x=-l,l=-g,g=x),a>0){if(!(d>0&&a<=d))return y}else{if(d>0||!(a>=d))return-y;y=-y,a=-a,d=-d}for(;;){if((g-=(S=Math.floor(d/a))*l)<0)return-y;if(g>l)return y;if(a>(d-=S*a)+d){if(l<g+g)return y}else{if(l>g+g)return-y;d=a-d,g=l-g,y=-y}if(0===g)return 0===d?0:-y;if(0===d||(a-=(S=Math.floor(a/d))*d,(l-=S*g)<0))return y;if(l>g)return-y;if(d>a+a){if(g<l+l)return-y}else{if(g>l+l)return y;a=d-a,l=g-l,y=-y}if(0===l)return 0===a?0:y;if(0===a)return-y}};var Xt=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Xt.prototype.countSegment=function(a,l){if(a.x<this._p.x&&l.x<this._p.x)return null;if(this._p.x===l.x&&this._p.y===l.y)return this._isPointOnSegment=!0,null;if(a.y===this._p.y&&l.y===this._p.y){var d=a.x,g=l.x;return d>g&&(d=l.x,g=a.x),this._p.x>=d&&this._p.x<=g&&(this._isPointOnSegment=!0),null}if(a.y>this._p.y&&l.y<=this._p.y||l.y>this._p.y&&a.y<=this._p.y){var x=a.y-this._p.y,F=l.y-this._p.y,st=qt.signOfDet2x2(a.x-this._p.x,x,l.x-this._p.x,F);if(0===st)return this._isPointOnSegment=!0,null;F<x&&(st=-st),st>0&&this._crossingCount++}},Xt.prototype.isPointInPolygon=function(){return this.getLocation()!==K.EXTERIOR},Xt.prototype.getLocation=function(){return this._isPointOnSegment?K.BOUNDARY:this._crossingCount%2==1?K.INTERIOR:K.EXTERIOR},Xt.prototype.isOnSegment=function(){return this._isPointOnSegment},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.locatePointInRing=function(){if(arguments[0]instanceof k&&Lt(arguments[1],ut)){for(var l=arguments[1],d=new Xt(arguments[0]),g=new k,y=new k,x=1;x<l.size();x++)if(l.getCoordinate(x,g),l.getCoordinate(x-1,y),d.countSegment(g,y),d.isOnSegment())return d.getLocation();return d.getLocation()}if(arguments[0]instanceof k&&arguments[1]instanceof Array){for(var F=arguments[1],st=new Xt(arguments[0]),Dt=1;Dt<F.length;Dt++)if(st.countSegment(F[Dt],F[Dt-1]),st.isOnSegment())return st.getLocation();return st.getLocation()}};var Ut=function(){},Ue={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut},Ut.orientationIndex=function(a,l,d){return V.orientationIndex(a,l,d)},Ut.signedArea=function(){if(arguments[0]instanceof Array){var a=arguments[0];if(a.length<3)return 0;for(var l=0,d=a[0].x,g=1;g<a.length-1;g++)l+=(a[g].x-d)*(a[g-1].y-a[g+1].y);return l/2}if(Lt(arguments[0],ut)){var S=arguments[0],F=S.size();if(F<3)return 0;var st=new k,Dt=new k,Ht=new k;S.getCoordinate(0,Dt),S.getCoordinate(1,Ht);var $t=Dt.x;Ht.x-=$t;for(var ge=0,be=1;be<F-1;be++)st.y=Dt.y,Dt.x=Ht.x,Dt.y=Ht.y,S.getCoordinate(be+1,Ht),Ht.x-=$t,ge+=Dt.x*(st.y-Ht.y);return ge/2}},Ut.distanceLineLine=function(a,l,d,g){if(a.equals(l))return Ut.distancePointLine(a,d,g);if(d.equals(g))return Ut.distancePointLine(g,a,l);var y=!1;if(ne.intersects(a,l,d,g)){var x=(l.x-a.x)*(g.y-d.y)-(l.y-a.y)*(g.x-d.x);if(0===x)y=!0;else{var F=((a.y-d.y)*(l.x-a.x)-(a.x-d.x)*(l.y-a.y))/x,st=((a.y-d.y)*(g.x-d.x)-(a.x-d.x)*(g.y-d.y))/x;(st<0||st>1||F<0||F>1)&&(y=!0)}}else y=!0;return y?lt.min(Ut.distancePointLine(a,d,g),Ut.distancePointLine(l,d,g),Ut.distancePointLine(d,a,l),Ut.distancePointLine(g,a,l)):0},Ut.isPointInRing=function(a,l){return Ut.locatePointInRing(a,l)!==K.EXTERIOR},Ut.computeLength=function(a){var l=a.size();if(l<=1)return 0;var d=0,g=new k;a.getCoordinate(0,g);for(var y=g.x,x=g.y,S=1;S<l;S++){a.getCoordinate(S,g);var F=g.x,st=g.y,Dt=F-y,Ht=st-x;d+=Math.sqrt(Dt*Dt+Ht*Ht),y=F,x=st}return d},Ut.isCCW=function(a){var l=a.length-1;if(l<3)throw new Y("Ring has fewer than 4 points, so orientation cannot be determined");for(var d=a[0],g=0,y=1;y<=l;y++){var x=a[y];x.y>d.y&&(d=x,g=y)}var S=g;do{(S-=1)<0&&(S=l)}while(a[S].equals2D(d)&&S!==g);var F=g;do{F=(F+1)%l}while(a[F].equals2D(d)&&F!==g);var st=a[S],Dt=a[F];if(st.equals2D(d)||Dt.equals2D(d)||st.equals2D(Dt))return!1;var Ht=Ut.computeOrientation(st,d,Dt);return 0===Ht?st.x>Dt.x:Ht>0},Ut.locatePointInRing=function(a,l){return Xt.locatePointInRing(a,l)},Ut.distancePointLinePerpendicular=function(a,l,d){var g=(d.x-l.x)*(d.x-l.x)+(d.y-l.y)*(d.y-l.y);return Math.abs(((l.y-a.y)*(d.x-l.x)-(l.x-a.x)*(d.y-l.y))/g)*Math.sqrt(g)},Ut.computeOrientation=function(a,l,d){return Ut.orientationIndex(a,l,d)},Ut.distancePointLine=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1];if(0===l.length)throw new Y("Line array must contain at least one vertex");for(var d=a.distance(l[0]),g=0;g<l.length-1;g++){var y=Ut.distancePointLine(a,l[g],l[g+1]);y<d&&(d=y)}return d}if(3===arguments.length){var x=arguments[0],S=arguments[1],F=arguments[2];if(S.x===F.x&&S.y===F.y)return x.distance(S);var st=(F.x-S.x)*(F.x-S.x)+(F.y-S.y)*(F.y-S.y),Dt=((x.x-S.x)*(F.x-S.x)+(x.y-S.y)*(F.y-S.y))/st;return Dt<=0?x.distance(S):Dt>=1?x.distance(F):Math.abs(((S.y-x.y)*(F.x-S.x)-(S.x-x.x)*(F.y-S.y))/st)*Math.sqrt(st)}},Ut.isOnLine=function(a,l){for(var d=new kt,g=1;g<l.length;g++)if(d.computeIntersection(a,l[g-1],l[g]),d.hasIntersection())return!0;return!1},Ue.CLOCKWISE.get=function(){return-1},Ue.RIGHT.get=function(){return Ut.CLOCKWISE},Ue.COUNTERCLOCKWISE.get=function(){return 1},Ue.LEFT.get=function(){return Ut.COUNTERCLOCKWISE},Ue.COLLINEAR.get=function(){return 0},Ue.STRAIGHT.get=function(){return Ut.COLLINEAR},Object.defineProperties(Ut,Ue);var nn=function(){};nn.prototype.filter=function(a){},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn};var he=function(){var a=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=a,this._SRID=a.getSRID()},ke={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};he.prototype.isGeometryCollection=function(){return this.getSortIndex()===he.SORTINDEX_GEOMETRYCOLLECTION},he.prototype.getFactory=function(){return this._factory},he.prototype.getGeometryN=function(a){return this},he.prototype.getArea=function(){return 0},he.prototype.isRectangle=function(){return!1},he.prototype.equals=function(){if(arguments[0]instanceof he){var a=arguments[0];return null!==a&&this.equalsTopo(a)}if(arguments[0]instanceof Object){var l=arguments[0];return l instanceof he&&this.equalsExact(l)}},he.prototype.equalsExact=function(a){return this===a||this.equalsExact(a,0)},he.prototype.geometryChanged=function(){this.apply(he.geometryChangedFilter)},he.prototype.geometryChangedAction=function(){this._envelope=null},he.prototype.equalsNorm=function(a){return null!==a&&this.norm().equalsExact(a.norm())},he.prototype.getLength=function(){return 0},he.prototype.getNumGeometries=function(){return 1},he.prototype.compareTo=function(){if(1===arguments.length){var a=arguments[0],l=a;return this.getSortIndex()!==l.getSortIndex()?this.getSortIndex()-l.getSortIndex():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(a)}if(2===arguments.length){var d=arguments[0],g=arguments[1];return this.getSortIndex()!==d.getSortIndex()?this.getSortIndex()-d.getSortIndex():this.isEmpty()&&d.isEmpty()?0:this.isEmpty()?-1:d.isEmpty()?1:this.compareToSameClass(d,g)}},he.prototype.getUserData=function(){return this._userData},he.prototype.getSRID=function(){return this._SRID},he.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},he.prototype.checkNotGeometryCollection=function(a){if(a.getSortIndex()===he.SORTINDEX_GEOMETRYCOLLECTION)throw new Y("This method does not support GeometryCollection arguments")},he.prototype.equal=function(a,l,d){return 0===d?a.equals(l):a.distance(l)<=d},he.prototype.norm=function(){var a=this.copy();return a.normalize(),a},he.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},he.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new ne(this._envelope)},he.prototype.setSRID=function(a){this._SRID=a},he.prototype.setUserData=function(a){this._userData=a},he.prototype.compare=function(a,l){for(var d=a.iterator(),g=l.iterator();d.hasNext()&&g.hasNext();){var y=d.next(),x=g.next(),S=y.compareTo(x);if(0!==S)return S}return d.hasNext()?1:g.hasNext()?-1:0},he.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},he.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===he.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===he.SORTINDEX_MULTIPOINT||this.getSortIndex()===he.SORTINDEX_MULTILINESTRING||this.getSortIndex()===he.SORTINDEX_MULTIPOLYGON},he.prototype.interfaces_=function(){return[Z,G,J]},he.prototype.getClass=function(){return he},he.hasNonEmptyElements=function(a){for(var l=0;l<a.length;l++)if(!a[l].isEmpty())return!0;return!1},he.hasNullElements=function(a){for(var l=0;l<a.length;l++)if(null===a[l])return!0;return!1},ke.serialVersionUID.get=function(){return 0x799ea46522854c00},ke.SORTINDEX_POINT.get=function(){return 0},ke.SORTINDEX_MULTIPOINT.get=function(){return 1},ke.SORTINDEX_LINESTRING.get=function(){return 2},ke.SORTINDEX_LINEARRING.get=function(){return 3},ke.SORTINDEX_MULTILINESTRING.get=function(){return 4},ke.SORTINDEX_POLYGON.get=function(){return 5},ke.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ke.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ke.geometryChangedFilter.get=function(){return bi},Object.defineProperties(he,ke);var bi=function(){};bi.interfaces_=function(){return[nn]},bi.filter=function(a){a.geometryChangedAction()};var qe=function(){};qe.prototype.filter=function(a){},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var dn=function(){},Ai={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dn.prototype.isInBoundary=function(a){},dn.prototype.interfaces_=function(){return[]},dn.prototype.getClass=function(){return dn},Ai.Mod2BoundaryNodeRule.get=function(){return mr},Ai.EndPointBoundaryNodeRule.get=function(){return ar},Ai.MultiValentEndPointBoundaryNodeRule.get=function(){return Cr},Ai.MonoValentEndPointBoundaryNodeRule.get=function(){return Co},Ai.MOD2_BOUNDARY_RULE.get=function(){return new mr},Ai.ENDPOINT_BOUNDARY_RULE.get=function(){return new ar},Ai.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Cr},Ai.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Co},Ai.OGC_SFS_BOUNDARY_RULE.get=function(){return dn.MOD2_BOUNDARY_RULE},Object.defineProperties(dn,Ai);var mr=function(){};mr.prototype.isInBoundary=function(a){return a%2==1},mr.prototype.interfaces_=function(){return[dn]},mr.prototype.getClass=function(){return mr};var ar=function(){};ar.prototype.isInBoundary=function(a){return a>0},ar.prototype.interfaces_=function(){return[dn]},ar.prototype.getClass=function(){return ar};var Cr=function(){};Cr.prototype.isInBoundary=function(a){return a>1},Cr.prototype.interfaces_=function(){return[dn]},Cr.prototype.getClass=function(){return Cr};var Co=function(){};Co.prototype.isInBoundary=function(a){return 1===a},Co.prototype.interfaces_=function(){return[dn]},Co.prototype.getClass=function(){return Co};var Ti=function(){};Ti.prototype.add=function(){},Ti.prototype.addAll=function(){},Ti.prototype.isEmpty=function(){},Ti.prototype.iterator=function(){},Ti.prototype.size=function(){},Ti.prototype.toArray=function(){},Ti.prototype.remove=function(){},(tt.prototype=new Error).name="IndexOutOfBoundsException";var zo=function(){};zo.prototype.hasNext=function(){},zo.prototype.next=function(){},zo.prototype.remove=function(){};var Or=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(){},l.prototype.set=function(){},l.prototype.isEmpty=function(){},l}(Ti);(yt.prototype=new Error).name="NoSuchElementException";var ue=function(a){function l(){a.call(this),this.array_=[],arguments[0]instanceof Ti&&this.addAll(arguments[0])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.ensureCapacity=function(){},l.prototype.interfaces_=function(){return[a,Ti]},l.prototype.add=function(d){return 1===arguments.length?this.array_.push(d):this.array_.splice(arguments[0],arguments[1]),!0},l.prototype.clear=function(){this.array_=[]},l.prototype.addAll=function(d){for(var g=d.iterator();g.hasNext();)this.add(g.next());return!0},l.prototype.set=function(d,g){var y=this.array_[d];return this.array_[d]=g,y},l.prototype.iterator=function(){return new Pu(this)},l.prototype.get=function(d){if(d<0||d>=this.size())throw new tt;return this.array_[d]},l.prototype.isEmpty=function(){return 0===this.array_.length},l.prototype.size=function(){return this.array_.length},l.prototype.toArray=function(){for(var d=[],g=0,y=this.array_.length;g<y;g++)d.push(this.array_[g]);return d},l.prototype.remove=function(d){for(var g=!1,y=0,x=this.array_.length;y<x;y++)if(this.array_[y]===d){this.array_.splice(y,1),g=!0;break}return g},l}(Or),Pu=function(a){function l(d){a.call(this),this.arrayList_=d,this.position_=0}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new yt;return this.arrayList_.get(this.position_++)},l.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},l.prototype.set=function(d){return this.arrayList_.set(this.position_-1,d)},l.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},l}(zo),ks=function(a){function l(){if(a.call(this),0!==arguments.length)if(1===arguments.length){var g=arguments[0];this.ensureCapacity(g.length),this.add(g,!0)}else if(2===arguments.length){var y=arguments[0],x=arguments[1];this.ensureCapacity(y.length),this.add(y,x)}}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={coordArrayType:{configurable:!0}};return d.coordArrayType.get=function(){return new Array(0).fill(null)},l.prototype.getCoordinate=function(g){return this.get(g)},l.prototype.addAll=function(){if(2===arguments.length){for(var y=arguments[1],x=!1,S=arguments[0].iterator();S.hasNext();)this.add(S.next(),y),x=!0;return x}return a.prototype.addAll.apply(this,arguments)},l.prototype.clone=function(){for(var g=a.prototype.clone.call(this),y=0;y<this.size();y++)g.add(y,this.get(y).copy());return g},l.prototype.toCoordinateArray=function(){return this.toArray(l.coordArrayType)},l.prototype.add=function(){if(1===arguments.length)a.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof k&&"boolean"==typeof arguments[1]){var S=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(S))return null;a.prototype.add.call(this,S)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var Dt=arguments[0],Ht=arguments[1];if(arguments[2])for(var $t=0;$t<Dt.length;$t++)this.add(Dt[$t],Ht);else for(var ge=Dt.length-1;ge>=0;ge--)this.add(Dt[ge],Ht);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof k){var be=arguments[0],Oe=arguments[1];if(!arguments[2]){var Xe=this.size();if(Xe>0&&(be>0&&this.get(be-1).equals2D(Oe)||be<Xe&&this.get(be).equals2D(Oe)))return null}a.prototype.add.call(this,be,Oe)}}else if(4===arguments.length){var Ci=arguments[0],Yr=arguments[1],Jo=arguments[2],du=arguments[3],sl=1;Jo>du&&(sl=-1);for(var Yg=Jo;Yg!==du;Yg+=sl)this.add(Ci[Yg],Yr);return!0}},l.prototype.closeRing=function(){this.size()>0&&this.add(new k(this.get(0)),!1)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},Object.defineProperties(l,d),l}(ue),sn=function(){},Js={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Js.ForwardComparator.get=function(){return Fs},Js.BidirectionalComparator.get=function(){return ys},Js.coordArrayType.get=function(){return new Array(0).fill(null)},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.isRing=function(a){return!(a.length<4||!a[0].equals2D(a[a.length-1]))},sn.ptNotInList=function(a,l){for(var d=0;d<a.length;d++){var g=a[d];if(sn.indexOf(g,l)<0)return g}return null},sn.scroll=function(a,l){var d=sn.indexOf(l,a);if(d<0)return null;var g=new Array(a.length).fill(null);jt.arraycopy(a,d,g,0,a.length-d),jt.arraycopy(a,0,g,a.length-d,d),jt.arraycopy(g,0,a,0,a.length)},sn.equals=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1];if(a===l)return!0;if(null===a||null===l||a.length!==l.length)return!1;for(var d=0;d<a.length;d++)if(!a[d].equals(l[d]))return!1;return!0}if(3===arguments.length){var g=arguments[0],y=arguments[1],x=arguments[2];if(g===y)return!0;if(null===g||null===y||g.length!==y.length)return!1;for(var S=0;S<g.length;S++)if(0!==x.compare(g[S],y[S]))return!1;return!0}},sn.intersection=function(a,l){for(var d=new ks,g=0;g<a.length;g++)l.intersects(a[g])&&d.add(a[g],!0);return d.toCoordinateArray()},sn.hasRepeatedPoints=function(a){for(var l=1;l<a.length;l++)if(a[l-1].equals(a[l]))return!0;return!1},sn.removeRepeatedPoints=function(a){return sn.hasRepeatedPoints(a)?new ks(a,!1).toCoordinateArray():a},sn.reverse=function(a){for(var l=a.length-1,d=Math.trunc(l/2),g=0;g<=d;g++){var y=a[g];a[g]=a[l-g],a[l-g]=y}},sn.removeNull=function(a){for(var l=0,d=0;d<a.length;d++)null!==a[d]&&l++;var g=new Array(l).fill(null);if(0===l)return g;for(var y=0,x=0;x<a.length;x++)null!==a[x]&&(g[y++]=a[x]);return g},sn.copyDeep=function(){if(1===arguments.length){for(var a=arguments[0],l=new Array(a.length).fill(null),d=0;d<a.length;d++)l[d]=new k(a[d]);return l}if(5===arguments.length)for(var g=arguments[0],y=arguments[1],x=arguments[2],S=arguments[3],F=arguments[4],st=0;st<F;st++)x[S+st]=new k(g[y+st])},sn.isEqualReversed=function(a,l){for(var d=0;d<a.length;d++)if(0!==a[d].compareTo(l[a.length-d-1]))return!1;return!0},sn.envelope=function(a){for(var l=new ne,d=0;d<a.length;d++)l.expandToInclude(a[d]);return l},sn.toCoordinateArray=function(a){return a.toArray(sn.coordArrayType)},sn.atLeastNCoordinatesOrNothing=function(a,l){return l.length>=a?l:[]},sn.indexOf=function(a,l){for(var d=0;d<l.length;d++)if(a.equals(l[d]))return d;return-1},sn.increasingDirection=function(a){for(var l=0;l<Math.trunc(a.length/2);l++){var g=a[l].compareTo(a[a.length-1-l]);if(0!==g)return g}return 1},sn.compare=function(a,l){for(var d=0;d<a.length&&d<l.length;){var g=a[d].compareTo(l[d]);if(0!==g)return g;d++}return d<l.length?-1:d<a.length?1:0},sn.minCoordinate=function(a){for(var l=null,d=0;d<a.length;d++)(null===l||l.compareTo(a[d])>0)&&(l=a[d]);return l},sn.extract=function(a,l,d){l=lt.clamp(l,0,a.length);var g=(d=lt.clamp(d,-1,a.length))-l+1;d<0&&(g=0),l>=a.length&&(g=0),d<l&&(g=0);var y=new Array(g).fill(null);if(0===g)return y;for(var x=0,S=l;S<=d;S++)y[x++]=a[S];return y},Object.defineProperties(sn,Js);var Fs=function(){};Fs.prototype.compare=function(a,l){return sn.compare(a,l)},Fs.prototype.interfaces_=function(){return[et]},Fs.prototype.getClass=function(){return Fs};var ys=function(){};ys.prototype.compare=function(a,l){var d=a,g=l;if(d.length<g.length)return-1;if(d.length>g.length)return 1;if(0===d.length)return 0;var y=sn.compare(d,g);return sn.isEqualReversed(d,g)?0:y},ys.prototype.OLDcompare=function(a,l){var d=a,g=l;if(d.length<g.length)return-1;if(d.length>g.length)return 1;if(0===d.length)return 0;for(var y=sn.increasingDirection(d),x=sn.increasingDirection(g),S=y>0?0:d.length-1,F=x>0?0:d.length-1,st=0;st<d.length;st++){var Dt=d[S].compareTo(g[F]);if(0!==Dt)return Dt;S+=y,F+=x}return 0},ys.prototype.interfaces_=function(){return[et]},ys.prototype.getClass=function(){return ys};var ou=function(){};ou.prototype.get=function(){},ou.prototype.put=function(){},ou.prototype.size=function(){},ou.prototype.values=function(){},ou.prototype.entrySet=function(){};var Td=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l}(ou);(ft.prototype=new Error).name="OperationNotSupported",(wt.prototype=new Ti).contains=function(){};var ac=function(a){function l(){a.call(this),this.array_=[],arguments[0]instanceof Ti&&this.addAll(arguments[0])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.contains=function(d){for(var g=0,y=this.array_.length;g<y;g++)if(this.array_[g]===d)return!0;return!1},l.prototype.add=function(d){return!this.contains(d)&&(this.array_.push(d),!0)},l.prototype.addAll=function(d){for(var g=d.iterator();g.hasNext();)this.add(g.next());return!0},l.prototype.remove=function(d){throw new Error},l.prototype.size=function(){return this.array_.length},l.prototype.isEmpty=function(){return 0===this.array_.length},l.prototype.toArray=function(){for(var d=[],g=0,y=this.array_.length;g<y;g++)d.push(this.array_[g]);return d},l.prototype.iterator=function(){return new Uh(this)},l}(wt),Uh=function(a){function l(d){a.call(this),this.hashSet_=d,this.position_=0}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new yt;return this.hashSet_.array_[this.position_++]},l.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},l.prototype.remove=function(){throw new ft},l}(zo),Kr=0;(Ft.prototype=new Td).get=function(a){for(var l=this.root_;null!==l;){var d=a.compareTo(l.key);if(d<0)l=l.left;else{if(!(d>0))return l.value;l=l.right}}return null},Ft.prototype.put=function(a,l){if(null===this.root_)return this.root_={key:a,value:l,left:null,right:null,parent:null,color:Kr,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var d,g,y=this.root_;do{if(d=y,(g=a.compareTo(y.key))<0)y=y.left;else{if(!(g>0)){var x=y.value;return y.value=l,x}y=y.right}}while(null!==y);var S={key:a,left:null,right:null,value:l,parent:d,color:Kr,getValue:function(){return this.value},getKey:function(){return this.key}};return g<0?d.left=S:d.right=S,this.fixAfterInsertion(S),this.size_++,null},Ft.prototype.fixAfterInsertion=function(a){for(a.color=1;null!=a&&a!==this.root_&&1===a.parent.color;)if(xt(a)===At(xt(xt(a)))){var l=Gt(xt(xt(a)));1===rt(l)?(Mt(xt(a),Kr),Mt(l,Kr),Mt(xt(xt(a)),1),a=xt(xt(a))):(a===Gt(xt(a))&&(a=xt(a),this.rotateLeft(a)),Mt(xt(a),Kr),Mt(xt(xt(a)),1),this.rotateRight(xt(xt(a))))}else{var d=At(xt(xt(a)));1===rt(d)?(Mt(xt(a),Kr),Mt(d,Kr),Mt(xt(xt(a)),1),a=xt(xt(a))):(a===At(xt(a))&&(a=xt(a),this.rotateRight(a)),Mt(xt(a),Kr),Mt(xt(xt(a)),1),this.rotateLeft(xt(xt(a))))}this.root_.color=Kr},Ft.prototype.values=function(){var a=new ue,l=this.getFirstEntry();if(null!==l)for(a.add(l.value);null!==(l=Ft.successor(l));)a.add(l.value);return a},Ft.prototype.entrySet=function(){var a=new ac,l=this.getFirstEntry();if(null!==l)for(a.add(l);null!==(l=Ft.successor(l));)a.add(l);return a},Ft.prototype.rotateLeft=function(a){if(null!=a){var l=a.right;a.right=l.left,null!=l.left&&(l.left.parent=a),l.parent=a.parent,null===a.parent?this.root_=l:a.parent.left===a?a.parent.left=l:a.parent.right=l,l.left=a,a.parent=l}},Ft.prototype.rotateRight=function(a){if(null!=a){var l=a.left;a.left=l.right,null!=l.right&&(l.right.parent=a),l.parent=a.parent,null===a.parent?this.root_=l:a.parent.right===a?a.parent.right=l:a.parent.left=l,l.right=a,a.parent=l}},Ft.prototype.getFirstEntry=function(){var a=this.root_;if(null!=a)for(;null!=a.left;)a=a.left;return a},Ft.successor=function(a){if(null===a)return null;if(null!==a.right){for(var l=a.right;null!==l.left;)l=l.left;return l}for(var d=a.parent,g=a;null!==d&&g===d.right;)g=d,d=d.parent;return d},Ft.prototype.size=function(){return this.size_};var Ge=function(){};Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge},Nt.prototype=new wt,(Rt.prototype=new Nt).contains=function(a){for(var l=0,d=this.array_.length;l<d;l++)if(0===this.array_[l].compareTo(a))return!0;return!1},Rt.prototype.add=function(a){if(this.contains(a))return!1;for(var l=0,d=this.array_.length;l<d;l++)if(1===this.array_[l].compareTo(a))return this.array_.splice(l,0,a),!0;return this.array_.push(a),!0},Rt.prototype.addAll=function(a){for(var l=a.iterator();l.hasNext();)this.add(l.next());return!0},Rt.prototype.remove=function(a){throw new ft},Rt.prototype.size=function(){return this.array_.length},Rt.prototype.isEmpty=function(){return 0===this.array_.length},Rt.prototype.toArray=function(){for(var a=[],l=0,d=this.array_.length;l<d;l++)a.push(this.array_[l]);return a},Rt.prototype.iterator=function(){return new Dr(this)};var Dr=function(a){this.treeSet_=a,this.position_=0};Dr.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new yt;return this.treeSet_.array_[this.position_++]},Dr.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Dr.prototype.remove=function(){throw new ft};var La=function(){};La.sort=function(){var a,l,d,y=arguments[0];if(1===arguments.length)y.sort(function(S,F){return S.compareTo(F)});else if(2===arguments.length)d=arguments[1],y.sort(function(S,F){return d.compare(S,F)});else if(3===arguments.length){(l=y.slice(arguments[1],arguments[2])).sort();var x=y.slice(0,arguments[1]).concat(l,y.slice(arguments[2],y.length));for(y.splice(0,y.length),a=0;a<x.length;a++)y.push(x[a])}else if(4===arguments.length)for(l=y.slice(arguments[1],arguments[2]),d=arguments[3],l.sort(function(S,F){return d.compare(S,F)}),x=y.slice(0,arguments[1]).concat(l,y.slice(arguments[2],y.length)),y.splice(0,y.length),a=0;a<x.length;a++)y.push(x[a])},La.asList=function(a){for(var l=new ue,d=0,g=a.length;d<g;d++)l.add(a[d]);return l};var Nn=function(){},rs={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};rs.P.get=function(){return 0},rs.L.get=function(){return 1},rs.A.get=function(){return 2},rs.FALSE.get=function(){return-1},rs.TRUE.get=function(){return-2},rs.DONTCARE.get=function(){return-3},rs.SYM_FALSE.get=function(){return"F"},rs.SYM_TRUE.get=function(){return"T"},rs.SYM_DONTCARE.get=function(){return"*"},rs.SYM_P.get=function(){return"0"},rs.SYM_L.get=function(){return"1"},rs.SYM_A.get=function(){return"2"},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.toDimensionSymbol=function(a){switch(a){case Nn.FALSE:return Nn.SYM_FALSE;case Nn.TRUE:return Nn.SYM_TRUE;case Nn.DONTCARE:return Nn.SYM_DONTCARE;case Nn.P:return Nn.SYM_P;case Nn.L:return Nn.SYM_L;case Nn.A:return Nn.SYM_A}throw new Y("Unknown dimension value: "+a)},Nn.toDimensionValue=function(a){switch(Ct.toUpperCase(a)){case Nn.SYM_FALSE:return Nn.FALSE;case Nn.SYM_TRUE:return Nn.TRUE;case Nn.SYM_DONTCARE:return Nn.DONTCARE;case Nn.SYM_P:return Nn.P;case Nn.SYM_L:return Nn.L;case Nn.SYM_A:return Nn.A}throw new Y("Unknown dimension symbol: "+a)},Object.defineProperties(Nn,rs);var os=function(){};os.prototype.filter=function(a){},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os};var jo=function(){};jo.prototype.filter=function(a,l){},jo.prototype.isDone=function(){},jo.prototype.isGeometryChanged=function(){},jo.prototype.interfaces_=function(){return[]},jo.prototype.getClass=function(){return jo};var Sr=function(a){function l(g,y){if(a.call(this,y),this._geometries=g||[],a.hasNullElements(this._geometries))throw new Y("geometries must not contain null elements")}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){for(var g=new ne,y=0;y<this._geometries.length;y++)g.expandToInclude(this._geometries[y].getEnvelopeInternal());return g},l.prototype.getGeometryN=function(g){return this._geometries[g]},l.prototype.getSortIndex=function(){return a.SORTINDEX_GEOMETRYCOLLECTION},l.prototype.getCoordinates=function(){for(var g=new Array(this.getNumPoints()).fill(null),y=-1,x=0;x<this._geometries.length;x++)for(var S=this._geometries[x].getCoordinates(),F=0;F<S.length;F++)g[++y]=S[F];return g},l.prototype.getArea=function(){for(var g=0,y=0;y<this._geometries.length;y++)g+=this._geometries[y].getArea();return g},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];if(!this.isEquivalentClass(g))return!1;var x=g;if(this._geometries.length!==x._geometries.length)return!1;for(var S=0;S<this._geometries.length;S++)if(!this._geometries[S].equalsExact(x._geometries[S],y))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){for(var g=0;g<this._geometries.length;g++)this._geometries[g].normalize();La.sort(this._geometries)},l.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},l.prototype.getBoundaryDimension=function(){for(var g=Nn.FALSE,y=0;y<this._geometries.length;y++)g=Math.max(g,this._geometries[y].getBoundaryDimension());return g},l.prototype.getDimension=function(){for(var g=Nn.FALSE,y=0;y<this._geometries.length;y++)g=Math.max(g,this._geometries[y].getDimension());return g},l.prototype.getLength=function(){for(var g=0,y=0;y<this._geometries.length;y++)g+=this._geometries[y].getLength();return g},l.prototype.getNumPoints=function(){for(var g=0,y=0;y<this._geometries.length;y++)g+=this._geometries[y].getNumPoints();return g},l.prototype.getNumGeometries=function(){return this._geometries.length},l.prototype.reverse=function(){for(var y=new Array(this._geometries.length).fill(null),x=0;x<this._geometries.length;x++)y[x]=this._geometries[x].reverse();return this.getFactory().createGeometryCollection(y)},l.prototype.compareToSameClass=function(){if(1===arguments.length){var g=arguments[0],y=new Rt(La.asList(this._geometries)),x=new Rt(La.asList(g._geometries));return this.compare(y,x)}if(2===arguments.length){for(var F=arguments[1],st=arguments[0],Dt=this.getNumGeometries(),Ht=st.getNumGeometries(),$t=0;$t<Dt&&$t<Ht;){var ge=this.getGeometryN($t),be=st.getGeometryN($t),Oe=ge.compareToSameClass(be,F);if(0!==Oe)return Oe;$t++}return $t<Dt?1:$t<Ht?-1:0}},l.prototype.apply=function(){if(Lt(arguments[0],qe))for(var g=arguments[0],y=0;y<this._geometries.length;y++)this._geometries[y].apply(g);else if(Lt(arguments[0],jo)){var x=arguments[0];if(0===this._geometries.length)return null;for(var S=0;S<this._geometries.length&&(this._geometries[S].apply(x),!x.isDone());S++);x.isGeometryChanged()&&this.geometryChanged()}else if(Lt(arguments[0],os)){var F=arguments[0];F.filter(this);for(var st=0;st<this._geometries.length;st++)this._geometries[st].apply(F)}else if(Lt(arguments[0],nn)){var Dt=arguments[0];Dt.filter(this);for(var Ht=0;Ht<this._geometries.length;Ht++)this._geometries[Ht].apply(Dt)}},l.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),R.shouldNeverReachHere(),null},l.prototype.clone=function(){var g=a.prototype.clone.call(this);g._geometries=new Array(this._geometries.length).fill(null);for(var y=0;y<this._geometries.length;y++)g._geometries[y]=this._geometries[y].clone();return g},l.prototype.getGeometryType=function(){return"GeometryCollection"},l.prototype.copy=function(){for(var g=new Array(this._geometries.length).fill(null),y=0;y<g.length;y++)g[y]=this._geometries[y].copy();return new l(g,this._factory)},l.prototype.isEmpty=function(){for(var g=0;g<this._geometries.length;g++)if(!this._geometries[g].isEmpty())return!1;return!0},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(l,d),l}(he),ka=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return he.SORTINDEX_MULTILINESTRING},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];return!!this.isEquivalentClass(g)&&a.prototype.equalsExact.call(this,g,y)}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return this.isClosed()?Nn.FALSE:0},l.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var g=0;g<this._geometries.length;g++)if(!this._geometries[g].isClosed())return!1;return!0},l.prototype.getDimension=function(){return 1},l.prototype.reverse=function(){for(var g=this._geometries.length,y=new Array(g).fill(null),x=0;x<this._geometries.length;x++)y[g-1-x]=this._geometries[x].reverse();return this.getFactory().createMultiLineString(y)},l.prototype.getBoundary=function(){return new Ar(this).getBoundary()},l.prototype.getGeometryType=function(){return"MultiLineString"},l.prototype.copy=function(){for(var g=new Array(this._geometries.length).fill(null),y=0;y<g.length;y++)g[y]=this._geometries[y].copy();return new l(g,this._factory)},l.prototype.interfaces_=function(){return[Ge]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(l,d),l}(Sr),Ar=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var a=arguments[0],l=dn.MOD2_BOUNDARY_RULE;this._geom=a,this._geomFact=a.getFactory(),this._bnRule=l}else if(2===arguments.length){var d=arguments[0],g=arguments[1];this._geom=d,this._geomFact=d.getFactory(),this._bnRule=g}};Ar.prototype.boundaryMultiLineString=function(a){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var l=this.computeBoundaryCoordinates(a);return 1===l.length?this._geomFact.createPoint(l[0]):this._geomFact.createMultiPointFromCoords(l)},Ar.prototype.getBoundary=function(){return this._geom instanceof ur?this.boundaryLineString(this._geom):this._geom instanceof ka?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ar.prototype.boundaryLineString=function(a){return this._geom.isEmpty()?this.getEmptyMultiPoint():a.isClosed()?this._bnRule.isInBoundary(2)?a.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([a.getStartPoint(),a.getEndPoint()])},Ar.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ar.prototype.computeBoundaryCoordinates=function(a){var l=new ue;this._endpointMap=new Ft;for(var d=0;d<a.getNumGeometries();d++){var g=a.getGeometryN(d);0!==g.getNumPoints()&&(this.addEndpoint(g.getCoordinateN(0)),this.addEndpoint(g.getCoordinateN(g.getNumPoints()-1)))}for(var y=this._endpointMap.entrySet().iterator();y.hasNext();){var x=y.next(),S=x.getValue().count;this._bnRule.isInBoundary(S)&&l.add(x.getKey())}return sn.toCoordinateArray(l)},Ar.prototype.addEndpoint=function(a){var l=this._endpointMap.get(a);null===l&&(l=new uc,this._endpointMap.put(a,l)),l.count++},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.getBoundary=function(){return 1===arguments.length?new Ar(arguments[0]).getBoundary():2===arguments.length?new Ar(arguments[0],arguments[1]).getBoundary():void 0};var uc=function(){this.count=null};uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var wi=function(){},su={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi},wi.chars=function(a,l){for(var d=new Array(l).fill(null),g=0;g<l;g++)d[g]=a;return String(d)},wi.getStackTrace=function(){if(1===arguments.length){var a=arguments[0],l=new function(){},d=new function(){}(l);return a.printStackTrace(d),l.toString()}if(2===arguments.length){for(var y=arguments[1],x="",S=new function(){}(new function(){}(wi.getStackTrace(arguments[0]))),F=0;F<y;F++)try{x+=S.readLine()+wi.NEWLINE}catch(st){if(!(st instanceof ie))throw st;R.shouldNeverReachHere()}return x}},wi.split=function(a,l){for(var d=l.length,g=new ue,y=""+a,x=y.indexOf(l);x>=0;){var S=y.substring(0,x);g.add(S),x=(y=y.substring(x+d)).indexOf(l)}y.length>0&&g.add(y);for(var F=new Array(g.size()).fill(null),st=0;st<F.length;st++)F[st]=g.get(st);return F},wi.toString=function(){if(1===arguments.length)return wi.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},wi.spaces=function(a){return wi.chars(" ",a)},su.NEWLINE.get=function(){return jt.getProperty("line.separator")},su.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(wi,su);var Fn=function(){};Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.copyCoord=function(a,l,d,g){for(var y=Math.min(a.getDimension(),d.getDimension()),x=0;x<y;x++)d.setOrdinate(g,x,a.getOrdinate(l,x))},Fn.isRing=function(a){var l=a.size();return 0===l||!(l<=3)&&a.getOrdinate(0,ut.X)===a.getOrdinate(l-1,ut.X)&&a.getOrdinate(0,ut.Y)===a.getOrdinate(l-1,ut.Y)},Fn.isEqual=function(a,l){var d=a.size();if(d!==l.size())return!1;for(var g=Math.min(a.getDimension(),l.getDimension()),y=0;y<d;y++)for(var x=0;x<g;x++){var S=a.getOrdinate(y,x),F=l.getOrdinate(y,x);if(!(a.getOrdinate(y,x)===l.getOrdinate(y,x)||j.isNaN(S)&&j.isNaN(F)))return!1}return!0},Fn.extend=function(a,l,d){var g=a.create(d,l.getDimension()),y=l.size();if(Fn.copy(l,0,g,0,y),y>0)for(var x=y;x<d;x++)Fn.copy(l,y-1,g,x,1);return g},Fn.reverse=function(a){for(var l=a.size()-1,d=Math.trunc(l/2),g=0;g<=d;g++)Fn.swap(a,g,l-g)},Fn.swap=function(a,l,d){if(l===d)return null;for(var g=0;g<a.getDimension();g++){var y=a.getOrdinate(l,g);a.setOrdinate(l,g,a.getOrdinate(d,g)),a.setOrdinate(d,g,y)}},Fn.copy=function(a,l,d,g,y){for(var x=0;x<y;x++)Fn.copyCoord(a,l+x,d,g+x)},Fn.toString=function(){if(1===arguments.length){var a=arguments[0],l=a.size();if(0===l)return"()";var d=a.getDimension(),g=new at;g.append("(");for(var y=0;y<l;y++){y>0&&g.append(" ");for(var x=0;x<d;x++)x>0&&g.append(","),g.append(wi.toString(a.getOrdinate(y,x)))}return g.append(")"),g.toString()}},Fn.ensureValidRing=function(a,l){var d=l.size();return 0===d?l:d<=3?Fn.createClosedRing(a,l,4):l.getOrdinate(0,ut.X)===l.getOrdinate(d-1,ut.X)&&l.getOrdinate(0,ut.Y)===l.getOrdinate(d-1,ut.Y)?l:Fn.createClosedRing(a,l,d+1)},Fn.createClosedRing=function(a,l,d){var g=a.create(d,l.getDimension()),y=l.size();Fn.copy(l,0,g,0,y);for(var x=y;x<d;x++)Fn.copy(l,0,g,x,1);return g};var ur=function(a){function l(g,y){a.call(this,y),this._points=null,this.init(g)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new ne:this._points.expandEnvelope(new ne)},l.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},l.prototype.getSortIndex=function(){return a.SORTINDEX_LINESTRING},l.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];if(!this.isEquivalentClass(g))return!1;var x=g;if(this._points.size()!==x._points.size())return!1;for(var S=0;S<this._points.size();S++)if(!this.equal(this._points.getCoordinate(S),x._points.getCoordinate(S),y))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){for(var g=0;g<Math.trunc(this._points.size()/2);g++){var y=this._points.size()-1-g;if(!this._points.getCoordinate(g).equals(this._points.getCoordinate(y)))return this._points.getCoordinate(g).compareTo(this._points.getCoordinate(y))>0&&Fn.reverse(this._points),null}},l.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},l.prototype.getBoundaryDimension=function(){return this.isClosed()?Nn.FALSE:0},l.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},l.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},l.prototype.getDimension=function(){return 1},l.prototype.getLength=function(){return Ut.computeLength(this._points)},l.prototype.getNumPoints=function(){return this._points.size()},l.prototype.reverse=function(){var g=this._points.copy();return Fn.reverse(g),this.getFactory().createLineString(g)},l.prototype.compareToSameClass=function(){if(1===arguments.length){for(var g=arguments[0],y=0,x=0;y<this._points.size()&&x<g._points.size();){var S=this._points.getCoordinate(y).compareTo(g._points.getCoordinate(x));if(0!==S)return S;y++,x++}return y<this._points.size()?1:x<g._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},l.prototype.apply=function(){if(Lt(arguments[0],qe))for(var g=arguments[0],y=0;y<this._points.size();y++)g.filter(this._points.getCoordinate(y));else if(Lt(arguments[0],jo)){var x=arguments[0];if(0===this._points.size())return null;for(var S=0;S<this._points.size()&&(x.filter(this._points,S),!x.isDone());S++);x.isGeometryChanged()&&this.geometryChanged()}else(Lt(arguments[0],os)||Lt(arguments[0],nn))&&arguments[0].filter(this)},l.prototype.getBoundary=function(){return new Ar(this).getBoundary()},l.prototype.isEquivalentClass=function(g){return g instanceof l},l.prototype.clone=function(){var g=a.prototype.clone.call(this);return g._points=this._points.clone(),g},l.prototype.getCoordinateN=function(g){return this._points.getCoordinate(g)},l.prototype.getGeometryType=function(){return"LineString"},l.prototype.copy=function(){return new l(this._points.copy(),this._factory)},l.prototype.getCoordinateSequence=function(){return this._points},l.prototype.isEmpty=function(){return 0===this._points.size()},l.prototype.init=function(g){if(null===g&&(g=this.getFactory().getCoordinateSequenceFactory().create([])),1===g.size())throw new Y("Invalid number of points in LineString (found "+g.size()+" - must be 0 or >= 2)");this._points=g},l.prototype.isCoordinate=function(g){for(var y=0;y<this._points.size();y++)if(this._points.getCoordinate(y).equals(g))return!0;return!1},l.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},l.prototype.getPointN=function(g){return this.getFactory().createPoint(this._points.getCoordinate(g))},l.prototype.interfaces_=function(){return[Ge]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(l,d),l}(he),au=function(){};au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au};var Do=function(a){function l(g,y){a.call(this,y),this._coordinates=g||null,this.init(this._coordinates)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new ne;var g=new ne;return g.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),g},l.prototype.getSortIndex=function(){return a.SORTINDEX_POINT},l.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];return!!this.isEquivalentClass(g)&&(!(!this.isEmpty()||!g.isEmpty())||this.isEmpty()===g.isEmpty()&&this.equal(g.getCoordinate(),this.getCoordinate(),y))}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){},l.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},l.prototype.getBoundaryDimension=function(){return Nn.FALSE},l.prototype.getDimension=function(){return 0},l.prototype.getNumPoints=function(){return this.isEmpty()?0:1},l.prototype.reverse=function(){return this.copy()},l.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},l.prototype.compareToSameClass=function(){if(1===arguments.length){var g=arguments[0];return this.getCoordinate().compareTo(g.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},l.prototype.apply=function(){if(Lt(arguments[0],qe)){var g=arguments[0];if(this.isEmpty())return null;g.filter(this.getCoordinate())}else if(Lt(arguments[0],jo)){var y=arguments[0];if(this.isEmpty())return null;y.filter(this._coordinates,0),y.isGeometryChanged()&&this.geometryChanged()}else(Lt(arguments[0],os)||Lt(arguments[0],nn))&&arguments[0].filter(this)},l.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},l.prototype.clone=function(){var g=a.prototype.clone.call(this);return g._coordinates=this._coordinates.clone(),g},l.prototype.getGeometryType=function(){return"Point"},l.prototype.copy=function(){return new l(this._coordinates.copy(),this._factory)},l.prototype.getCoordinateSequence=function(){return this._coordinates},l.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},l.prototype.isEmpty=function(){return 0===this._coordinates.size()},l.prototype.init=function(g){null===g&&(g=this.getFactory().getCoordinateSequenceFactory().create([])),R.isTrue(g.size()<=1),this._coordinates=g},l.prototype.isSimple=function(){return!0},l.prototype.interfaces_=function(){return[au]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(l,d),l}(he),Ks=function(){};Ks.prototype.interfaces_=function(){return[]},Ks.prototype.getClass=function(){return Ks};var Qi=function(a){function l(g,y,x){if(a.call(this,x),this._shell=null,this._holes=null,null===g&&(g=this.getFactory().createLinearRing()),null===y&&(y=[]),a.hasNullElements(y))throw new Y("holes must not contain null elements");if(g.isEmpty()&&a.hasNonEmptyElements(y))throw new Y("shell is empty but holes are not");this._shell=g,this._holes=y}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},l.prototype.getSortIndex=function(){return a.SORTINDEX_POLYGON},l.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var g=new Array(this.getNumPoints()).fill(null),y=-1,x=this._shell.getCoordinates(),S=0;S<x.length;S++)g[++y]=x[S];for(var F=0;F<this._holes.length;F++)for(var st=this._holes[F].getCoordinates(),Dt=0;Dt<st.length;Dt++)g[++y]=st[Dt];return g},l.prototype.getArea=function(){var g=0;g+=Math.abs(Ut.signedArea(this._shell.getCoordinateSequence()));for(var y=0;y<this._holes.length;y++)g-=Math.abs(Ut.signedArea(this._holes[y].getCoordinateSequence()));return g},l.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var g=this._shell.getCoordinateSequence(),y=this.getEnvelopeInternal(),x=0;x<5;x++){var S=g.getX(x);if(S!==y.getMinX()&&S!==y.getMaxX())return!1;var F=g.getY(x);if(F!==y.getMinY()&&F!==y.getMaxY())return!1}for(var st=g.getX(0),Dt=g.getY(0),Ht=1;Ht<=4;Ht++){var $t=g.getX(Ht),ge=g.getY(Ht);if($t!==st==(ge!==Dt))return!1;st=$t,Dt=ge}return!0},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];if(!this.isEquivalentClass(g))return!1;var x=g;if(!this._shell.equalsExact(x._shell,y)||this._holes.length!==x._holes.length)return!1;for(var st=0;st<this._holes.length;st++)if(!this._holes[st].equalsExact(x._holes[st],y))return!1;return!0}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var g=0;g<this._holes.length;g++)this.normalize(this._holes[g],!1);La.sort(this._holes)}else if(2===arguments.length){var y=arguments[0],x=arguments[1];if(y.isEmpty())return null;var S=new Array(y.getCoordinates().length-1).fill(null);jt.arraycopy(y.getCoordinates(),0,S,0,S.length);var F=sn.minCoordinate(y.getCoordinates());sn.scroll(S,F),jt.arraycopy(S,0,y.getCoordinates(),0,S.length),y.getCoordinates()[S.length]=S[0],Ut.isCCW(y.getCoordinates())===x&&sn.reverse(y.getCoordinates())}},l.prototype.getCoordinate=function(){return this._shell.getCoordinate()},l.prototype.getNumInteriorRing=function(){return this._holes.length},l.prototype.getBoundaryDimension=function(){return 1},l.prototype.getDimension=function(){return 2},l.prototype.getLength=function(){var g=0;g+=this._shell.getLength();for(var y=0;y<this._holes.length;y++)g+=this._holes[y].getLength();return g},l.prototype.getNumPoints=function(){for(var g=this._shell.getNumPoints(),y=0;y<this._holes.length;y++)g+=this._holes[y].getNumPoints();return g},l.prototype.reverse=function(){var g=this.copy();g._shell=this._shell.copy().reverse(),g._holes=new Array(this._holes.length).fill(null);for(var y=0;y<this._holes.length;y++)g._holes[y]=this._holes[y].copy().reverse();return g},l.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},l.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var F=arguments[1],st=arguments[0],$t=this._shell.compareToSameClass(st._shell,F);if(0!==$t)return $t;for(var ge=this.getNumInteriorRing(),be=st.getNumInteriorRing(),Oe=0;Oe<ge&&Oe<be;){var Xe=this.getInteriorRingN(Oe),Ci=st.getInteriorRingN(Oe),Yr=Xe.compareToSameClass(Ci,F);if(0!==Yr)return Yr;Oe++}return Oe<ge?1:Oe<be?-1:0}},l.prototype.apply=function(g){if(Lt(g,qe)){this._shell.apply(g);for(var y=0;y<this._holes.length;y++)this._holes[y].apply(g)}else if(Lt(g,jo)){if(this._shell.apply(g),!g.isDone())for(var x=0;x<this._holes.length&&(this._holes[x].apply(g),!g.isDone());x++);g.isGeometryChanged()&&this.geometryChanged()}else if(Lt(g,os))g.filter(this);else if(Lt(g,nn)){g.filter(this),this._shell.apply(g);for(var S=0;S<this._holes.length;S++)this._holes[S].apply(g)}},l.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var g=new Array(this._holes.length+1).fill(null);g[0]=this._shell;for(var y=0;y<this._holes.length;y++)g[y+1]=this._holes[y];return g.length<=1?this.getFactory().createLinearRing(g[0].getCoordinateSequence()):this.getFactory().createMultiLineString(g)},l.prototype.clone=function(){var g=a.prototype.clone.call(this);g._shell=this._shell.clone(),g._holes=new Array(this._holes.length).fill(null);for(var y=0;y<this._holes.length;y++)g._holes[y]=this._holes[y].clone();return g},l.prototype.getGeometryType=function(){return"Polygon"},l.prototype.copy=function(){for(var g=this._shell.copy(),y=new Array(this._holes.length).fill(null),x=0;x<y.length;x++)y[x]=this._holes[x].copy();return new l(g,y,this._factory)},l.prototype.getExteriorRing=function(){return this._shell},l.prototype.isEmpty=function(){return this._shell.isEmpty()},l.prototype.getInteriorRingN=function(g){return this._holes[g]},l.prototype.interfaces_=function(){return[Ks]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(l,d),l}(he),ga=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return he.SORTINDEX_MULTIPOINT},l.prototype.isValid=function(){return!0},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];return!!this.isEquivalentClass(g)&&a.prototype.equalsExact.call(this,g,y)}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():a.prototype.getCoordinate.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return Nn.FALSE},l.prototype.getDimension=function(){return 0},l.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},l.prototype.getGeometryType=function(){return"MultiPoint"},l.prototype.copy=function(){for(var g=new Array(this._geometries.length).fill(null),y=0;y<g.length;y++)g[y]=this._geometries[y].copy();return new l(g,this._factory)},l.prototype.interfaces_=function(){return[au]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(l,d),l}(Sr),Qs=function(a){function l(g,y){g instanceof k&&y instanceof Ve&&(g=y.getCoordinateSequenceFactory().create(g)),a.call(this,g,y),this.validateConstruction()}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return he.SORTINDEX_LINEARRING},l.prototype.getBoundaryDimension=function(){return Nn.FALSE},l.prototype.isClosed=function(){return!!this.isEmpty()||a.prototype.isClosed.call(this)},l.prototype.reverse=function(){var g=this._points.copy();return Fn.reverse(g),this.getFactory().createLinearRing(g)},l.prototype.validateConstruction=function(){if(!this.isEmpty()&&!a.prototype.isClosed.call(this))throw new Y("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<l.MINIMUM_VALID_SIZE)throw new Y("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},l.prototype.getGeometryType=function(){return"LinearRing"},l.prototype.copy=function(){return new l(this._points.copy(),this._factory)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.MINIMUM_VALID_SIZE.get=function(){return 4},d.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(l,d),l}(ur),ss=function(a){function l(){a.apply(this,arguments)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={serialVersionUID:{configurable:!0}};return l.prototype.getSortIndex=function(){return he.SORTINDEX_MULTIPOLYGON},l.prototype.equalsExact=function(){if(2===arguments.length){var g=arguments[0],y=arguments[1];return!!this.isEquivalentClass(g)&&a.prototype.equalsExact.call(this,g,y)}return a.prototype.equalsExact.apply(this,arguments)},l.prototype.getBoundaryDimension=function(){return 1},l.prototype.getDimension=function(){return 2},l.prototype.reverse=function(){for(var y=new Array(this._geometries.length).fill(null),x=0;x<this._geometries.length;x++)y[x]=this._geometries[x].reverse();return this.getFactory().createMultiPolygon(y)},l.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var g=new ue,y=0;y<this._geometries.length;y++)for(var x=this._geometries[y].getBoundary(),S=0;S<x.getNumGeometries();S++)g.add(x.getGeometryN(S));var F=new Array(g.size()).fill(null);return this.getFactory().createMultiLineString(g.toArray(F))},l.prototype.getGeometryType=function(){return"MultiPolygon"},l.prototype.copy=function(){for(var g=new Array(this._geometries.length).fill(null),y=0;y<g.length;y++)g[y]=this._geometries[y].copy();return new l(g,this._factory)},l.prototype.interfaces_=function(){return[Ks]},l.prototype.getClass=function(){return l},d.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(l,d),l}(Sr),ro=function(a){this._factory=a||null,this._isUserDataCopied=!1},Il={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ro.prototype.setCopyUserData=function(a){this._isUserDataCopied=a},ro.prototype.edit=function(a,l){if(null===a)return null;var d=this.editInternal(a,l);return this._isUserDataCopied&&d.setUserData(a.getUserData()),d},ro.prototype.editInternal=function(a,l){return null===this._factory&&(this._factory=a.getFactory()),a instanceof Sr?this.editGeometryCollection(a,l):a instanceof Qi?this.editPolygon(a,l):a instanceof Do||a instanceof ur?l.edit(a,this._factory):(R.shouldNeverReachHere("Unsupported Geometry class: "+a.getClass().getName()),null)},ro.prototype.editGeometryCollection=function(a,l){for(var d=l.edit(a,this._factory),g=new ue,y=0;y<d.getNumGeometries();y++){var x=this.edit(d.getGeometryN(y),l);null===x||x.isEmpty()||g.add(x)}return d.getClass()===ga?this._factory.createMultiPoint(g.toArray([])):d.getClass()===ka?this._factory.createMultiLineString(g.toArray([])):d.getClass()===ss?this._factory.createMultiPolygon(g.toArray([])):this._factory.createGeometryCollection(g.toArray([]))},ro.prototype.editPolygon=function(a,l){var d=l.edit(a,this._factory);if(null===d&&(d=this._factory.createPolygon(null)),d.isEmpty())return d;var g=this.edit(d.getExteriorRing(),l);if(null===g||g.isEmpty())return this._factory.createPolygon();for(var y=new ue,x=0;x<d.getNumInteriorRing();x++){var S=this.edit(d.getInteriorRingN(x),l);null===S||S.isEmpty()||y.add(S)}return this._factory.createPolygon(g,y.toArray([]))},ro.prototype.interfaces_=function(){return[]},ro.prototype.getClass=function(){return ro},ro.GeometryEditorOperation=function(){},Il.NoOpGeometryOperation.get=function(){return Ju},Il.CoordinateOperation.get=function(){return Fa},Il.CoordinateSequenceOperation.get=function(){return Vn},Object.defineProperties(ro,Il);var Ju=function(){};Ju.prototype.edit=function(a,l){return a},Ju.prototype.interfaces_=function(){return[ro.GeometryEditorOperation]},Ju.prototype.getClass=function(){return Ju};var Fa=function(){};Fa.prototype.edit=function(a,l){var d=this.editCoordinates(a.getCoordinates(),a);return null===d?a:a instanceof Qs?l.createLinearRing(d):a instanceof ur?l.createLineString(d):a instanceof Do?d.length>0?l.createPoint(d[0]):l.createPoint():a},Fa.prototype.interfaces_=function(){return[ro.GeometryEditorOperation]},Fa.prototype.getClass=function(){return Fa};var Vn=function(){};Vn.prototype.edit=function(a,l){return a instanceof Qs?l.createLinearRing(this.edit(a.getCoordinateSequence(),a)):a instanceof ur?l.createLineString(this.edit(a.getCoordinateSequence(),a)):a instanceof Do?l.createPoint(this.edit(a.getCoordinateSequence(),a)):a},Vn.prototype.interfaces_=function(){return[ro.GeometryEditorOperation]},Vn.prototype.getClass=function(){return Vn};var ln=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var a=arguments[0];this._coordinates=new Array(a).fill(null);for(var l=0;l<a;l++)this._coordinates[l]=new k}else if(Lt(arguments[0],ut)){var d=arguments[0];if(null===d)return this._coordinates=new Array(0).fill(null),null;this._dimension=d.getDimension(),this._coordinates=new Array(d.size()).fill(null);for(var g=0;g<this._coordinates.length;g++)this._coordinates[g]=d.getCoordinateCopy(g)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var y=arguments[0],x=arguments[1];this._coordinates=y,this._dimension=x,null===y&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var S=arguments[0],F=arguments[1];this._coordinates=new Array(S).fill(null),this._dimension=F;for(var st=0;st<S;st++)this._coordinates[st]=new k}},Tl={serialVersionUID:{configurable:!0}};ln.prototype.setOrdinate=function(a,l,d){switch(l){case ut.X:this._coordinates[a].x=d;break;case ut.Y:this._coordinates[a].y=d;break;case ut.Z:this._coordinates[a].z=d;break;default:throw new Y("invalid ordinateIndex")}},ln.prototype.size=function(){return this._coordinates.length},ln.prototype.getOrdinate=function(a,l){switch(l){case ut.X:return this._coordinates[a].x;case ut.Y:return this._coordinates[a].y;case ut.Z:return this._coordinates[a].z}return j.NaN},ln.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var l=arguments[0],d=arguments[1];d.x=this._coordinates[l].x,d.y=this._coordinates[l].y,d.z=this._coordinates[l].z}},ln.prototype.getCoordinateCopy=function(a){return new k(this._coordinates[a])},ln.prototype.getDimension=function(){return this._dimension},ln.prototype.getX=function(a){return this._coordinates[a].x},ln.prototype.clone=function(){for(var a=new Array(this.size()).fill(null),l=0;l<this._coordinates.length;l++)a[l]=this._coordinates[l].clone();return new ln(a,this._dimension)},ln.prototype.expandEnvelope=function(a){for(var l=0;l<this._coordinates.length;l++)a.expandToInclude(this._coordinates[l]);return a},ln.prototype.copy=function(){for(var a=new Array(this.size()).fill(null),l=0;l<this._coordinates.length;l++)a[l]=this._coordinates[l].copy();return new ln(a,this._dimension)},ln.prototype.toString=function(){if(this._coordinates.length>0){var a=new at(17*this._coordinates.length);a.append("("),a.append(this._coordinates[0]);for(var l=1;l<this._coordinates.length;l++)a.append(", "),a.append(this._coordinates[l]);return a.append(")"),a.toString()}return"()"},ln.prototype.getY=function(a){return this._coordinates[a].y},ln.prototype.toCoordinateArray=function(){return this._coordinates},ln.prototype.interfaces_=function(){return[ut,J]},ln.prototype.getClass=function(){return ln},Tl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ln,Tl);var Ro=function(){},lr={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ro.prototype.readResolve=function(){return Ro.instance()},Ro.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ln(arguments[0]);if(Lt(arguments[0],ut))return new ln(arguments[0])}else if(2===arguments.length){var d=arguments[0],g=arguments[1];return g>3&&(g=3),g<2?new ln(d):new ln(d,g)}},Ro.prototype.interfaces_=function(){return[bt,J]},Ro.prototype.getClass=function(){return Ro},Ro.instance=function(){return Ro.instanceObject},lr.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},lr.instanceObject.get=function(){return new Ro},Object.defineProperties(Ro,lr);var Nl=function(a){function l(){a.call(this),this.map_=new Map}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.get=function(d){return this.map_.get(d)||null},l.prototype.put=function(d,g){return this.map_.set(d,g),g},l.prototype.values=function(){for(var d=new ue,g=this.map_.values(),y=g.next();!y.done;)d.add(y.value),y=g.next();return d},l.prototype.entrySet=function(){var d=new ac;return this.map_.entries().forEach(function(g){return d.add(g)}),d},l.prototype.size=function(){return this.map_.size()},l}(ou),_e=function a(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=a.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Ho){var l=arguments[0];this._modelType=l,l===a.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var d=arguments[0];this._modelType=a.FIXED,this.setScale(d)}else if(arguments[0]instanceof a){var g=arguments[0];this._modelType=g._modelType,this._scale=g._scale}},Pe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};_e.prototype.equals=function(a){return a instanceof _e&&this._modelType===a._modelType&&this._scale===a._scale},_e.prototype.compareTo=function(a){var l=a,d=this.getMaximumSignificantDigits(),g=l.getMaximumSignificantDigits();return new gt(d).compareTo(new gt(g))},_e.prototype.getScale=function(){return this._scale},_e.prototype.isFloating=function(){return this._modelType===_e.FLOATING||this._modelType===_e.FLOATING_SINGLE},_e.prototype.getType=function(){return this._modelType},_e.prototype.toString=function(){var a="UNKNOWN";return this._modelType===_e.FLOATING?a="Floating":this._modelType===_e.FLOATING_SINGLE?a="Floating-Single":this._modelType===_e.FIXED&&(a="Fixed (Scale="+this.getScale()+")"),a},_e.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var a=arguments[0];return j.isNaN(a)||this._modelType===_e.FLOATING_SINGLE?a:this._modelType===_e.FIXED?Math.round(a*this._scale)/this._scale:a}if(arguments[0]instanceof k){var l=arguments[0];if(this._modelType===_e.FLOATING)return null;l.x=this.makePrecise(l.x),l.y=this.makePrecise(l.y)}},_e.prototype.getMaximumSignificantDigits=function(){var a=16;return this._modelType===_e.FLOATING?a=16:this._modelType===_e.FLOATING_SINGLE?a=6:this._modelType===_e.FIXED&&(a=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),a},_e.prototype.setScale=function(a){this._scale=Math.abs(a)},_e.prototype.interfaces_=function(){return[J,G]},_e.prototype.getClass=function(){return _e},_e.mostPrecise=function(a,l){return a.compareTo(l)>=0?a:l},Pe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Pe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(_e,Pe);var Ho=function a(l){this._name=l||null,a.nameToTypeMap.put(l,this)},uu={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ho.prototype.readResolve=function(){return Ho.nameToTypeMap.get(this._name)},Ho.prototype.toString=function(){return this._name},Ho.prototype.interfaces_=function(){return[J]},Ho.prototype.getClass=function(){return Ho},uu.serialVersionUID.get=function(){return-552860263173159e4},uu.nameToTypeMap.get=function(){return new Nl},Object.defineProperties(Ho,uu),_e.Type=Ho,_e.FIXED=new Ho("FIXED"),_e.FLOATING=new Ho("FLOATING"),_e.FLOATING_SINGLE=new Ho("FLOATING SINGLE");var Ve=function a(){this._precisionModel=new _e,this._SRID=0,this._coordinateSequenceFactory=a.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Lt(arguments[0],bt)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof _e&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},qc={serialVersionUID:{configurable:!0}};Ve.prototype.toGeometry=function(a){return a.isNull()?this.createPoint(null):a.getMinX()===a.getMaxX()&&a.getMinY()===a.getMaxY()?this.createPoint(new k(a.getMinX(),a.getMinY())):a.getMinX()===a.getMaxX()||a.getMinY()===a.getMaxY()?this.createLineString([new k(a.getMinX(),a.getMinY()),new k(a.getMaxX(),a.getMaxY())]):this.createPolygon(this.createLinearRing([new k(a.getMinX(),a.getMinY()),new k(a.getMinX(),a.getMaxY()),new k(a.getMaxX(),a.getMaxY()),new k(a.getMaxX(),a.getMinY()),new k(a.getMinX(),a.getMinY())]),null)},Ve.prototype.createLineString=function(a){return a?a instanceof Array?new ur(this.getCoordinateSequenceFactory().create(a),this):Lt(a,ut)?new ur(a,this):void 0:new ur(this.getCoordinateSequenceFactory().create([]),this)},Ve.prototype.createMultiLineString=function(){return 0===arguments.length?new ka(null,this):1===arguments.length?new ka(arguments[0],this):void 0},Ve.prototype.buildGeometry=function(a){for(var l=null,d=!1,g=!1,y=a.iterator();y.hasNext();){var x=y.next(),S=x.getClass();null===l&&(l=S),S!==l&&(d=!0),x.isGeometryCollectionOrDerived()&&(g=!0)}if(null===l)return this.createGeometryCollection();if(d||g)return this.createGeometryCollection(Ve.toGeometryArray(a));var F=a.iterator().next();if(a.size()>1){if(F instanceof Qi)return this.createMultiPolygon(Ve.toPolygonArray(a));if(F instanceof ur)return this.createMultiLineString(Ve.toLineStringArray(a));if(F instanceof Do)return this.createMultiPoint(Ve.toPointArray(a));R.shouldNeverReachHere("Unhandled class: "+F.getClass().getName())}return F},Ve.prototype.createMultiPointFromCoords=function(a){return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)},Ve.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof k){var a=arguments[0];return this.createPoint(null!==a?this.getCoordinateSequenceFactory().create([a]):null)}if(Lt(arguments[0],ut))return new Do(arguments[0],this)}},Ve.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ve.prototype.createPolygon=function(){if(0===arguments.length)return new Qi(null,null,this);if(1===arguments.length){if(Lt(arguments[0],ut))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Qs)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Qi(arguments[0],arguments[1],this)},Ve.prototype.getSRID=function(){return this._SRID},Ve.prototype.createGeometryCollection=function(){return 0===arguments.length?new Sr(null,this):1===arguments.length?new Sr(arguments[0],this):void 0},Ve.prototype.createGeometry=function(a){return new ro(this).edit(a,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ve.prototype.getPrecisionModel=function(){return this._precisionModel},Ve.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var a=arguments[0];return this.createLinearRing(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Lt(arguments[0],ut))return new Qs(arguments[0],this)}},Ve.prototype.createMultiPolygon=function(){return 0===arguments.length?new ss(null,this):1===arguments.length?new ss(arguments[0],this):void 0},Ve.prototype.createMultiPoint=function(){if(0===arguments.length)return new ga(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new ga(arguments[0],this);if(arguments[0]instanceof Array){var l=arguments[0];return this.createMultiPoint(null!==l?this.getCoordinateSequenceFactory().create(l):null)}if(Lt(arguments[0],ut)){var d=arguments[0];if(null===d)return this.createMultiPoint(new Array(0).fill(null));for(var g=new Array(d.size()).fill(null),y=0;y<d.size();y++){var x=this.getCoordinateSequenceFactory().create(1,d.getDimension());Fn.copy(d,y,x,0,1),g[y]=this.createPoint(x)}return this.createMultiPoint(g)}}},Ve.prototype.interfaces_=function(){return[J]},Ve.prototype.getClass=function(){return Ve},Ve.toMultiPolygonArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toGeometryArray=function(a){if(null===a)return null;var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.getDefaultCoordinateSequenceFactory=function(){return Ro.instance()},Ve.toMultiLineStringArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toLineStringArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toMultiPointArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toLinearRingArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toPointArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.toPolygonArray=function(a){var l=new Array(a.size()).fill(null);return a.toArray(l)},Ve.createPointFromInternalCoord=function(a,l){return l.getPrecisionModel().makePrecise(a),l.getFactory().createPoint(a)},qc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ve,qc);var lc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Pn=function(a){this.geometryFactory=a||new Ve};Pn.prototype.read=function(a){var l,d=(l="string"==typeof a?JSON.parse(a):a).type;if(!mi[d])throw new Error("Unknown GeoJSON type: "+l.type);return-1!==lc.indexOf(d)?mi[d].apply(this,[l.coordinates]):mi[d].apply(this,"GeometryCollection"===d?[l.geometries]:[l])},Pn.prototype.write=function(a){var l=a.getGeometryType();if(!_i[l])throw new Error("Geometry is not supported");return _i[l].apply(this,[a])};var mi={Feature:function(a){var l={};for(var d in a)l[d]=a[d];if(a.geometry){if(!mi[a.geometry.type])throw new Error("Unknown GeoJSON type: "+a.type);l.geometry=this.read(a.geometry)}return a.bbox&&(l.bbox=mi.bbox.apply(this,[a.bbox])),l},FeatureCollection:function(a){var l={};if(a.features){l.features=[];for(var d=0;d<a.features.length;++d)l.features.push(this.read(a.features[d]))}return a.bbox&&(l.bbox=this.parse.bbox.apply(this,[a.bbox])),l},coordinates:function(a){for(var l=[],d=0;d<a.length;++d){var g=a[d];l.push(new k(g[0],g[1]))}return l},bbox:function(a){return this.geometryFactory.createLinearRing([new k(a[0],a[1]),new k(a[2],a[1]),new k(a[2],a[3]),new k(a[0],a[3]),new k(a[0],a[1])])},Point:function(a){var l=new k(a[0],a[1]);return this.geometryFactory.createPoint(l)},MultiPoint:function(a){for(var l=[],d=0;d<a.length;++d)l.push(mi.Point.apply(this,[a[d]]));return this.geometryFactory.createMultiPoint(l)},LineString:function(a){var l=mi.coordinates.apply(this,[a]);return this.geometryFactory.createLineString(l)},MultiLineString:function(a){for(var l=[],d=0;d<a.length;++d)l.push(mi.LineString.apply(this,[a[d]]));return this.geometryFactory.createMultiLineString(l)},Polygon:function(a){for(var l=mi.coordinates.apply(this,[a[0]]),d=this.geometryFactory.createLinearRing(l),g=[],y=1;y<a.length;++y){var S=mi.coordinates.apply(this,[a[y]]),F=this.geometryFactory.createLinearRing(S);g.push(F)}return this.geometryFactory.createPolygon(d,g)},MultiPolygon:function(a){for(var l=[],d=0;d<a.length;++d)l.push(mi.Polygon.apply(this,[a[d]]));return this.geometryFactory.createMultiPolygon(l)},GeometryCollection:function(a){for(var l=[],d=0;d<a.length;++d)l.push(this.read(a[d]));return this.geometryFactory.createGeometryCollection(l)}},_i={coordinate:function(a){return[a.x,a.y]},Point:function(a){return{type:"Point",coordinates:_i.coordinate.apply(this,[a.getCoordinate()])}},MultiPoint:function(a){for(var l=[],d=0;d<a._geometries.length;++d){var y=_i.Point.apply(this,[a._geometries[d]]);l.push(y.coordinates)}return{type:"MultiPoint",coordinates:l}},LineString:function(a){for(var l=[],d=a.getCoordinates(),g=0;g<d.length;++g)l.push(_i.coordinate.apply(this,[d[g]]));return{type:"LineString",coordinates:l}},MultiLineString:function(a){for(var l=[],d=0;d<a._geometries.length;++d){var y=_i.LineString.apply(this,[a._geometries[d]]);l.push(y.coordinates)}return{type:"MultiLineString",coordinates:l}},Polygon:function(a){var l=[],d=_i.LineString.apply(this,[a._shell]);l.push(d.coordinates);for(var g=0;g<a._holes.length;++g){var x=_i.LineString.apply(this,[a._holes[g]]);l.push(x.coordinates)}return{type:"Polygon",coordinates:l}},MultiPolygon:function(a){for(var l=[],d=0;d<a._geometries.length;++d){var y=_i.Polygon.apply(this,[a._geometries[d]]);l.push(y.coordinates)}return{type:"MultiPolygon",coordinates:l}},GeometryCollection:function(a){for(var l=[],d=0;d<a._geometries.length;++d){var g=a._geometries[d],y=g.getGeometryType();l.push(_i[y].apply(this,[g]))}return{type:"GeometryCollection",geometries:l}}},Ba=function(a){this.geometryFactory=a||new Ve,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Pn(this.geometryFactory)};Ba.prototype.read=function(a){var l=this.parser.read(a);return this.precisionModel.getType()===_e.FIXED&&this.reducePrecision(l),l},Ba.prototype.reducePrecision=function(a){var l,d;if(a.coordinate)this.precisionModel.makePrecise(a.coordinate);else if(a.points)for(l=0,d=a.points.length;l<d;l++)this.precisionModel.makePrecise(a.points[l]);else if(a.geometries)for(l=0,d=a.geometries.length;l<d;l++)this.reducePrecision(a.geometries[l])};var Ku=function(){this.parser=new Pn(this.geometryFactory)};Ku.prototype.write=function(a){return this.parser.write(a)};var Zt=function(){},en={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt},Zt.opposite=function(a){return a===Zt.LEFT?Zt.RIGHT:a===Zt.RIGHT?Zt.LEFT:a},en.ON.get=function(){return 0},en.LEFT.get=function(){return 1},en.RIGHT.get=function(){return 2},Object.defineProperties(Zt,en),(H.prototype=new Error).name="EmptyStackException",(ot.prototype=new Or).add=function(a){return this.array_.push(a),!0},ot.prototype.get=function(a){if(a<0||a>=this.size())throw new Error;return this.array_[a]},ot.prototype.push=function(a){return this.array_.push(a),a},ot.prototype.pop=function(a){if(0===this.array_.length)throw new H;return this.array_.pop()},ot.prototype.peek=function(){if(0===this.array_.length)throw new H;return this.array_[this.array_.length-1]},ot.prototype.empty=function(){return 0===this.array_.length},ot.prototype.isEmpty=function(){return this.empty()},ot.prototype.search=function(a){return this.array_.indexOf(a)},ot.prototype.size=function(){return this.array_.length},ot.prototype.toArray=function(){for(var a=[],l=0,d=this.array_.length;l<d;l++)a.push(this.array_[l]);return a};var Lo=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Lo.prototype.getCoordinate=function(){return this._minCoord},Lo.prototype.getRightmostSide=function(a,l){var d=this.getRightmostSideOfSegment(a,l);return d<0&&(d=this.getRightmostSideOfSegment(a,l-1)),d<0&&(this._minCoord=null,this.checkForRightmostCoordinate(a)),d},Lo.prototype.findRightmostEdgeAtVertex=function(){var a=this._minDe.getEdge().getCoordinates();R.isTrue(this._minIndex>0&&this._minIndex<a.length,"rightmost point expected to be interior vertex of edge");var l=a[this._minIndex-1],d=a[this._minIndex+1],g=Ut.computeOrientation(this._minCoord,d,l),y=!1;(l.y<this._minCoord.y&&d.y<this._minCoord.y&&g===Ut.COUNTERCLOCKWISE||l.y>this._minCoord.y&&d.y>this._minCoord.y&&g===Ut.CLOCKWISE)&&(y=!0),y&&(this._minIndex=this._minIndex-1)},Lo.prototype.getRightmostSideOfSegment=function(a,l){var d=a.getEdge().getCoordinates();if(l<0||l+1>=d.length||d[l].y===d[l+1].y)return-1;var g=Zt.LEFT;return d[l].y<d[l+1].y&&(g=Zt.RIGHT),g},Lo.prototype.getEdge=function(){return this._orientedDe},Lo.prototype.checkForRightmostCoordinate=function(a){for(var l=a.getEdge().getCoordinates(),d=0;d<l.length-1;d++)(null===this._minCoord||l[d].x>this._minCoord.x)&&(this._minDe=a,this._minIndex=d,this._minCoord=l[d])},Lo.prototype.findRightmostEdgeAtNode=function(){var a=this._minDe.getNode().getEdges();this._minDe=a.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Lo.prototype.findEdge=function(a){for(var l=a.iterator();l.hasNext();){var d=l.next();d.isForward()&&this.checkForRightmostCoordinate(d)}R.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Zt.LEFT&&(this._orientedDe=this._minDe.getSym())},Lo.prototype.interfaces_=function(){return[]},Lo.prototype.getClass=function(){return Lo};var as=function(a){function l(d,g){a.call(this,l.msgWithCoord(d,g)),this.pt=g?new k(g):null,this.name="TopologyException"}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getCoordinate=function(){return this.pt},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.msgWithCoord=function(d,g){return g?d:d+" [ "+g+" ]"},l}(O),Qu=function(){this.array_=[]};Qu.prototype.addLast=function(a){this.array_.push(a)},Qu.prototype.removeFirst=function(){return this.array_.shift()},Qu.prototype.isEmpty=function(){return 0===this.array_.length};var zr=function(){this._finder=null,this._dirEdgeList=new ue,this._nodes=new ue,this._rightMostCoord=null,this._env=null,this._finder=new Lo};zr.prototype.clearVisitedEdges=function(){for(var a=this._dirEdgeList.iterator();a.hasNext();)a.next().setVisited(!1)},zr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},zr.prototype.computeNodeDepth=function(a){for(var l=null,d=a.getEdges().iterator();d.hasNext();){var g=d.next();if(g.isVisited()||g.getSym().isVisited()){l=g;break}}if(null===l)throw new as("unable to find edge to compute depths at "+a.getCoordinate());a.getEdges().computeDepths(l);for(var y=a.getEdges().iterator();y.hasNext();){var x=y.next();x.setVisited(!0),this.copySymDepths(x)}},zr.prototype.computeDepth=function(a){this.clearVisitedEdges();var l=this._finder.getEdge();l.setEdgeDepths(Zt.RIGHT,a),this.copySymDepths(l),this.computeDepths(l)},zr.prototype.create=function(a){this.addReachable(a),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},zr.prototype.findResultEdges=function(){for(var a=this._dirEdgeList.iterator();a.hasNext();){var l=a.next();l.getDepth(Zt.RIGHT)>=1&&l.getDepth(Zt.LEFT)<=0&&!l.isInteriorAreaEdge()&&l.setInResult(!0)}},zr.prototype.computeDepths=function(a){var l=new ac,d=new Qu,g=a.getNode();for(d.addLast(g),l.add(g),a.setVisited(!0);!d.isEmpty();){var y=d.removeFirst();l.add(y),this.computeNodeDepth(y);for(var x=y.getEdges().iterator();x.hasNext();){var S=x.next().getSym();if(!S.isVisited()){var F=S.getNode();l.contains(F)||(d.addLast(F),l.add(F))}}}},zr.prototype.compareTo=function(a){return this._rightMostCoord.x<a._rightMostCoord.x?-1:this._rightMostCoord.x>a._rightMostCoord.x?1:0},zr.prototype.getEnvelope=function(){if(null===this._env){for(var a=new ne,l=this._dirEdgeList.iterator();l.hasNext();)for(var d=l.next().getEdge().getCoordinates(),g=0;g<d.length-1;g++)a.expandToInclude(d[g]);this._env=a}return this._env},zr.prototype.addReachable=function(a){var l=new ot;for(l.add(a);!l.empty();){var d=l.pop();this.add(d,l)}},zr.prototype.copySymDepths=function(a){var l=a.getSym();l.setDepth(Zt.LEFT,a.getDepth(Zt.RIGHT)),l.setDepth(Zt.RIGHT,a.getDepth(Zt.LEFT))},zr.prototype.add=function(a,l){a.setVisited(!0),this._nodes.add(a);for(var d=a.getEdges().iterator();d.hasNext();){var g=d.next();this._dirEdgeList.add(g);var y=g.getSym().getNode();y.isVisited()||l.push(y)}},zr.prototype.getNodes=function(){return this._nodes},zr.prototype.getDirectedEdges=function(){return this._dirEdgeList},zr.prototype.interfaces_=function(){return[G]},zr.prototype.getClass=function(){return zr};var Qt=function a(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var d=arguments[0];this.init(1),this.location[Zt.ON]=d}else if(arguments[0]instanceof a){var g=arguments[0];if(this.init(g.location.length),null!==g)for(var y=0;y<this.location.length;y++)this.location[y]=g.location[y]}}else if(3===arguments.length){var x=arguments[0],S=arguments[1],F=arguments[2];this.init(3),this.location[Zt.ON]=x,this.location[Zt.LEFT]=S,this.location[Zt.RIGHT]=F}};Qt.prototype.setAllLocations=function(a){for(var l=0;l<this.location.length;l++)this.location[l]=a},Qt.prototype.isNull=function(){for(var a=0;a<this.location.length;a++)if(this.location[a]!==K.NONE)return!1;return!0},Qt.prototype.setAllLocationsIfNull=function(a){for(var l=0;l<this.location.length;l++)this.location[l]===K.NONE&&(this.location[l]=a)},Qt.prototype.isLine=function(){return 1===this.location.length},Qt.prototype.merge=function(a){if(a.location.length>this.location.length){var l=new Array(3).fill(null);l[Zt.ON]=this.location[Zt.ON],l[Zt.LEFT]=K.NONE,l[Zt.RIGHT]=K.NONE,this.location=l}for(var d=0;d<this.location.length;d++)this.location[d]===K.NONE&&d<a.location.length&&(this.location[d]=a.location[d])},Qt.prototype.getLocations=function(){return this.location},Qt.prototype.flip=function(){if(this.location.length<=1)return null;var a=this.location[Zt.LEFT];this.location[Zt.LEFT]=this.location[Zt.RIGHT],this.location[Zt.RIGHT]=a},Qt.prototype.toString=function(){var a=new at;return this.location.length>1&&a.append(K.toLocationSymbol(this.location[Zt.LEFT])),a.append(K.toLocationSymbol(this.location[Zt.ON])),this.location.length>1&&a.append(K.toLocationSymbol(this.location[Zt.RIGHT])),a.toString()},Qt.prototype.setLocations=function(a,l,d){this.location[Zt.ON]=a,this.location[Zt.LEFT]=l,this.location[Zt.RIGHT]=d},Qt.prototype.get=function(a){return a<this.location.length?this.location[a]:K.NONE},Qt.prototype.isArea=function(){return this.location.length>1},Qt.prototype.isAnyNull=function(){for(var a=0;a<this.location.length;a++)if(this.location[a]===K.NONE)return!0;return!1},Qt.prototype.setLocation=function(){1===arguments.length?this.setLocation(Zt.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Qt.prototype.init=function(a){this.location=new Array(a).fill(null),this.setAllLocations(K.NONE)},Qt.prototype.isEqualOnSide=function(a,l){return this.location[l]===a.location[l]},Qt.prototype.allPositionsEqual=function(a){for(var l=0;l<this.location.length;l++)if(this.location[l]!==a)return!1;return!0},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var Cn=function a(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var l=arguments[0];this.elt[0]=new Qt(l),this.elt[1]=new Qt(l)}else if(arguments[0]instanceof a){var d=arguments[0];this.elt[0]=new Qt(d.elt[0]),this.elt[1]=new Qt(d.elt[1])}}else if(2===arguments.length){var g=arguments[0],y=arguments[1];this.elt[0]=new Qt(K.NONE),this.elt[1]=new Qt(K.NONE),this.elt[g].setLocation(y)}else if(3===arguments.length){var x=arguments[0],S=arguments[1],F=arguments[2];this.elt[0]=new Qt(x,S,F),this.elt[1]=new Qt(x,S,F)}else if(4===arguments.length){var st=arguments[0],Dt=arguments[1],Ht=arguments[2],$t=arguments[3];this.elt[0]=new Qt(K.NONE,K.NONE,K.NONE),this.elt[1]=new Qt(K.NONE,K.NONE,K.NONE),this.elt[st].setLocations(Dt,Ht,$t)}};Cn.prototype.getGeometryCount=function(){var a=0;return this.elt[0].isNull()||a++,this.elt[1].isNull()||a++,a},Cn.prototype.setAllLocations=function(a,l){this.elt[a].setAllLocations(l)},Cn.prototype.isNull=function(a){return this.elt[a].isNull()},Cn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var a=arguments[0];this.setAllLocationsIfNull(0,a),this.setAllLocationsIfNull(1,a)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Cn.prototype.isLine=function(a){return this.elt[a].isLine()},Cn.prototype.merge=function(a){for(var l=0;l<2;l++)null===this.elt[l]&&null!==a.elt[l]?this.elt[l]=new Qt(a.elt[l]):this.elt[l].merge(a.elt[l])},Cn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Cn.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Zt.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Cn.prototype.toString=function(){var a=new at;return null!==this.elt[0]&&(a.append("A:"),a.append(this.elt[0].toString())),null!==this.elt[1]&&(a.append(" B:"),a.append(this.elt[1].toString())),a.toString()},Cn.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Cn.prototype.isAnyNull=function(a){return this.elt[a].isAnyNull()},Cn.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Zt.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Cn.prototype.isEqualOnSide=function(a,l){return this.elt[0].isEqualOnSide(a.elt[0],l)&&this.elt[1].isEqualOnSide(a.elt[1],l)},Cn.prototype.allPositionsEqual=function(a,l){return this.elt[a].allPositionsEqual(l)},Cn.prototype.toLine=function(a){this.elt[a].isArea()&&(this.elt[a]=new Qt(this.elt[a].location[0]))},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.toLineLabel=function(a){for(var l=new Cn(K.NONE),d=0;d<2;d++)l.setLocation(d,a.getLocation(d));return l};var Le=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new ue,this._pts=new ue,this._label=new Cn(K.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ue,this._geometryFactory=null;var a=arguments[0];this._geometryFactory=arguments[1],this.computePoints(a),this.computeRing()};Le.prototype.computeRing=function(){if(null!==this._ring)return null;for(var a=new Array(this._pts.size()).fill(null),l=0;l<this._pts.size();l++)a[l]=this._pts.get(l);this._ring=this._geometryFactory.createLinearRing(a),this._isHole=Ut.isCCW(this._ring.getCoordinates())},Le.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Le.prototype.computePoints=function(a){this._startDe=a;var l=a,d=!0;do{if(null===l)throw new as("Found null DirectedEdge");if(l.getEdgeRing()===this)throw new as("Directed Edge visited twice during ring-building at "+l.getCoordinate());this._edges.add(l);var g=l.getLabel();R.isTrue(g.isArea()),this.mergeLabel(g),this.addPoints(l.getEdge(),l.isForward(),d),d=!1,this.setEdgeRing(l,this),l=this.getNext(l)}while(l!==this._startDe)},Le.prototype.getLinearRing=function(){return this._ring},Le.prototype.getCoordinate=function(a){return this._pts.get(a)},Le.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var a=this._startDe;do{var l=a.getNode().getEdges().getOutgoingDegree(this);l>this._maxNodeDegree&&(this._maxNodeDegree=l),a=this.getNext(a)}while(a!==this._startDe);this._maxNodeDegree*=2},Le.prototype.addPoints=function(a,l,d){var g=a.getCoordinates();if(l){var y=1;d&&(y=0);for(var x=y;x<g.length;x++)this._pts.add(g[x])}else{var S=g.length-2;d&&(S=g.length-1);for(var F=S;F>=0;F--)this._pts.add(g[F])}},Le.prototype.isHole=function(){return this._isHole},Le.prototype.setInResult=function(){var a=this._startDe;do{a.getEdge().setInResult(!0),a=a.getNext()}while(a!==this._startDe)},Le.prototype.containsPoint=function(a){var l=this.getLinearRing();if(!l.getEnvelopeInternal().contains(a)||!Ut.isPointInRing(a,l.getCoordinates()))return!1;for(var d=this._holes.iterator();d.hasNext();)if(d.next().containsPoint(a))return!1;return!0},Le.prototype.addHole=function(a){this._holes.add(a)},Le.prototype.isShell=function(){return null===this._shell},Le.prototype.getLabel=function(){return this._label},Le.prototype.getEdges=function(){return this._edges},Le.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Le.prototype.getShell=function(){return this._shell},Le.prototype.mergeLabel=function(){if(1===arguments.length){var a=arguments[0];this.mergeLabel(a,0),this.mergeLabel(a,1)}else if(2===arguments.length){var d=arguments[1],g=arguments[0].getLocation(d,Zt.RIGHT);if(g===K.NONE)return null;if(this._label.getLocation(d)===K.NONE)return this._label.setLocation(d,g),null}},Le.prototype.setShell=function(a){this._shell=a,null!==a&&a.addHole(this)},Le.prototype.toPolygon=function(a){for(var l=new Array(this._holes.size()).fill(null),d=0;d<this._holes.size();d++)l[d]=this._holes.get(d).getLinearRing();return a.createPolygon(this.getLinearRing(),l)},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var xi=function(a){function l(){a.call(this,arguments[0],arguments[1])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.setEdgeRing=function(d,g){d.setMinEdgeRing(g)},l.prototype.getNext=function(d){return d.getNextMin()},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Le),Nd=function(a){function l(){a.call(this,arguments[0],arguments[1])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.buildMinimalRings=function(){var d=new ue,g=this._startDe;do{if(null===g.getMinEdgeRing()){var y=new xi(g,this._geometryFactory);d.add(y)}g=g.getNext()}while(g!==this._startDe);return d},l.prototype.setEdgeRing=function(d,g){d.setEdgeRing(g)},l.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var d=this._startDe;do{d.getNode().getEdges().linkMinimalDirectedEdges(this),d=d.getNext()}while(d!==this._startDe)},l.prototype.getNext=function(d){return d.getNext()},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Le),Ke=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};Ke.prototype.setVisited=function(a){this._isVisited=a},Ke.prototype.setInResult=function(a){this._isInResult=a},Ke.prototype.isCovered=function(){return this._isCovered},Ke.prototype.isCoveredSet=function(){return this._isCoveredSet},Ke.prototype.setLabel=function(a){this._label=a},Ke.prototype.getLabel=function(){return this._label},Ke.prototype.setCovered=function(a){this._isCovered=a,this._isCoveredSet=!0},Ke.prototype.updateIM=function(a){R.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(a)},Ke.prototype.isInResult=function(){return this._isInResult},Ke.prototype.isVisited=function(){return this._isVisited},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var bs=function(a){function l(){a.call(this),this._coord=null,this._edges=null;var g=arguments[1];this._coord=arguments[0],this._edges=g,this._label=new Cn(0,K.NONE)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.isIncidentEdgeInResult=function(){for(var d=this.getEdges().getEdges().iterator();d.hasNext();)if(d.next().getEdge().isInResult())return!0;return!1},l.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},l.prototype.getCoordinate=function(){return this._coord},l.prototype.print=function(d){d.println("node "+this._coord+" lbl: "+this._label)},l.prototype.computeIM=function(d){},l.prototype.computeMergedLocation=function(d,g){var y=K.NONE;if(y=this._label.getLocation(g),!d.isNull(g)){var x=d.getLocation(g);y!==K.BOUNDARY&&(y=x)}return y},l.prototype.setLabel=function(){if(2!==arguments.length)return a.prototype.setLabel.apply(this,arguments);var d=arguments[0],g=arguments[1];null===this._label?this._label=new Cn(d,g):this._label.setLocation(d,g)},l.prototype.getEdges=function(){return this._edges},l.prototype.mergeLabel=function(){if(arguments[0]instanceof l)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Cn)for(var g=arguments[0],y=0;y<2;y++){var x=this.computeMergedLocation(g,y);this._label.getLocation(y)===K.NONE&&this._label.setLocation(y,x)}},l.prototype.add=function(d){this._edges.insert(d),d.setNode(this)},l.prototype.setLabelBoundary=function(d){if(null===this._label)return null;var g=K.NONE;null!==this._label&&(g=this._label.getLocation(d)),this._label.setLocation(d,g===K.BOUNDARY?K.INTERIOR:K.BOUNDARY)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Ke),In=function(){this.nodeMap=new Ft,this.nodeFact=null,this.nodeFact=arguments[0]};In.prototype.find=function(a){return this.nodeMap.get(a)},In.prototype.addNode=function(){if(arguments[0]instanceof k){var a=arguments[0],l=this.nodeMap.get(a);return null===l&&(l=this.nodeFact.createNode(a),this.nodeMap.put(a,l)),l}if(arguments[0]instanceof bs){var d=arguments[0],g=this.nodeMap.get(d.getCoordinate());return null===g?(this.nodeMap.put(d.getCoordinate(),d),d):(g.mergeLabel(d),g)}},In.prototype.print=function(a){for(var l=this.iterator();l.hasNext();)l.next().print(a)},In.prototype.iterator=function(){return this.nodeMap.values().iterator()},In.prototype.values=function(){return this.nodeMap.values()},In.prototype.getBoundaryNodes=function(a){for(var l=new ue,d=this.iterator();d.hasNext();){var g=d.next();g.getLabel().getLocation(a)===K.BOUNDARY&&l.add(g)}return l},In.prototype.add=function(a){var l=a.getCoordinate();this.addNode(l).add(a)},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In};var fn=function(){},tl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.isNorthern=function(a){return a===fn.NE||a===fn.NW},fn.isOpposite=function(a,l){return a!==l&&(a-l+4)%4==2},fn.commonHalfPlane=function(a,l){if(a===l)return a;if((a-l+4)%4==2)return-1;var d=a<l?a:l;return 0===d&&3===(a>l?a:l)?3:d},fn.isInHalfPlane=function(a,l){return l===fn.SE?a===fn.SE||a===fn.SW:a===l||a===l+1},fn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(0===a&&0===l)throw new Y("Cannot compute the quadrant for point ( "+a+", "+l+" )");return a>=0?l>=0?fn.NE:fn.SE:l>=0?fn.NW:fn.SW}if(arguments[0]instanceof k&&arguments[1]instanceof k){var d=arguments[0],g=arguments[1];if(g.x===d.x&&g.y===d.y)throw new Y("Cannot compute the quadrant for two identical points "+d);return g.x>=d.x?g.y>=d.y?fn.NE:fn.SE:g.y>=d.y?fn.NW:fn.SW}},tl.NE.get=function(){return 0},tl.NW.get=function(){return 1},tl.SW.get=function(){return 2},tl.SE.get=function(){return 3},Object.defineProperties(fn,tl);var jr=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var d=arguments[1],g=arguments[2];this._edge=arguments[0],this.init(d,g),this._label=null}else if(4===arguments.length){var x=arguments[1],S=arguments[2],F=arguments[3];this._edge=arguments[0],this.init(x,S),this._label=F}};jr.prototype.compareDirection=function(a){return this._dx===a._dx&&this._dy===a._dy?0:this._quadrant>a._quadrant?1:this._quadrant<a._quadrant?-1:Ut.computeOrientation(a._p0,a._p1,this._p1)},jr.prototype.getDy=function(){return this._dy},jr.prototype.getCoordinate=function(){return this._p0},jr.prototype.setNode=function(a){this._node=a},jr.prototype.print=function(a){var l=Math.atan2(this._dy,this._dx),d=this.getClass().getName(),g=d.lastIndexOf("."),y=d.substring(g+1);a.print("  "+y+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+l+"   "+this._label)},jr.prototype.compareTo=function(a){return this.compareDirection(a)},jr.prototype.getDirectedCoordinate=function(){return this._p1},jr.prototype.getDx=function(){return this._dx},jr.prototype.getLabel=function(){return this._label},jr.prototype.getEdge=function(){return this._edge},jr.prototype.getQuadrant=function(){return this._quadrant},jr.prototype.getNode=function(){return this._node},jr.prototype.toString=function(){var a=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),d=l.lastIndexOf(".");return"  "+l.substring(d+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label},jr.prototype.computeLabel=function(a){},jr.prototype.init=function(a,l){this._p0=a,this._p1=l,this._dx=l.x-a.x,this._dy=l.y-a.y,this._quadrant=fn.quadrant(this._dx,this._dy),R.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},jr.prototype.interfaces_=function(){return[G]},jr.prototype.getClass=function(){return jr};var cc=function(a){function l(){var d=arguments[0],g=arguments[1];if(a.call(this,d),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=g,g)this.init(d.getCoordinate(0),d.getCoordinate(1));else{var y=d.getNumPoints()-1;this.init(d.getCoordinate(y),d.getCoordinate(y-1))}this.computeDirectedLabel()}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getNextMin=function(){return this._nextMin},l.prototype.getDepth=function(d){return this._depth[d]},l.prototype.setVisited=function(d){this._isVisited=d},l.prototype.computeDirectedLabel=function(){this._label=new Cn(this._edge.getLabel()),this._isForward||this._label.flip()},l.prototype.getNext=function(){return this._next},l.prototype.setDepth=function(d,g){if(-999!==this._depth[d]&&this._depth[d]!==g)throw new as("assigned depths do not match",this.getCoordinate());this._depth[d]=g},l.prototype.isInteriorAreaEdge=function(){for(var d=!0,g=0;g<2;g++)this._label.isArea(g)&&this._label.getLocation(g,Zt.LEFT)===K.INTERIOR&&this._label.getLocation(g,Zt.RIGHT)===K.INTERIOR||(d=!1);return d},l.prototype.setNextMin=function(d){this._nextMin=d},l.prototype.print=function(d){a.prototype.print.call(this,d),d.print(" "+this._depth[Zt.LEFT]+"/"+this._depth[Zt.RIGHT]),d.print(" ("+this.getDepthDelta()+")"),this._isInResult&&d.print(" inResult")},l.prototype.setMinEdgeRing=function(d){this._minEdgeRing=d},l.prototype.isLineEdge=function(){var d=this._label.isLine(0)||this._label.isLine(1),g=!this._label.isArea(0)||this._label.allPositionsEqual(0,K.EXTERIOR),y=!this._label.isArea(1)||this._label.allPositionsEqual(1,K.EXTERIOR);return d&&g&&y},l.prototype.setEdgeRing=function(d){this._edgeRing=d},l.prototype.getMinEdgeRing=function(){return this._minEdgeRing},l.prototype.getDepthDelta=function(){var d=this._edge.getDepthDelta();return this._isForward||(d=-d),d},l.prototype.setInResult=function(d){this._isInResult=d},l.prototype.getSym=function(){return this._sym},l.prototype.isForward=function(){return this._isForward},l.prototype.getEdge=function(){return this._edge},l.prototype.printEdge=function(d){this.print(d),d.print(" "),this._isForward?this._edge.print(d):this._edge.printReverse(d)},l.prototype.setSym=function(d){this._sym=d},l.prototype.setVisitedEdge=function(d){this.setVisited(d),this._sym.setVisited(d)},l.prototype.setEdgeDepths=function(d,g){var y=this.getEdge().getDepthDelta();this._isForward||(y=-y);var x=1;d===Zt.LEFT&&(x=-1);var S=Zt.opposite(d),F=g+y*x;this.setDepth(d,g),this.setDepth(S,F)},l.prototype.getEdgeRing=function(){return this._edgeRing},l.prototype.isInResult=function(){return this._isInResult},l.prototype.setNext=function(d){this._next=d},l.prototype.isVisited=function(){return this._isVisited},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.depthFactor=function(d,g){return d===K.EXTERIOR&&g===K.INTERIOR?1:d===K.INTERIOR&&g===K.EXTERIOR?-1:0},l}(jr),mo=function(){};mo.prototype.createNode=function(a){return new bs(a,null)},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo};var zi=function(){this._edges=new ue,this._nodes=null,this._edgeEndList=new ue,0===arguments.length?this._nodes=new In(new mo):1===arguments.length&&(this._nodes=new In(arguments[0]))};zi.prototype.printEdges=function(a){a.println("Edges:");for(var l=0;l<this._edges.size();l++){a.println("edge "+l+":");var d=this._edges.get(l);d.print(a),d.eiList.print(a)}},zi.prototype.find=function(a){return this._nodes.find(a)},zi.prototype.addNode=function(){return arguments[0]instanceof bs||arguments[0]instanceof k?this._nodes.addNode(arguments[0]):void 0},zi.prototype.getNodeIterator=function(){return this._nodes.iterator()},zi.prototype.linkResultDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()},zi.prototype.debugPrintln=function(a){jt.out.println(a)},zi.prototype.isBoundaryNode=function(a,l){var d=this._nodes.find(l);if(null===d)return!1;var g=d.getLabel();return null!==g&&g.getLocation(a)===K.BOUNDARY},zi.prototype.linkAllDirectedEdges=function(){for(var a=this._nodes.iterator();a.hasNext();)a.next().getEdges().linkAllDirectedEdges()},zi.prototype.matchInSameDirection=function(a,l,d,g){return!!a.equals(d)&&Ut.computeOrientation(a,l,g)===Ut.COLLINEAR&&fn.quadrant(a,l)===fn.quadrant(d,g)},zi.prototype.getEdgeEnds=function(){return this._edgeEndList},zi.prototype.debugPrint=function(a){jt.out.print(a)},zi.prototype.getEdgeIterator=function(){return this._edges.iterator()},zi.prototype.findEdgeInSameDirection=function(a,l){for(var d=0;d<this._edges.size();d++){var g=this._edges.get(d),y=g.getCoordinates();if(this.matchInSameDirection(a,l,y[0],y[1])||this.matchInSameDirection(a,l,y[y.length-1],y[y.length-2]))return g}return null},zi.prototype.insertEdge=function(a){this._edges.add(a)},zi.prototype.findEdgeEnd=function(a){for(var l=this.getEdgeEnds().iterator();l.hasNext();){var d=l.next();if(d.getEdge()===a)return d}return null},zi.prototype.addEdges=function(a){for(var l=a.iterator();l.hasNext();){var d=l.next();this._edges.add(d);var g=new cc(d,!0),y=new cc(d,!1);g.setSym(y),y.setSym(g),this.add(g),this.add(y)}},zi.prototype.add=function(a){this._nodes.add(a),this._edgeEndList.add(a)},zi.prototype.getNodes=function(){return this._nodes.values()},zi.prototype.findEdge=function(a,l){for(var d=0;d<this._edges.size();d++){var g=this._edges.get(d),y=g.getCoordinates();if(a.equals(y[0])&&l.equals(y[1]))return g}return null},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi},zi.linkResultDirectedEdges=function(a){for(var l=a.iterator();l.hasNext();)l.next().getEdges().linkResultDirectedEdges()};var oo=function(){this._geometryFactory=null,this._shellList=new ue,this._geometryFactory=arguments[0]};oo.prototype.sortShellsAndHoles=function(a,l,d){for(var g=a.iterator();g.hasNext();){var y=g.next();y.isHole()?d.add(y):l.add(y)}},oo.prototype.computePolygons=function(a){for(var l=new ue,d=a.iterator();d.hasNext();){var g=d.next().toPolygon(this._geometryFactory);l.add(g)}return l},oo.prototype.placeFreeHoles=function(a,l){for(var d=l.iterator();d.hasNext();){var g=d.next();if(null===g.getShell()){var y=this.findEdgeRingContaining(g,a);if(null===y)throw new as("unable to assign hole to a shell",g.getCoordinate(0));g.setShell(y)}}},oo.prototype.buildMinimalEdgeRings=function(a,l,d){for(var g=new ue,y=a.iterator();y.hasNext();){var x=y.next();if(x.getMaxNodeDegree()>2){x.linkDirectedEdgesForMinimalEdgeRings();var S=x.buildMinimalRings(),F=this.findShell(S);null!==F?(this.placePolygonHoles(F,S),l.add(F)):d.addAll(S)}else g.add(x)}return g},oo.prototype.containsPoint=function(a){for(var l=this._shellList.iterator();l.hasNext();)if(l.next().containsPoint(a))return!0;return!1},oo.prototype.buildMaximalEdgeRings=function(a){for(var l=new ue,d=a.iterator();d.hasNext();){var g=d.next();if(g.isInResult()&&g.getLabel().isArea()&&null===g.getEdgeRing()){var y=new Nd(g,this._geometryFactory);l.add(y),y.setInResult()}}return l},oo.prototype.placePolygonHoles=function(a,l){for(var d=l.iterator();d.hasNext();){var g=d.next();g.isHole()&&g.setShell(a)}},oo.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},oo.prototype.findEdgeRingContaining=function(a,l){for(var d=a.getLinearRing(),g=d.getEnvelopeInternal(),y=d.getCoordinateN(0),x=null,S=null,F=l.iterator();F.hasNext();){var st=F.next(),Dt=st.getLinearRing(),Ht=Dt.getEnvelopeInternal();null!==x&&(S=x.getLinearRing().getEnvelopeInternal());var $t=!1;Ht.contains(g)&&Ut.isPointInRing(y,Dt.getCoordinates())&&($t=!0),$t&&(null===x||S.contains(Ht))&&(x=st)}return x},oo.prototype.findShell=function(a){for(var l=0,d=null,g=a.iterator();g.hasNext();){var y=g.next();y.isHole()||(d=y,l++)}return R.isTrue(l<=1,"found two shells in MinimalEdgeRing list"),d},oo.prototype.add=function(){if(1===arguments.length){var a=arguments[0];this.add(a.getEdgeEnds(),a.getNodes())}else if(2===arguments.length){var l=arguments[0];zi.linkResultDirectedEdges(arguments[1]);var g=this.buildMaximalEdgeRings(l),y=new ue,x=this.buildMinimalEdgeRings(g,this._shellList,y);this.sortShellsAndHoles(x,this._shellList,y),this.placeFreeHoles(this._shellList,y)}},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo};var Hr=function(){};Hr.prototype.getBounds=function(){},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr};var _o=function(){this._bounds=null,this._item=null;var l=arguments[1];this._bounds=arguments[0],this._item=l};_o.prototype.getItem=function(){return this._item},_o.prototype.getBounds=function(){return this._bounds},_o.prototype.interfaces_=function(){return[Hr,J]},_o.prototype.getClass=function(){return _o};var ta=function(){this._size=null,this._items=null,this._size=0,this._items=new ue,this._items.add(null)};ta.prototype.poll=function(){if(this.isEmpty())return null;var a=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),a},ta.prototype.size=function(){return this._size},ta.prototype.reorder=function(a){for(var l=null,d=this._items.get(a);2*a<=this._size&&((l=2*a)!==this._size&&this._items.get(l+1).compareTo(this._items.get(l))<0&&l++,this._items.get(l).compareTo(d)<0);a=l)this._items.set(a,this._items.get(l));this._items.set(a,d)},ta.prototype.clear=function(){this._size=0,this._items.clear()},ta.prototype.isEmpty=function(){return 0===this._size},ta.prototype.add=function(a){this._items.add(null),this._size+=1;var l=this._size;for(this._items.set(0,a);a.compareTo(this._items.get(Math.trunc(l/2)))<0;l/=2)this._items.set(l,this._items.get(Math.trunc(l/2)));this._items.set(l,a)},ta.prototype.interfaces_=function(){return[]},ta.prototype.getClass=function(){return ta};var Va=function(){};Va.prototype.visitItem=function(a){},Va.prototype.interfaces_=function(){return[]},Va.prototype.getClass=function(){return Va};var Ou=function(){};Ou.prototype.insert=function(a,l){},Ou.prototype.remove=function(a,l){},Ou.prototype.query=function(){},Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou};var Mr=function(){this._childBoundables=new ue,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},Uo={serialVersionUID:{configurable:!0}};Mr.prototype.getLevel=function(){return this._level},Mr.prototype.size=function(){return this._childBoundables.size()},Mr.prototype.getChildBoundables=function(){return this._childBoundables},Mr.prototype.addChildBoundable=function(a){R.isTrue(null===this._bounds),this._childBoundables.add(a)},Mr.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Mr.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Mr.prototype.interfaces_=function(){return[Hr,J]},Mr.prototype.getClass=function(){return Mr},Uo.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Mr,Uo);var $e=function(){};$e.reverseOrder=function(){return{compare:function(a,l){return l.compareTo(a)}}},$e.min=function(a){return $e.sort(a),a.get(0)},$e.sort=function(a,l){var d=a.toArray();l?La.sort(d,l):La.sort(d);for(var g=a.iterator(),y=0,x=d.length;y<x;y++)g.next(),g.set(d[y])},$e.singletonList=function(a){var l=new ue;return l.add(a),l};var _r=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var l=arguments[1],d=arguments[2];this._boundable1=arguments[0],this._boundable2=l,this._itemDistance=d,this._distance=this.distance()};_r.prototype.expandToQueue=function(a,l){var d=_r.isComposite(this._boundable1),g=_r.isComposite(this._boundable2);if(d&&g)return _r.area(this._boundable1)>_r.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,a,l),null):(this.expand(this._boundable2,this._boundable1,a,l),null);if(d)return this.expand(this._boundable1,this._boundable2,a,l),null;if(g)return this.expand(this._boundable2,this._boundable1,a,l),null;throw new Y("neither boundable is composite")},_r.prototype.isLeaves=function(){return!(_r.isComposite(this._boundable1)||_r.isComposite(this._boundable2))},_r.prototype.compareTo=function(a){return this._distance<a._distance?-1:this._distance>a._distance?1:0},_r.prototype.expand=function(a,l,d,g){for(var y=a.getChildBoundables().iterator();y.hasNext();){var x=y.next(),S=new _r(x,l,this._itemDistance);S.getDistance()<g&&d.add(S)}},_r.prototype.getBoundable=function(a){return 0===a?this._boundable1:this._boundable2},_r.prototype.getDistance=function(){return this._distance},_r.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},_r.prototype.interfaces_=function(){return[G]},_r.prototype.getClass=function(){return _r},_r.area=function(a){return a.getBounds().getArea()},_r.isComposite=function(a){return a instanceof Mr};var rn=function a(){if(this._root=null,this._built=!1,this._itemBoundables=new ue,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=a.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var d=arguments[0];R.isTrue(d>1,"Node capacity must be greater than 1"),this._nodeCapacity=d}},Wc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};rn.prototype.getNodeCapacity=function(){return this._nodeCapacity},rn.prototype.lastNode=function(a){return a.get(a.size()-1)},rn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var a=0,l=arguments[0].getChildBoundables().iterator();l.hasNext();){var d=l.next();d instanceof Mr?a+=this.size(d):d instanceof _o&&(a+=1)}return a}},rn.prototype.removeItem=function(a,l){for(var d=null,g=a.getChildBoundables().iterator();g.hasNext();){var y=g.next();y instanceof _o&&y.getItem()===l&&(d=y)}return null!==d&&(a.getChildBoundables().remove(d),!0)},rn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var a=this.itemsTree(this._root);return null===a?new ue:a}if(1===arguments.length){for(var l=arguments[0],d=new ue,g=l.getChildBoundables().iterator();g.hasNext();){var y=g.next();if(y instanceof Mr){var x=this.itemsTree(y);null!==x&&d.add(x)}else y instanceof _o?d.add(y.getItem()):R.shouldNeverReachHere()}return d.size()<=0?null:d}},rn.prototype.insert=function(a,l){R.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new _o(a,l))},rn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var a=arguments[0],l=new ue;return this.boundablesAtLevel(a,this._root,l),l}if(3===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2];if(R.isTrue(d>-2),g.getLevel()===d)return y.add(g),null;for(var x=g.getChildBoundables().iterator();x.hasNext();){var S=x.next();S instanceof Mr?this.boundablesAtLevel(d,S,y):(R.isTrue(S instanceof _o),-1===d&&y.add(S))}return null}},rn.prototype.query=function(){if(1===arguments.length){var a=arguments[0];this.build();var l=new ue;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.query(a,this._root,l),l}if(2===arguments.length){var d=arguments[0],g=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),d)&&this.query(d,this._root,g)}else if(3===arguments.length)if(Lt(arguments[2],Va)&&arguments[0]instanceof Object&&arguments[1]instanceof Mr)for(var y=arguments[0],S=arguments[2],F=arguments[1].getChildBoundables(),st=0;st<F.size();st++){var Dt=F.get(st);this.getIntersectsOp().intersects(Dt.getBounds(),y)&&(Dt instanceof Mr?this.query(y,Dt,S):Dt instanceof _o?S.visitItem(Dt.getItem()):R.shouldNeverReachHere())}else if(Lt(arguments[2],Or)&&arguments[0]instanceof Object&&arguments[1]instanceof Mr)for(var Ht=arguments[0],ge=arguments[2],be=arguments[1].getChildBoundables(),Oe=0;Oe<be.size();Oe++){var Xe=be.get(Oe);this.getIntersectsOp().intersects(Xe.getBounds(),Ht)&&(Xe instanceof Mr?this.query(Ht,Xe,ge):Xe instanceof _o?ge.add(Xe.getItem()):R.shouldNeverReachHere())}},rn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},rn.prototype.getRoot=function(){return this.build(),this._root},rn.prototype.remove=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),a)&&this.remove(a,this._root,l)}if(3===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],x=this.removeItem(g,y);if(x)return!0;for(var S=null,F=g.getChildBoundables().iterator();F.hasNext();){var st=F.next();if(this.getIntersectsOp().intersects(st.getBounds(),d)&&st instanceof Mr&&(x=this.remove(d,st,y))){S=st;break}}return null!==S&&S.getChildBoundables().isEmpty()&&g.getChildBoundables().remove(S),x}},rn.prototype.createHigherLevels=function(a,l){R.isTrue(!a.isEmpty());var d=this.createParentBoundables(a,l+1);return 1===d.size()?d.get(0):this.createHigherLevels(d,l+1)},rn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var a=0,l=arguments[0].getChildBoundables().iterator();l.hasNext();){var d=l.next();if(d instanceof Mr){var g=this.depth(d);g>a&&(a=g)}}return a+1}},rn.prototype.createParentBoundables=function(a,l){R.isTrue(!a.isEmpty());var d=new ue;d.add(this.createNode(l));var g=new ue(a);$e.sort(g,this.getComparator());for(var y=g.iterator();y.hasNext();){var x=y.next();this.lastNode(d).getChildBoundables().size()===this.getNodeCapacity()&&d.add(this.createNode(l)),this.lastNode(d).addChildBoundable(x)}return d},rn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},rn.prototype.interfaces_=function(){return[J]},rn.prototype.getClass=function(){return rn},rn.compareDoubles=function(a,l){return a>l?1:a<l?-1:0},Wc.IntersectsOp.get=function(){return we},Wc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Wc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(rn,Wc);var we=function(){},za=function(){};za.prototype.distance=function(a,l){},za.prototype.interfaces_=function(){return[]},za.prototype.getClass=function(){return za};var Ei=function(a){function l(g){a.call(this,g=g||l.DEFAULT_NODE_CAPACITY)}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return l.prototype.createParentBoundablesFromVerticalSlices=function(g,y){R.isTrue(g.length>0);for(var x=new ue,S=0;S<g.length;S++)x.addAll(this.createParentBoundablesFromVerticalSlice(g[S],y));return x},l.prototype.createNode=function(g){return new Pl(g)},l.prototype.size=function(){return 0===arguments.length?a.prototype.size.call(this):a.prototype.size.apply(this,arguments)},l.prototype.insert=function(){if(2!==arguments.length)return a.prototype.insert.apply(this,arguments);var g=arguments[0],y=arguments[1];if(g.isNull())return null;a.prototype.insert.call(this,g,y)},l.prototype.getIntersectsOp=function(){return l.intersectsOp},l.prototype.verticalSlices=function(g,y){for(var x=Math.trunc(Math.ceil(g.size()/y)),S=new Array(y).fill(null),F=g.iterator(),st=0;st<y;st++){S[st]=new ue;for(var Dt=0;F.hasNext()&&Dt<x;){var Ht=F.next();S[st].add(Ht),Dt++}}return S},l.prototype.query=function(){if(1===arguments.length)return a.prototype.query.call(this,arguments[0]);2===arguments.length?a.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Lt(arguments[2],Va)&&arguments[0]instanceof Object&&arguments[1]instanceof Mr||Lt(arguments[2],Or)&&arguments[0]instanceof Object&&arguments[1]instanceof Mr)&&a.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},l.prototype.getComparator=function(){return l.yComparator},l.prototype.createParentBoundablesFromVerticalSlice=function(g,y){return a.prototype.createParentBoundables.call(this,g,y)},l.prototype.remove=function(){return 2===arguments.length?a.prototype.remove.call(this,arguments[0],arguments[1]):a.prototype.remove.apply(this,arguments)},l.prototype.depth=function(){return 0===arguments.length?a.prototype.depth.call(this):a.prototype.depth.apply(this,arguments)},l.prototype.createParentBoundables=function(g,y){R.isTrue(!g.isEmpty());var x=Math.trunc(Math.ceil(g.size()/this.getNodeCapacity())),S=new ue(g);$e.sort(S,l.xComparator);var F=this.verticalSlices(S,Math.trunc(Math.ceil(Math.sqrt(x))));return this.createParentBoundablesFromVerticalSlices(F,y)},l.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Lt(arguments[0],za)){var g=arguments[0],y=new _r(this.getRoot(),this.getRoot(),g);return this.nearestNeighbour(y)}if(arguments[0]instanceof _r)return this.nearestNeighbour(arguments[0],j.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof l&&Lt(arguments[1],za)){var S=arguments[0],F=arguments[1],st=new _r(this.getRoot(),S.getRoot(),F);return this.nearestNeighbour(st)}if(arguments[0]instanceof _r&&"number"==typeof arguments[1]){var Dt=arguments[0],Ht=arguments[1],$t=null,ge=new ta;for(ge.add(Dt);!ge.isEmpty()&&Ht>0;){var be=ge.poll(),Oe=be.getDistance();if(Oe>=Ht)break;be.isLeaves()?(Ht=Oe,$t=be):be.expandToQueue(ge,Ht)}return[$t.getBoundable(0).getItem(),$t.getBoundable(1).getItem()]}}else if(3===arguments.length){var Yr=arguments[2],Jo=new _o(arguments[0],arguments[1]),du=new _r(this.getRoot(),Jo,Yr);return this.nearestNeighbour(du)[0]}},l.prototype.interfaces_=function(){return[Ou,J]},l.prototype.getClass=function(){return l},l.centreX=function(g){return l.avg(g.getMinX(),g.getMaxX())},l.avg=function(g,y){return(g+y)/2},l.centreY=function(g){return l.avg(g.getMinY(),g.getMaxY())},d.STRtreeNode.get=function(){return Pl},d.serialVersionUID.get=function(){return 0x39920f7d5f261e0},d.xComparator.get=function(){return{interfaces_:function(){return[et]},compare:function(g,y){return a.compareDoubles(l.centreX(g.getBounds()),l.centreX(y.getBounds()))}}},d.yComparator.get=function(){return{interfaces_:function(){return[et]},compare:function(g,y){return a.compareDoubles(l.centreY(g.getBounds()),l.centreY(y.getBounds()))}}},d.intersectsOp.get=function(){return{interfaces_:function(){return[a.IntersectsOp]},intersects:function(g,y){return g.intersects(y)}}},d.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(l,d),l}(rn),Pl=function(a){function l(){a.call(this,arguments[0])}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.computeBounds=function(){for(var d=null,g=this.getChildBoundables().iterator();g.hasNext();){var y=g.next();null===d?d=new ne(y.getBounds()):d.expandToInclude(y.getBounds())}return d},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Mr),so=function(){};so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so},so.relativeSign=function(a,l){return a<l?-1:a>l?1:0},so.compare=function(a,l,d){if(l.equals2D(d))return 0;var g=so.relativeSign(l.x,d.x),y=so.relativeSign(l.y,d.y);switch(a){case 0:return so.compareValue(g,y);case 1:return so.compareValue(y,g);case 2:return so.compareValue(y,-g);case 3:return so.compareValue(-g,y);case 4:return so.compareValue(-g,-y);case 5:return so.compareValue(-y,-g);case 6:return so.compareValue(-y,g);case 7:return so.compareValue(g,-y)}return R.shouldNeverReachHere("invalid octant value"),0},so.compareValue=function(a,l){return a<0?-1:a>0?1:l<0?-1:l>0?1:0};var ma=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var a=arguments[0],l=arguments[1],d=arguments[2],g=arguments[3];this._segString=a,this.coord=new k(l),this.segmentIndex=d,this._segmentOctant=g,this._isInterior=!l.equals2D(a.getCoordinate(d))};ma.prototype.getCoordinate=function(){return this.coord},ma.prototype.print=function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex)},ma.prototype.compareTo=function(a){var l=a;return this.segmentIndex<l.segmentIndex?-1:this.segmentIndex>l.segmentIndex?1:this.coord.equals2D(l.coord)?0:so.compare(this._segmentOctant,this.coord,l.coord)},ma.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===a},ma.prototype.isInterior=function(){return this._isInterior},ma.prototype.interfaces_=function(){return[G]},ma.prototype.getClass=function(){return ma};var ao=function(){this._nodeMap=new Ft,this._edge=null,this._edge=arguments[0]};ao.prototype.getSplitCoordinates=function(){var a=new ks;this.addEndpoints();for(var l=this.iterator(),d=l.next();l.hasNext();){var g=l.next();this.addEdgeCoordinates(d,g,a),d=g}return a.toCoordinateArray()},ao.prototype.addCollapsedNodes=function(){var a=new ue;this.findCollapsesFromInsertedNodes(a),this.findCollapsesFromExistingVertices(a);for(var l=a.iterator();l.hasNext();){var d=l.next().intValue();this.add(this._edge.getCoordinate(d),d)}},ao.prototype.print=function(a){a.println("Intersections:");for(var l=this.iterator();l.hasNext();)l.next().print(a)},ao.prototype.findCollapsesFromExistingVertices=function(a){for(var l=0;l<this._edge.size()-2;l++){var d=this._edge.getCoordinate(l),g=this._edge.getCoordinate(l+2);d.equals2D(g)&&a.add(new gt(l+1))}},ao.prototype.addEdgeCoordinates=function(a,l,d){var g=this._edge.getCoordinate(l.segmentIndex),y=l.isInterior()||!l.coord.equals2D(g);d.add(new k(a.coord),!1);for(var x=a.segmentIndex+1;x<=l.segmentIndex;x++)d.add(this._edge.getCoordinate(x));y&&d.add(new k(l.coord))},ao.prototype.iterator=function(){return this._nodeMap.values().iterator()},ao.prototype.addSplitEdges=function(a){this.addEndpoints(),this.addCollapsedNodes();for(var l=this.iterator(),d=l.next();l.hasNext();){var g=l.next(),y=this.createSplitEdge(d,g);a.add(y),d=g}},ao.prototype.findCollapseIndex=function(a,l,d){if(!a.coord.equals2D(l.coord))return!1;var g=l.segmentIndex-a.segmentIndex;return l.isInterior()||g--,1===g&&(d[0]=a.segmentIndex+1,!0)},ao.prototype.findCollapsesFromInsertedNodes=function(a){for(var l=new Array(1).fill(null),d=this.iterator(),g=d.next();d.hasNext();){var y=d.next();this.findCollapseIndex(g,y,l)&&a.add(new gt(l[0])),g=y}},ao.prototype.getEdge=function(){return this._edge},ao.prototype.addEndpoints=function(){var a=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(a),a)},ao.prototype.createSplitEdge=function(a,l){var d=l.segmentIndex-a.segmentIndex+2,g=this._edge.getCoordinate(l.segmentIndex),y=l.isInterior()||!l.coord.equals2D(g);y||d--;var x=new Array(d).fill(null),S=0;x[S++]=new k(a.coord);for(var F=a.segmentIndex+1;F<=l.segmentIndex;F++)x[S++]=this._edge.getCoordinate(F);return y&&(x[S]=new k(l.coord)),new tr(x,this._edge.getData())},ao.prototype.add=function(a,l){var d=new ma(this._edge,a,l,this._edge.getSegmentOctant(l)),g=this._nodeMap.get(d);return null!==g?(R.isTrue(g.coord.equals2D(a),"Found equal nodes with different coordinates"),g):(this._nodeMap.put(d,d),d)},ao.prototype.checkSplitEdgesCorrectness=function(a){var l=this._edge.getCoordinates(),d=a.get(0).getCoordinate(0);if(!d.equals2D(l[0]))throw new O("bad split edge start point at "+d);var g=a.get(a.size()-1).getCoordinates(),y=g[g.length-1];if(!y.equals2D(l[l.length-1]))throw new O("bad split edge end point at "+y)},ao.prototype.interfaces_=function(){return[]},ao.prototype.getClass=function(){return ao};var _a=function(){};_a.prototype.interfaces_=function(){return[]},_a.prototype.getClass=function(){return _a},_a.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(0===a&&0===l)throw new Y("Cannot compute the octant for point ( "+a+", "+l+" )");var d=Math.abs(a),g=Math.abs(l);return a>=0?l>=0?d>=g?0:1:d>=g?7:6:l>=0?d>=g?3:2:d>=g?4:5}if(arguments[0]instanceof k&&arguments[1]instanceof k){var y=arguments[0],x=arguments[1],S=x.x-y.x,F=x.y-y.y;if(0===S&&0===F)throw new Y("Cannot compute the octant for two identical points "+y);return _a.octant(S,F)}};var us=function(){};us.prototype.getCoordinates=function(){},us.prototype.size=function(){},us.prototype.getCoordinate=function(a){},us.prototype.isClosed=function(){},us.prototype.setData=function(a){},us.prototype.getData=function(){},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us};var ja=function(){};ja.prototype.addIntersection=function(a,l){},ja.prototype.interfaces_=function(){return[us]},ja.prototype.getClass=function(){return ja};var tr=function(){this._nodeList=new ao(this),this._pts=null,this._data=null;var l=arguments[1];this._pts=arguments[0],this._data=l};tr.prototype.getCoordinates=function(){return this._pts},tr.prototype.size=function(){return this._pts.length},tr.prototype.getCoordinate=function(a){return this._pts[a]},tr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},tr.prototype.getSegmentOctant=function(a){return a===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(a),this.getCoordinate(a+1))},tr.prototype.setData=function(a){this._data=a},tr.prototype.safeOctant=function(a,l){return a.equals2D(l)?0:_a.octant(a,l)},tr.prototype.getData=function(){return this._data},tr.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var g=arguments[1],x=new k(arguments[0].getIntersection(arguments[3]));this.addIntersection(x,g)}},tr.prototype.toString=function(){return X.toLineString(new ln(this._pts))},tr.prototype.getNodeList=function(){return this._nodeList},tr.prototype.addIntersectionNode=function(a,l){var d=l,g=d+1;return g<this._pts.length&&a.equals2D(this._pts[g])&&(d=g),this._nodeList.add(a,d)},tr.prototype.addIntersections=function(a,l,d){for(var g=0;g<a.getIntersectionNum();g++)this.addIntersection(a,l,d,g)},tr.prototype.interfaces_=function(){return[ja]},tr.prototype.getClass=function(){return tr},tr.getNodedSubstrings=function(){if(1===arguments.length){var a=arguments[0],l=new ue;return tr.getNodedSubstrings(a,l),l}if(2===arguments.length)for(var g=arguments[1],y=arguments[0].iterator();y.hasNext();)y.next().getNodeList().addSplitEdges(g)};var Te=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new k,this.p1=new k;else if(1===arguments.length){var a=arguments[0];this.p0=new k(a.p0),this.p1=new k(a.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var g=arguments[2],y=arguments[3];this.p0=new k(arguments[0],arguments[1]),this.p1=new k(g,y)}},On={serialVersionUID:{configurable:!0}};Te.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Te.prototype.orientationIndex=function(){if(arguments[0]instanceof Te){var a=arguments[0],l=Ut.orientationIndex(this.p0,this.p1,a.p0),d=Ut.orientationIndex(this.p0,this.p1,a.p1);return l>=0&&d>=0||l<=0&&d<=0?Math.max(l,d):0}if(arguments[0]instanceof k)return Ut.orientationIndex(this.p0,this.p1,arguments[0])},Te.prototype.toGeometry=function(a){return a.createLineString([this.p0,this.p1])},Te.prototype.isVertical=function(){return this.p0.x===this.p1.x},Te.prototype.equals=function(a){if(!(a instanceof Te))return!1;var l=a;return this.p0.equals(l.p0)&&this.p1.equals(l.p1)},Te.prototype.intersection=function(a){var l=new kt;return l.computeIntersection(this.p0,this.p1,a.p0,a.p1),l.hasIntersection()?l.getIntersection(0):null},Te.prototype.project=function(){if(arguments[0]instanceof k){var a=arguments[0];if(a.equals(this.p0)||a.equals(this.p1))return new k(a);var l=this.projectionFactor(a),d=new k;return d.x=this.p0.x+l*(this.p1.x-this.p0.x),d.y=this.p0.y+l*(this.p1.y-this.p0.y),d}if(arguments[0]instanceof Te){var g=arguments[0],y=this.projectionFactor(g.p0),x=this.projectionFactor(g.p1);if(y>=1&&x>=1||y<=0&&x<=0)return null;var S=this.project(g.p0);y<0&&(S=this.p0),y>1&&(S=this.p1);var F=this.project(g.p1);return x<0&&(F=this.p0),x>1&&(F=this.p1),new Te(S,F)}},Te.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Te.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Te.prototype.getCoordinate=function(a){return 0===a?this.p0:this.p1},Te.prototype.distancePerpendicular=function(a){return Ut.distancePointLinePerpendicular(a,this.p0,this.p1)},Te.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Te.prototype.midPoint=function(){return Te.midPoint(this.p0,this.p1)},Te.prototype.projectionFactor=function(a){if(a.equals(this.p0))return 0;if(a.equals(this.p1))return 1;var l=this.p1.x-this.p0.x,d=this.p1.y-this.p0.y,g=l*l+d*d;return g<=0?j.NaN:((a.x-this.p0.x)*l+(a.y-this.p0.y)*d)/g},Te.prototype.closestPoints=function(a){var l=this.intersection(a);if(null!==l)return[l,l];var d=new Array(2).fill(null),g=j.MAX_VALUE,y=null,x=this.closestPoint(a.p0);g=x.distance(a.p0),d[0]=x,d[1]=a.p0;var S=this.closestPoint(a.p1);(y=S.distance(a.p1))<g&&(g=y,d[0]=S,d[1]=a.p1);var F=a.closestPoint(this.p0);(y=F.distance(this.p0))<g&&(g=y,d[0]=this.p0,d[1]=F);var st=a.closestPoint(this.p1);return(y=st.distance(this.p1))<g&&(g=y,d[0]=this.p1,d[1]=st),d},Te.prototype.closestPoint=function(a){var l=this.projectionFactor(a);return l>0&&l<1?this.project(a):this.p0.distance(a)<this.p1.distance(a)?this.p0:this.p1},Te.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Te.prototype.getLength=function(){return this.p0.distance(this.p1)},Te.prototype.compareTo=function(a){var l=a,d=this.p0.compareTo(l.p0);return 0!==d?d:this.p1.compareTo(l.p1)},Te.prototype.reverse=function(){var a=this.p0;this.p0=this.p1,this.p1=a},Te.prototype.equalsTopo=function(a){return this.p0.equals(a.p0)&&(this.p1.equals(a.p1)||this.p0.equals(a.p1))&&this.p1.equals(a.p0)},Te.prototype.lineIntersection=function(a){try{return ve.intersection(this.p0,this.p1,a.p0,a.p1)}catch(l){if(!(l instanceof Kt))throw l}return null},Te.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Te.prototype.pointAlongOffset=function(a,l){var d=this.p0.x+a*(this.p1.x-this.p0.x),g=this.p0.y+a*(this.p1.y-this.p0.y),y=this.p1.x-this.p0.x,x=this.p1.y-this.p0.y,S=Math.sqrt(y*y+x*x),F=0,st=0;if(0!==l){if(S<=0)throw new Error("Cannot compute offset from zero-length line segment");F=l*y/S,st=l*x/S}return new k(d-st,g+F)},Te.prototype.setCoordinates=function(){if(1===arguments.length){var a=arguments[0];this.setCoordinates(a.p0,a.p1)}else if(2===arguments.length){var l=arguments[0],d=arguments[1];this.p0.x=l.x,this.p0.y=l.y,this.p1.x=d.x,this.p1.y=d.y}},Te.prototype.segmentFraction=function(a){var l=this.projectionFactor(a);return l<0?l=0:(l>1||j.isNaN(l))&&(l=1),l},Te.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Te.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Te.prototype.distance=function(){if(arguments[0]instanceof Te){var a=arguments[0];return Ut.distanceLineLine(this.p0,this.p1,a.p0,a.p1)}if(arguments[0]instanceof k)return Ut.distancePointLine(arguments[0],this.p0,this.p1)},Te.prototype.pointAlong=function(a){var l=new k;return l.x=this.p0.x+a*(this.p1.x-this.p0.x),l.y=this.p0.y+a*(this.p1.y-this.p0.y),l},Te.prototype.hashCode=function(){var a=j.doubleToLongBits(this.p0.x);a^=31*j.doubleToLongBits(this.p0.y);var l=Math.trunc(a)^Math.trunc(a>>32),d=j.doubleToLongBits(this.p1.x);return d^=31*j.doubleToLongBits(this.p1.y),l^Math.trunc(d)^Math.trunc(d>>32)},Te.prototype.interfaces_=function(){return[G,J]},Te.prototype.getClass=function(){return Te},Te.midPoint=function(a,l){return new k((a.x+l.x)/2,(a.y+l.y)/2)},On.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Te,On);var lu=function(){this.tempEnv1=new ne,this.tempEnv2=new ne,this._overlapSeg1=new Te,this._overlapSeg2=new Te};lu.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var d=arguments[2],g=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),d.getLineSegment(g,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},lu.prototype.interfaces_=function(){return[]},lu.prototype.getClass=function(){return lu};var vr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var l=arguments[1],d=arguments[2],g=arguments[3];this._pts=arguments[0],this._start=l,this._end=d,this._context=g};vr.prototype.getLineSegment=function(a,l){l.p0=this._pts[a],l.p1=this._pts[a+1]},vr.prototype.computeSelect=function(a,l,d,g){if(g.tempEnv1.init(this._pts[l],this._pts[d]),d-l==1)return g.select(this,l),null;if(!a.intersects(g.tempEnv1))return null;var S=Math.trunc((l+d)/2);l<S&&this.computeSelect(a,l,S,g),S<d&&this.computeSelect(a,S,d,g)},vr.prototype.getCoordinates=function(){for(var a=new Array(this._end-this._start+1).fill(null),l=0,d=this._start;d<=this._end;d++)a[l++]=this._pts[d];return a},vr.prototype.computeOverlaps=function(a,l){this.computeOverlapsInternal(this._start,this._end,a,a._start,a._end,l)},vr.prototype.setId=function(a){this._id=a},vr.prototype.select=function(a,l){this.computeSelect(a,this._start,this._end,l)},vr.prototype.getEnvelope=function(){return null===this._env&&(this._env=new ne(this._pts[this._start],this._pts[this._end])),this._env},vr.prototype.getEndIndex=function(){return this._end},vr.prototype.getStartIndex=function(){return this._start},vr.prototype.getContext=function(){return this._context},vr.prototype.getId=function(){return this._id},vr.prototype.computeOverlapsInternal=function(a,l,d,g,y,x){var S=this._pts[a],F=this._pts[l],st=d._pts[g],Dt=d._pts[y];if(l-a==1&&y-g==1)return x.overlap(this,a,d,g),null;if(x.tempEnv1.init(S,F),x.tempEnv2.init(st,Dt),!x.tempEnv1.intersects(x.tempEnv2))return null;var Ht=Math.trunc((a+l)/2),$t=Math.trunc((g+y)/2);a<Ht&&(g<$t&&this.computeOverlapsInternal(a,Ht,d,g,$t,x),$t<y&&this.computeOverlapsInternal(a,Ht,d,$t,y,x)),Ht<l&&(g<$t&&this.computeOverlapsInternal(Ht,l,d,g,$t,x),$t<y&&this.computeOverlapsInternal(Ht,l,d,$t,y,x))},vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr};var er=function(){};er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.getChainStartIndices=function(a){var l=0,d=new ue;d.add(new gt(l));do{var g=er.findChainEnd(a,l);d.add(new gt(g)),l=g}while(l<a.length-1);return er.toIntArray(d)},er.findChainEnd=function(a,l){for(var d=l;d<a.length-1&&a[d].equals2D(a[d+1]);)d++;if(d>=a.length-1)return a.length-1;for(var g=fn.quadrant(a[d],a[d+1]),y=l+1;y<a.length&&(a[y-1].equals2D(a[y])||fn.quadrant(a[y-1],a[y])===g);)y++;return y-1},er.getChains=function(){if(1===arguments.length)return er.getChains(arguments[0],null);if(2===arguments.length){for(var l=arguments[0],d=arguments[1],g=new ue,y=er.getChainStartIndices(l),x=0;x<y.length-1;x++){var S=new vr(l,y[x],y[x+1],d);g.add(S)}return g}},er.toIntArray=function(a){for(var l=new Array(a.size()).fill(null),d=0;d<l.length;d++)l[d]=a.get(d).intValue();return l};var va=function(){};va.prototype.computeNodes=function(a){},va.prototype.getNodedSubstrings=function(){},va.prototype.interfaces_=function(){return[]},va.prototype.getClass=function(){return va};var el=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};el.prototype.setSegmentIntersector=function(a){this._segInt=a},el.prototype.interfaces_=function(){return[va]},el.prototype.getClass=function(){return el};var ji=function(a){function l(g){g?a.call(this,g):a.call(this),this._monoChains=new ue,this._index=new Ei,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l;var d={SegmentOverlapAction:{configurable:!0}};return l.prototype.getMonotoneChains=function(){return this._monoChains},l.prototype.getNodedSubstrings=function(){return tr.getNodedSubstrings(this._nodedSegStrings)},l.prototype.getIndex=function(){return this._index},l.prototype.add=function(g){for(var y=er.getChains(g.getCoordinates(),g).iterator();y.hasNext();){var x=y.next();x.setId(this._idCounter++),this._index.insert(x.getEnvelope(),x),this._monoChains.add(x)}},l.prototype.computeNodes=function(g){this._nodedSegStrings=g;for(var y=g.iterator();y.hasNext();)this.add(y.next());this.intersectChains()},l.prototype.intersectChains=function(){for(var g=new Gh(this._segInt),y=this._monoChains.iterator();y.hasNext();)for(var x=y.next(),S=this._index.query(x.getEnvelope()).iterator();S.hasNext();){var F=S.next();if(F.getId()>x.getId()&&(x.computeOverlaps(F,g),this._nOverlaps++),this._segInt.isDone())return null}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},d.SegmentOverlapAction.get=function(){return Gh},Object.defineProperties(l,d),l}(el),Gh=function(a){function l(){a.call(this),this._si=null,this._si=arguments[0]}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.overlap=function(){if(4!==arguments.length)return a.prototype.overlap.apply(this,arguments);var g=arguments[1],y=arguments[2],x=arguments[3],S=arguments[0].getContext(),F=y.getContext();this._si.processIntersections(S,g,F,x)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(lu),Bn=function a(){if(this._quadrantSegments=a.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=a.CAP_ROUND,this._joinStyle=a.JOIN_ROUND,this._mitreLimit=a.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=a.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var g=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(g)}else if(4===arguments.length){var x=arguments[1],S=arguments[2],F=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(x),this.setJoinStyle(S),this.setMitreLimit(F)}},Ne={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Bn.prototype.getEndCapStyle=function(){return this._endCapStyle},Bn.prototype.isSingleSided=function(){return this._isSingleSided},Bn.prototype.setQuadrantSegments=function(a){this._quadrantSegments=a,0===this._quadrantSegments&&(this._joinStyle=Bn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Bn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),a<=0&&(this._quadrantSegments=1),this._joinStyle!==Bn.JOIN_ROUND&&(this._quadrantSegments=Bn.DEFAULT_QUADRANT_SEGMENTS)},Bn.prototype.getJoinStyle=function(){return this._joinStyle},Bn.prototype.setJoinStyle=function(a){this._joinStyle=a},Bn.prototype.setSimplifyFactor=function(a){this._simplifyFactor=a<0?0:a},Bn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Bn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Bn.prototype.setEndCapStyle=function(a){this._endCapStyle=a},Bn.prototype.getMitreLimit=function(){return this._mitreLimit},Bn.prototype.setMitreLimit=function(a){this._mitreLimit=a},Bn.prototype.setSingleSided=function(a){this._isSingleSided=a},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.bufferDistanceError=function(a){var l=Math.PI/2/a;return 1-Math.cos(l/2)},Ne.CAP_ROUND.get=function(){return 1},Ne.CAP_FLAT.get=function(){return 2},Ne.CAP_SQUARE.get=function(){return 3},Ne.JOIN_ROUND.get=function(){return 1},Ne.JOIN_MITRE.get=function(){return 2},Ne.JOIN_BEVEL.get=function(){return 3},Ne.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ne.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ne.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Bn,Ne);var Hi=function(a){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ut.COUNTERCLOCKWISE,this._inputLine=a||null},Ha={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Hi.prototype.isDeletable=function(a,l,d,g){var y=this._inputLine[a],x=this._inputLine[l],S=this._inputLine[d];return!!this.isConcave(y,x,S)&&!!this.isShallow(y,x,S,g)&&this.isShallowSampled(y,x,a,d,g)},Hi.prototype.deleteShallowConcavities=function(){for(var a=1,l=this.findNextNonDeletedIndex(a),d=this.findNextNonDeletedIndex(l),g=!1;d<this._inputLine.length;){var y=!1;this.isDeletable(a,l,d,this._distanceTol)&&(this._isDeleted[l]=Hi.DELETE,y=!0,g=!0),l=this.findNextNonDeletedIndex(a=y?d:l),d=this.findNextNonDeletedIndex(l)}return g},Hi.prototype.isShallowConcavity=function(a,l,d,g){return Ut.computeOrientation(a,l,d)===this._angleOrientation&&Ut.distancePointLine(l,a,d)<g},Hi.prototype.isShallowSampled=function(a,l,d,g,y){var x=Math.trunc((g-d)/Hi.NUM_PTS_TO_CHECK);x<=0&&(x=1);for(var S=d;S<g;S+=x)if(!this.isShallow(a,l,this._inputLine[S],y))return!1;return!0},Hi.prototype.isConcave=function(a,l,d){return Ut.computeOrientation(a,l,d)===this._angleOrientation},Hi.prototype.simplify=function(a){this._distanceTol=Math.abs(a),a<0&&(this._angleOrientation=Ut.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var l=!1;do{l=this.deleteShallowConcavities()}while(l);return this.collapseLine()},Hi.prototype.findNextNonDeletedIndex=function(a){for(var l=a+1;l<this._inputLine.length&&this._isDeleted[l]===Hi.DELETE;)l++;return l},Hi.prototype.isShallow=function(a,l,d,g){return Ut.distancePointLine(l,a,d)<g},Hi.prototype.collapseLine=function(){for(var a=new ks,l=0;l<this._inputLine.length;l++)this._isDeleted[l]!==Hi.DELETE&&a.add(this._inputLine[l]);return a.toCoordinateArray()},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.simplify=function(a,l){return new Hi(a).simplify(l)},Ha.INIT.get=function(){return 0},Ha.DELETE.get=function(){return 1},Ha.KEEP.get=function(){return 1},Ha.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Hi,Ha);var ko=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ue},Ol={COORDINATE_ARRAY_TYPE:{configurable:!0}};ko.prototype.getCoordinates=function(){return this._ptList.toArray(ko.COORDINATE_ARRAY_TYPE)},ko.prototype.setPrecisionModel=function(a){this._precisionModel=a},ko.prototype.addPt=function(a){var l=new k(a);if(this._precisionModel.makePrecise(l),this.isRedundant(l))return null;this._ptList.add(l)},ko.prototype.revere=function(){},ko.prototype.addPts=function(a,l){if(l)for(var d=0;d<a.length;d++)this.addPt(a[d]);else for(var g=a.length-1;g>=0;g--)this.addPt(a[g])},ko.prototype.isRedundant=function(a){if(this._ptList.size()<1)return!1;var l=this._ptList.get(this._ptList.size()-1);return a.distance(l)<this._minimimVertexDistance},ko.prototype.toString=function(){return(new Ve).createLineString(this.getCoordinates()).toString()},ko.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var a=new k(this._ptList.get(0)),l=this._ptList.get(this._ptList.size()-1);if(a.equals(l))return null;this._ptList.add(a)},ko.prototype.setMinimumVertexDistance=function(a){this._minimimVertexDistance=a},ko.prototype.interfaces_=function(){return[]},ko.prototype.getClass=function(){return ko},Ol.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ko,Ol);var bn=function(){},Bs={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.toDegrees=function(a){return 180*a/Math.PI},bn.normalize=function(a){for(;a>Math.PI;)a-=bn.PI_TIMES_2;for(;a<=-Math.PI;)a+=bn.PI_TIMES_2;return a},bn.angle=function(){if(1===arguments.length){var a=arguments[0];return Math.atan2(a.y,a.x)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return Math.atan2(d.y-l.y,d.x-l.x)}},bn.isAcute=function(a,l,d){return(a.x-l.x)*(d.x-l.x)+(a.y-l.y)*(d.y-l.y)>0},bn.isObtuse=function(a,l,d){return(a.x-l.x)*(d.x-l.x)+(a.y-l.y)*(d.y-l.y)<0},bn.interiorAngle=function(a,l,d){var g=bn.angle(l,a),y=bn.angle(l,d);return Math.abs(y-g)},bn.normalizePositive=function(a){if(a<0){for(;a<0;)a+=bn.PI_TIMES_2;a>=bn.PI_TIMES_2&&(a=0)}else{for(;a>=bn.PI_TIMES_2;)a-=bn.PI_TIMES_2;a<0&&(a=0)}return a},bn.angleBetween=function(a,l,d){var g=bn.angle(l,a),y=bn.angle(l,d);return bn.diff(g,y)},bn.diff=function(a,l){var d=null;return(d=a<l?l-a:a-l)>Math.PI&&(d=2*Math.PI-d),d},bn.toRadians=function(a){return a*Math.PI/180},bn.getTurn=function(a,l){var d=Math.sin(l-a);return d>0?bn.COUNTERCLOCKWISE:d<0?bn.CLOCKWISE:bn.NONE},bn.angleBetweenOriented=function(a,l,d){var g=bn.angle(l,a),y=bn.angle(l,d)-g;return y<=-Math.PI?y+bn.PI_TIMES_2:y>Math.PI?y-bn.PI_TIMES_2:y},Bs.PI_TIMES_2.get=function(){return 2*Math.PI},Bs.PI_OVER_2.get=function(){return Math.PI/2},Bs.PI_OVER_4.get=function(){return Math.PI/4},Bs.COUNTERCLOCKWISE.get=function(){return Ut.COUNTERCLOCKWISE},Bs.CLOCKWISE.get=function(){return Ut.CLOCKWISE},Bs.NONE.get=function(){return Ut.COLLINEAR},Object.defineProperties(bn,Bs);var vi=function a(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Te,this._seg1=new Te,this._offset0=new Te,this._offset1=new Te,this._side=0,this._hasNarrowConcaveAngle=!1;var d=arguments[1],g=arguments[2];this._precisionModel=arguments[0],this._bufParams=d,this._li=new kt,this._filletAngleQuantum=Math.PI/2/d.getQuadrantSegments(),d.getQuadrantSegments()>=8&&d.getJoinStyle()===Bn.JOIN_ROUND&&(this._closingSegLengthFactor=a.MAX_CLOSING_SEG_LEN_FACTOR),this.init(g)},hc={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};vi.prototype.addNextSegment=function(a,l){if(this._s0=this._s1,this._s1=this._s2,this._s2=a,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var d=Ut.computeOrientation(this._s0,this._s1,this._s2),g=d===Ut.CLOCKWISE&&this._side===Zt.LEFT||d===Ut.COUNTERCLOCKWISE&&this._side===Zt.RIGHT;0===d?this.addCollinear(l):g?this.addOutsideTurn(d,l):this.addInsideTurn(d,l)},vi.prototype.addLineEndCap=function(a,l){var d=new Te(a,l),g=new Te;this.computeOffsetSegment(d,Zt.LEFT,this._distance,g);var y=new Te;this.computeOffsetSegment(d,Zt.RIGHT,this._distance,y);var F=Math.atan2(l.y-a.y,l.x-a.x);switch(this._bufParams.getEndCapStyle()){case Bn.CAP_ROUND:this._segList.addPt(g.p1),this.addFilletArc(l,F+Math.PI/2,F-Math.PI/2,Ut.CLOCKWISE,this._distance),this._segList.addPt(y.p1);break;case Bn.CAP_FLAT:this._segList.addPt(g.p1),this._segList.addPt(y.p1);break;case Bn.CAP_SQUARE:var st=new k;st.x=Math.abs(this._distance)*Math.cos(F),st.y=Math.abs(this._distance)*Math.sin(F);var Dt=new k(g.p1.x+st.x,g.p1.y+st.y),Ht=new k(y.p1.x+st.x,y.p1.y+st.y);this._segList.addPt(Dt),this._segList.addPt(Ht)}},vi.prototype.getCoordinates=function(){return this._segList.getCoordinates()},vi.prototype.addMitreJoin=function(a,l,d,g){var y=!0,x=null;try{x=ve.intersection(l.p0,l.p1,d.p0,d.p1),(g<=0?1:x.distance(a)/Math.abs(g))>this._bufParams.getMitreLimit()&&(y=!1)}catch(S){if(!(S instanceof Kt))throw S;x=new k(0,0),y=!1}y?this._segList.addPt(x):this.addLimitedMitreJoin(l,d,g,this._bufParams.getMitreLimit())},vi.prototype.addFilletCorner=function(a,l,d,g,y){var F=Math.atan2(l.y-a.y,l.x-a.x),Ht=Math.atan2(d.y-a.y,d.x-a.x);g===Ut.CLOCKWISE?F<=Ht&&(F+=2*Math.PI):F>=Ht&&(F-=2*Math.PI),this._segList.addPt(l),this.addFilletArc(a,F,Ht,g,y),this._segList.addPt(d)},vi.prototype.addOutsideTurn=function(a,l){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*vi.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Bn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Bn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(l&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,a,this._distance),this._segList.addPt(this._offset1.p0))},vi.prototype.createSquare=function(a){this._segList.addPt(new k(a.x+this._distance,a.y+this._distance)),this._segList.addPt(new k(a.x+this._distance,a.y-this._distance)),this._segList.addPt(new k(a.x-this._distance,a.y-this._distance)),this._segList.addPt(new k(a.x-this._distance,a.y+this._distance)),this._segList.closeRing()},vi.prototype.addSegments=function(a,l){this._segList.addPts(a,l)},vi.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},vi.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},vi.prototype.initSideSegments=function(a,l,d){this._s1=a,this._s2=l,this._side=d,this._seg1.setCoordinates(a,l),this.computeOffsetSegment(this._seg1,d,this._distance,this._offset1)},vi.prototype.addLimitedMitreJoin=function(a,l,d,g){var y=this._seg0.p1,x=bn.angle(y,this._seg0.p0),S=bn.angleBetweenOriented(this._seg0.p0,y,this._seg1.p1)/2,F=bn.normalize(x+S),st=bn.normalize(F+Math.PI),Dt=g*d,Ht=d-Dt*Math.abs(Math.sin(S)),$t=y.x+Dt*Math.cos(st),ge=y.y+Dt*Math.sin(st),be=new k($t,ge),Oe=new Te(y,be),Xe=Oe.pointAlongOffset(1,Ht),Ci=Oe.pointAlongOffset(1,-Ht);this._side===Zt.LEFT?(this._segList.addPt(Xe),this._segList.addPt(Ci)):(this._segList.addPt(Ci),this._segList.addPt(Xe))},vi.prototype.computeOffsetSegment=function(a,l,d,g){var y=l===Zt.LEFT?1:-1,x=a.p1.x-a.p0.x,S=a.p1.y-a.p0.y,F=Math.sqrt(x*x+S*S),st=y*d*x/F,Dt=y*d*S/F;g.p0.x=a.p0.x-Dt,g.p0.y=a.p0.y+st,g.p1.x=a.p1.x-Dt,g.p1.y=a.p1.y+st},vi.prototype.addFilletArc=function(a,l,d,g,y){var x=g===Ut.CLOCKWISE?-1:1,S=Math.abs(l-d),F=Math.trunc(S/this._filletAngleQuantum+.5);if(F<1)return null;for(var st=S/F,Dt=0,Ht=new k;Dt<S;){var $t=l+x*Dt;Ht.x=a.x+y*Math.cos($t),Ht.y=a.y+y*Math.sin($t),this._segList.addPt(Ht),Dt+=st}},vi.prototype.addInsideTurn=function(a,l){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*vi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var d=new k((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(d);var g=new k((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(g)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},vi.prototype.createCircle=function(a){var l=new k(a.x+this._distance,a.y);this._segList.addPt(l),this.addFilletArc(a,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},vi.prototype.addBevelJoin=function(a,l){this._segList.addPt(a.p1),this._segList.addPt(l.p0)},vi.prototype.init=function(a){this._distance=a,this._maxCurveSegmentError=a*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ko,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(a*vi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},vi.prototype.addCollinear=function(a){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Bn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Bn.JOIN_MITRE?(a&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ut.CLOCKWISE,this._distance))},vi.prototype.closeRing=function(){this._segList.closeRing()},vi.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi},hc.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},hc.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},hc.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},hc.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(vi,hc);var Qr=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var l=arguments[1];this._precisionModel=arguments[0],this._bufParams=l};Qr.prototype.getOffsetCurve=function(a,l){if(this._distance=l,0===l)return null;var d=l<0,g=Math.abs(l),y=this.getSegGen(g);a.length<=1?this.computePointCurve(a[0],y):this.computeOffsetCurve(a,d,y);var x=y.getCoordinates();return d&&sn.reverse(x),x},Qr.prototype.computeSingleSidedBufferCurve=function(a,l,d){var g=this.simplifyTolerance(this._distance);if(l){d.addSegments(a,!0);var y=Hi.simplify(a,-g),x=y.length-1;d.initSideSegments(y[x],y[x-1],Zt.LEFT),d.addFirstSegment();for(var S=x-2;S>=0;S--)d.addNextSegment(y[S],!0)}else{d.addSegments(a,!1);var F=Hi.simplify(a,g),st=F.length-1;d.initSideSegments(F[0],F[1],Zt.LEFT),d.addFirstSegment();for(var Dt=2;Dt<=st;Dt++)d.addNextSegment(F[Dt],!0)}d.addLastSegment(),d.closeRing()},Qr.prototype.computeRingBufferCurve=function(a,l,d){var g=this.simplifyTolerance(this._distance);l===Zt.RIGHT&&(g=-g);var y=Hi.simplify(a,g),x=y.length-1;d.initSideSegments(y[x-1],y[0],l);for(var S=1;S<=x;S++)d.addNextSegment(y[S],1!==S);d.closeRing()},Qr.prototype.computeLineBufferCurve=function(a,l){var d=this.simplifyTolerance(this._distance),g=Hi.simplify(a,d),y=g.length-1;l.initSideSegments(g[0],g[1],Zt.LEFT);for(var x=2;x<=y;x++)l.addNextSegment(g[x],!0);l.addLastSegment(),l.addLineEndCap(g[y-1],g[y]);var S=Hi.simplify(a,-d),F=S.length-1;l.initSideSegments(S[F],S[F-1],Zt.LEFT);for(var st=F-2;st>=0;st--)l.addNextSegment(S[st],!0);l.addLastSegment(),l.addLineEndCap(S[1],S[0]),l.closeRing()},Qr.prototype.computePointCurve=function(a,l){switch(this._bufParams.getEndCapStyle()){case Bn.CAP_ROUND:l.createCircle(a);break;case Bn.CAP_SQUARE:l.createSquare(a)}},Qr.prototype.getLineCurve=function(a,l){if(this._distance=l,l<0&&!this._bufParams.isSingleSided()||0===l)return null;var d=Math.abs(l),g=this.getSegGen(d);return a.length<=1?this.computePointCurve(a[0],g):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(a,l<0,g):this.computeLineBufferCurve(a,g),g.getCoordinates()},Qr.prototype.getBufferParameters=function(){return this._bufParams},Qr.prototype.simplifyTolerance=function(a){return a*this._bufParams.getSimplifyFactor()},Qr.prototype.getRingCurve=function(a,l,d){if(this._distance=d,a.length<=2)return this.getLineCurve(a,d);if(0===d)return Qr.copyCoordinates(a);var g=this.getSegGen(d);return this.computeRingBufferCurve(a,l,g),g.getCoordinates()},Qr.prototype.computeOffsetCurve=function(a,l,d){var g=this.simplifyTolerance(this._distance);if(l){var y=Hi.simplify(a,-g),x=y.length-1;d.initSideSegments(y[x],y[x-1],Zt.LEFT),d.addFirstSegment();for(var S=x-2;S>=0;S--)d.addNextSegment(y[S],!0)}else{var F=Hi.simplify(a,g),st=F.length-1;d.initSideSegments(F[0],F[1],Zt.LEFT),d.addFirstSegment();for(var Dt=2;Dt<=st;Dt++)d.addNextSegment(F[Dt],!0)}d.addLastSegment()},Qr.prototype.getSegGen=function(a){return new vi(this._precisionModel,this._bufParams,a)},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.copyCoordinates=function(a){for(var l=new Array(a.length).fill(null),d=0;d<l.length;d++)l[d]=new k(a[d]);return l};var So=function(){this._subgraphs=null,this._seg=new Te,this._cga=new Ut,this._subgraphs=arguments[0]},$h={DepthSegment:{configurable:!0}};So.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var a=arguments[0],l=new ue,d=this._subgraphs.iterator();d.hasNext();){var g=d.next(),y=g.getEnvelope();a.y<y.getMinY()||a.y>y.getMaxY()||this.findStabbedSegments(a,g.getDirectedEdges(),l)}return l}if(3===arguments.length)if(Lt(arguments[2],Or)&&arguments[0]instanceof k&&arguments[1]instanceof cc){for(var x=arguments[0],S=arguments[1],F=arguments[2],st=S.getEdge().getCoordinates(),Dt=0;Dt<st.length-1;Dt++)if(this._seg.p0=st[Dt],this._seg.p1=st[Dt+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<x.x||this._seg.isHorizontal()||x.y<this._seg.p0.y||x.y>this._seg.p1.y||Ut.computeOrientation(this._seg.p0,this._seg.p1,x)===Ut.RIGHT)){var Ht=S.getDepth(Zt.LEFT);this._seg.p0.equals(st[Dt])||(Ht=S.getDepth(Zt.RIGHT));var $t=new ws(this._seg,Ht);F.add($t)}}else if(Lt(arguments[2],Or)&&arguments[0]instanceof k&&Lt(arguments[1],Or))for(var ge=arguments[0],Oe=arguments[2],Xe=arguments[1].iterator();Xe.hasNext();){var Ci=Xe.next();Ci.isForward()&&this.findStabbedSegments(ge,Ci,Oe)}},So.prototype.getDepth=function(a){var l=this.findStabbedSegments(a);return 0===l.size()?0:$e.min(l)._leftDepth},So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},$h.DepthSegment.get=function(){return ws},Object.defineProperties(So,$h);var ws=function(){this._upwardSeg=null,this._leftDepth=null;var l=arguments[1];this._upwardSeg=new Te(arguments[0]),this._leftDepth=l};ws.prototype.compareTo=function(a){var l=a;if(this._upwardSeg.minX()>=l._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=l._upwardSeg.minX())return-1;var d=this._upwardSeg.orientationIndex(l._upwardSeg);return 0!==d||0!=(d=-1*l._upwardSeg.orientationIndex(this._upwardSeg))?d:this._upwardSeg.compareTo(l._upwardSeg)},ws.prototype.compareX=function(a,l){var d=a.p0.compareTo(l.p0);return 0!==d?d:a.p1.compareTo(l.p1)},ws.prototype.toString=function(){return this._upwardSeg.toString()},ws.prototype.interfaces_=function(){return[G]},ws.prototype.getClass=function(){return ws};var Tn=function(a,l,d){this.p0=a||null,this.p1=l||null,this.p2=d||null};Tn.prototype.area=function(){return Tn.area(this.p0,this.p1,this.p2)},Tn.prototype.signedArea=function(){return Tn.signedArea(this.p0,this.p1,this.p2)},Tn.prototype.interpolateZ=function(a){if(null===a)throw new Y("Supplied point is null.");return Tn.interpolateZ(a,this.p0,this.p1,this.p2)},Tn.prototype.longestSideLength=function(){return Tn.longestSideLength(this.p0,this.p1,this.p2)},Tn.prototype.isAcute=function(){return Tn.isAcute(this.p0,this.p1,this.p2)},Tn.prototype.circumcentre=function(){return Tn.circumcentre(this.p0,this.p1,this.p2)},Tn.prototype.area3D=function(){return Tn.area3D(this.p0,this.p1,this.p2)},Tn.prototype.centroid=function(){return Tn.centroid(this.p0,this.p1,this.p2)},Tn.prototype.inCentre=function(){return Tn.inCentre(this.p0,this.p1,this.p2)},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.area=function(a,l,d){return Math.abs(((d.x-a.x)*(l.y-a.y)-(l.x-a.x)*(d.y-a.y))/2)},Tn.signedArea=function(a,l,d){return((d.x-a.x)*(l.y-a.y)-(l.x-a.x)*(d.y-a.y))/2},Tn.det=function(a,l,d,g){return a*g-l*d},Tn.interpolateZ=function(a,l,d,g){var y=l.x,x=l.y,S=d.x-y,F=g.x-y,st=d.y-x,Dt=g.y-x,Ht=S*Dt-F*st,$t=a.x-y,ge=a.y-x;return l.z+(Dt*$t-F*ge)/Ht*(d.z-l.z)+(-st*$t+S*ge)/Ht*(g.z-l.z)},Tn.longestSideLength=function(a,l,d){var g=a.distance(l),y=l.distance(d),x=d.distance(a),S=g;return y>S&&(S=y),x>S&&(S=x),S},Tn.isAcute=function(a,l,d){return!!bn.isAcute(a,l,d)&&!!bn.isAcute(l,d,a)&&!!bn.isAcute(d,a,l)},Tn.circumcentre=function(a,l,d){var g=d.x,y=d.y,x=a.x-g,S=a.y-y,F=l.x-g,st=l.y-y,Dt=2*Tn.det(x,S,F,st),Ht=Tn.det(S,x*x+S*S,st,F*F+st*st),$t=Tn.det(x,x*x+S*S,F,F*F+st*st);return new k(g-Ht/Dt,y+$t/Dt)},Tn.perpendicularBisector=function(a,l){var d=l.x-a.x,g=l.y-a.y,y=new ve(a.x+d/2,a.y+g/2,1),x=new ve(a.x-g+d/2,a.y+d+g/2,1);return new ve(y,x)},Tn.angleBisector=function(a,l,d){var g=l.distance(a),y=g/(g+l.distance(d));return new k(a.x+y*(d.x-a.x),a.y+y*(d.y-a.y))},Tn.area3D=function(a,l,d){var g=l.x-a.x,y=l.y-a.y,x=l.z-a.z,S=d.x-a.x,F=d.y-a.y,st=d.z-a.z,Dt=y*st-x*F,Ht=x*S-g*st,$t=g*F-y*S;return Math.sqrt(Dt*Dt+Ht*Ht+$t*$t)/2},Tn.centroid=function(a,l,d){return new k((a.x+l.x+d.x)/3,(a.y+l.y+d.y)/3)},Tn.inCentre=function(a,l,d){var g=l.distance(d),y=a.distance(d),x=a.distance(l),S=g+y+x;return new k((g*a.x+y*l.x+x*d.x)/S,(g*a.y+y*l.y+x*d.y)/S)};var uo=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ue;var l=arguments[1],d=arguments[2];this._inputGeom=arguments[0],this._distance=l,this._curveBuilder=d};uo.prototype.addPoint=function(a){if(this._distance<=0)return null;var l=a.getCoordinates(),d=this._curveBuilder.getLineCurve(l,this._distance);this.addCurve(d,K.EXTERIOR,K.INTERIOR)},uo.prototype.addPolygon=function(a){var l=this._distance,d=Zt.LEFT;this._distance<0&&(l=-this._distance,d=Zt.RIGHT);var g=a.getExteriorRing(),y=sn.removeRepeatedPoints(g.getCoordinates());if(this._distance<0&&this.isErodedCompletely(g,this._distance)||this._distance<=0&&y.length<3)return null;this.addPolygonRing(y,l,d,K.EXTERIOR,K.INTERIOR);for(var x=0;x<a.getNumInteriorRing();x++){var S=a.getInteriorRingN(x),F=sn.removeRepeatedPoints(S.getCoordinates());this._distance>0&&this.isErodedCompletely(S,-this._distance)||this.addPolygonRing(F,l,Zt.opposite(d),K.INTERIOR,K.EXTERIOR)}},uo.prototype.isTriangleErodedCompletely=function(a,l){var d=new Tn(a[0],a[1],a[2]),g=d.inCentre();return Ut.distancePointLine(g,d.p0,d.p1)<Math.abs(l)},uo.prototype.addLineString=function(a){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var l=sn.removeRepeatedPoints(a.getCoordinates()),d=this._curveBuilder.getLineCurve(l,this._distance);this.addCurve(d,K.EXTERIOR,K.INTERIOR)},uo.prototype.addCurve=function(a,l,d){if(null===a||a.length<2)return null;var g=new tr(a,new Cn(0,K.BOUNDARY,l,d));this._curveList.add(g)},uo.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},uo.prototype.addPolygonRing=function(a,l,d,g,y){if(0===l&&a.length<Qs.MINIMUM_VALID_SIZE)return null;var x=g,S=y;a.length>=Qs.MINIMUM_VALID_SIZE&&Ut.isCCW(a)&&(x=y,S=g,d=Zt.opposite(d));var F=this._curveBuilder.getRingCurve(a,d,l);this.addCurve(F,x,S)},uo.prototype.add=function(a){if(a.isEmpty())return null;a instanceof Qi?this.addPolygon(a):a instanceof ur?this.addLineString(a):a instanceof Do?this.addPoint(a):(a instanceof ga||a instanceof ka||a instanceof ss||a instanceof Sr)&&this.addCollection(a)},uo.prototype.isErodedCompletely=function(a,l){var d=a.getCoordinates();if(d.length<4)return l<0;if(4===d.length)return this.isTriangleErodedCompletely(d,l);var g=a.getEnvelopeInternal(),y=Math.min(g.getHeight(),g.getWidth());return l<0&&2*Math.abs(l)>y},uo.prototype.addCollection=function(a){for(var l=0;l<a.getNumGeometries();l++){var d=a.getGeometryN(l);this.add(d)}},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo};var cu=function(){};cu.prototype.locate=function(a){},cu.prototype.interfaces_=function(){return[]},cu.prototype.getClass=function(){return cu};var ea=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var a=arguments[0];this._parent=a,this._atStart=!0,this._index=0,this._max=a.getNumGeometries()};ea.prototype.next=function(){if(this._atStart)return this._atStart=!1,ea.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new yt;var a=this._parent.getGeometryN(this._index++);return a instanceof Sr?(this._subcollectionIterator=new ea(a),this._subcollectionIterator.next()):a},ea.prototype.remove=function(){throw new Error(this.getClass().getName())},ea.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ea.prototype.interfaces_=function(){return[zo]},ea.prototype.getClass=function(){return ea},ea.isAtomic=function(a){return!(a instanceof Sr)};var Go=function(){this._geom=null,this._geom=arguments[0]};Go.prototype.locate=function(a){return Go.locate(a,this._geom)},Go.prototype.interfaces_=function(){return[cu]},Go.prototype.getClass=function(){return Go},Go.isPointInRing=function(a,l){return!!l.getEnvelopeInternal().intersects(a)&&Ut.isPointInRing(a,l.getCoordinates())},Go.containsPointInPolygon=function(a,l){if(l.isEmpty())return!1;var d=l.getExteriorRing();if(!Go.isPointInRing(a,d))return!1;for(var g=0;g<l.getNumInteriorRing();g++){var y=l.getInteriorRingN(g);if(Go.isPointInRing(a,y))return!1}return!0},Go.containsPoint=function(a,l){if(l instanceof Qi)return Go.containsPointInPolygon(a,l);if(l instanceof Sr)for(var d=new ea(l);d.hasNext();){var g=d.next();if(g!==l&&Go.containsPoint(a,g))return!0}return!1},Go.locate=function(a,l){return l.isEmpty()?K.EXTERIOR:Go.containsPoint(a,l)?K.INTERIOR:K.EXTERIOR};var Ur=function(){this._edgeMap=new Ft,this._edgeList=null,this._ptInAreaLocation=[K.NONE,K.NONE]};Ur.prototype.getNextCW=function(a){this.getEdges();var l=this._edgeList.indexOf(a),d=l-1;return 0===l&&(d=this._edgeList.size()-1),this._edgeList.get(d)},Ur.prototype.propagateSideLabels=function(a){for(var l=K.NONE,d=this.iterator();d.hasNext();){var g=d.next().getLabel();g.isArea(a)&&g.getLocation(a,Zt.LEFT)!==K.NONE&&(l=g.getLocation(a,Zt.LEFT))}if(l===K.NONE)return null;for(var y=l,x=this.iterator();x.hasNext();){var S=x.next(),F=S.getLabel();if(F.getLocation(a,Zt.ON)===K.NONE&&F.setLocation(a,Zt.ON,y),F.isArea(a)){var st=F.getLocation(a,Zt.LEFT),Dt=F.getLocation(a,Zt.RIGHT);if(Dt!==K.NONE){if(Dt!==y)throw new as("side location conflict",S.getCoordinate());st===K.NONE&&R.shouldNeverReachHere("found single null side (at "+S.getCoordinate()+")"),y=st}else R.isTrue(F.getLocation(a,Zt.LEFT)===K.NONE,"found single null side"),F.setLocation(a,Zt.RIGHT,y),F.setLocation(a,Zt.LEFT,y)}}},Ur.prototype.getCoordinate=function(){var a=this.iterator();return a.hasNext()?a.next().getCoordinate():null},Ur.prototype.print=function(a){jt.out.println("EdgeEndStar:   "+this.getCoordinate());for(var l=this.iterator();l.hasNext();)l.next().print(a)},Ur.prototype.isAreaLabelsConsistent=function(a){return this.computeEdgeEndLabels(a.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Ur.prototype.checkAreaLabelsConsistent=function(a){var l=this.getEdges();if(l.size()<=0)return!0;var d=l.size()-1,g=l.get(d).getLabel().getLocation(a,Zt.LEFT);R.isTrue(g!==K.NONE,"Found unlabelled area edge");for(var y=g,x=this.iterator();x.hasNext();){var S=x.next().getLabel();R.isTrue(S.isArea(a),"Found non-area edge");var F=S.getLocation(a,Zt.LEFT),st=S.getLocation(a,Zt.RIGHT);if(F===st||st!==y)return!1;y=F}return!0},Ur.prototype.findIndex=function(a){this.iterator();for(var l=0;l<this._edgeList.size();l++)if(this._edgeList.get(l)===a)return l;return-1},Ur.prototype.iterator=function(){return this.getEdges().iterator()},Ur.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new ue(this._edgeMap.values())),this._edgeList},Ur.prototype.getLocation=function(a,l,d){return this._ptInAreaLocation[a]===K.NONE&&(this._ptInAreaLocation[a]=Go.locate(l,d[a].getGeometry())),this._ptInAreaLocation[a]},Ur.prototype.toString=function(){var a=new at;a.append("EdgeEndStar:   "+this.getCoordinate()),a.append("\n");for(var l=this.iterator();l.hasNext();){var d=l.next();a.append(d),a.append("\n")}return a.toString()},Ur.prototype.computeEdgeEndLabels=function(a){for(var l=this.iterator();l.hasNext();)l.next().computeLabel(a)},Ur.prototype.computeLabelling=function(a){this.computeEdgeEndLabels(a[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var l=[!1,!1],d=this.iterator();d.hasNext();)for(var g=d.next().getLabel(),y=0;y<2;y++)g.isLine(y)&&g.getLocation(y)===K.BOUNDARY&&(l[y]=!0);for(var x=this.iterator();x.hasNext();)for(var S=x.next(),F=S.getLabel(),st=0;st<2;st++)if(F.isAnyNull(st)){var Dt=K.NONE;if(l[st])Dt=K.EXTERIOR;else{var Ht=S.getCoordinate();Dt=this.getLocation(st,Ht,a)}F.setAllLocationsIfNull(st,Dt)}},Ur.prototype.getDegree=function(){return this._edgeMap.size()},Ur.prototype.insertEdgeEnd=function(a,l){this._edgeMap.put(a,l),this._edgeList=null},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur};var nl=function(a){function l(){a.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var d=null,g=null,y=this._SCANNING_FOR_INCOMING,x=0;x<this._resultAreaEdgeList.size();x++){var S=this._resultAreaEdgeList.get(x),F=S.getSym();if(S.getLabel().isArea())switch(null===d&&S.isInResult()&&(d=S),y){case this._SCANNING_FOR_INCOMING:if(!F.isInResult())continue;g=F,y=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!S.isInResult())continue;g.setNext(S),y=this._SCANNING_FOR_INCOMING}}if(y===this._LINKING_TO_OUTGOING){if(null===d)throw new as("no outgoing dirEdge found",this.getCoordinate());R.isTrue(d.isInResult(),"unable to link last incoming dirEdge"),g.setNext(d)}},l.prototype.insert=function(d){this.insertEdgeEnd(d,d)},l.prototype.getRightmostEdge=function(){var d=this.getEdges(),g=d.size();if(g<1)return null;var y=d.get(0);if(1===g)return y;var x=d.get(g-1),S=y.getQuadrant(),F=x.getQuadrant();return fn.isNorthern(S)&&fn.isNorthern(F)?y:fn.isNorthern(S)||fn.isNorthern(F)?0!==y.getDy()?y:0!==x.getDy()?x:(R.shouldNeverReachHere("found two horizontal edges incident on node"),null):x},l.prototype.print=function(d){jt.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var g=this.iterator();g.hasNext();){var y=g.next();d.print("out "),y.print(d),d.println(),d.print("in "),y.getSym().print(d),d.println()}},l.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ue;for(var d=this.iterator();d.hasNext();){var g=d.next();(g.isInResult()||g.getSym().isInResult())&&this._resultAreaEdgeList.add(g)}return this._resultAreaEdgeList},l.prototype.updateLabelling=function(d){for(var g=this.iterator();g.hasNext();){var y=g.next().getLabel();y.setAllLocationsIfNull(0,d.getLocation(0)),y.setAllLocationsIfNull(1,d.getLocation(1))}},l.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var d=null,g=null,y=this._edgeList.size()-1;y>=0;y--){var x=this._edgeList.get(y),S=x.getSym();null===g&&(g=S),null!==d&&S.setNext(d),d=x}g.setNext(d)},l.prototype.computeDepths=function(){if(1===arguments.length){var d=arguments[0],g=this.findIndex(d),y=d.getDepth(Zt.LEFT),x=d.getDepth(Zt.RIGHT),S=this.computeDepths(g+1,this._edgeList.size(),y);if(this.computeDepths(0,g,S)!==x)throw new as("depth mismatch at "+d.getCoordinate())}else if(3===arguments.length){for(var st=arguments[1],Dt=arguments[2],Ht=arguments[0];Ht<st;Ht++){var $t=this._edgeList.get(Ht);$t.setEdgeDepths(Zt.RIGHT,Dt),Dt=$t.getDepth(Zt.LEFT)}return Dt}},l.prototype.mergeSymLabels=function(){for(var d=this.iterator();d.hasNext();){var g=d.next();g.getLabel().merge(g.getSym().getLabel())}},l.prototype.linkMinimalDirectedEdges=function(d){for(var g=null,y=null,x=this._SCANNING_FOR_INCOMING,S=this._resultAreaEdgeList.size()-1;S>=0;S--){var F=this._resultAreaEdgeList.get(S),st=F.getSym();switch(null===g&&F.getEdgeRing()===d&&(g=F),x){case this._SCANNING_FOR_INCOMING:if(st.getEdgeRing()!==d)continue;y=st,x=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(F.getEdgeRing()!==d)continue;y.setNextMin(F),x=this._SCANNING_FOR_INCOMING}}x===this._LINKING_TO_OUTGOING&&(R.isTrue(null!==g,"found null for first outgoing dirEdge"),R.isTrue(g.getEdgeRing()===d,"unable to link last incoming dirEdge"),y.setNextMin(g))},l.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var d=0,g=this.iterator();g.hasNext();)g.next().isInResult()&&d++;return d}if(1===arguments.length){for(var y=arguments[0],x=0,S=this.iterator();S.hasNext();)S.next().getEdgeRing()===y&&x++;return x}},l.prototype.getLabel=function(){return this._label},l.prototype.findCoveredLineEdges=function(){for(var d=K.NONE,g=this.iterator();g.hasNext();){var y=g.next(),x=y.getSym();if(!y.isLineEdge()){if(y.isInResult()){d=K.INTERIOR;break}if(x.isInResult()){d=K.EXTERIOR;break}}}if(d===K.NONE)return null;for(var S=d,F=this.iterator();F.hasNext();){var st=F.next(),Dt=st.getSym();st.isLineEdge()?st.getEdge().setCovered(S===K.INTERIOR):(st.isInResult()&&(S=K.EXTERIOR),Dt.isInResult()&&(S=K.INTERIOR))}},l.prototype.computeLabelling=function(d){a.prototype.computeLabelling.call(this,d),this._label=new Cn(K.NONE);for(var g=this.iterator();g.hasNext();)for(var y=g.next().getEdge().getLabel(),x=0;x<2;x++){var S=y.getLocation(x);S!==K.INTERIOR&&S!==K.BOUNDARY||this._label.setLocation(x,K.INTERIOR)}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(Ur),Vs=function(a){function l(){a.apply(this,arguments)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.createNode=function(d){return new bs(d,new nl)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(mo),Gr=function a(){this._pts=null,this._orientation=null;var l=arguments[0];this._pts=l,this._orientation=a.orientation(l)};Gr.prototype.compareTo=function(a){return Gr.compareOriented(this._pts,this._orientation,a._pts,a._orientation)},Gr.prototype.interfaces_=function(){return[G]},Gr.prototype.getClass=function(){return Gr},Gr.orientation=function(a){return 1===sn.increasingDirection(a)},Gr.compareOriented=function(a,l,d,g){for(var y=l?1:-1,x=g?1:-1,S=l?a.length:-1,F=g?d.length:-1,st=l?0:a.length-1,Dt=g?0:d.length-1;;){var Ht=a[st].compareTo(d[Dt]);if(0!==Ht)return Ht;var $t=(st+=y)===S,ge=(Dt+=x)===F;if($t&&!ge)return-1;if(!$t&&ge)return 1;if($t&&ge)return 0}};var xs=function(){this._edges=new ue,this._ocaMap=new Ft};xs.prototype.print=function(a){a.print("MULTILINESTRING ( ");for(var l=0;l<this._edges.size();l++){var d=this._edges.get(l);l>0&&a.print(","),a.print("(");for(var g=d.getCoordinates(),y=0;y<g.length;y++)y>0&&a.print(","),a.print(g[y].x+" "+g[y].y);a.println(")")}a.print(")  ")},xs.prototype.addAll=function(a){for(var l=a.iterator();l.hasNext();)this.add(l.next())},xs.prototype.findEdgeIndex=function(a){for(var l=0;l<this._edges.size();l++)if(this._edges.get(l).equals(a))return l;return-1},xs.prototype.iterator=function(){return this._edges.iterator()},xs.prototype.getEdges=function(){return this._edges},xs.prototype.get=function(a){return this._edges.get(a)},xs.prototype.findEqualEdge=function(a){var l=new Gr(a.getCoordinates());return this._ocaMap.get(l)},xs.prototype.add=function(a){this._edges.add(a);var l=new Gr(a.getCoordinates());this._ocaMap.put(l,a)},xs.prototype.interfaces_=function(){return[]},xs.prototype.getClass=function(){return xs};var ye=function(){};ye.prototype.processIntersections=function(a,l,d,g){},ye.prototype.isDone=function(){},ye.prototype.interfaces_=function(){return[]},ye.prototype.getClass=function(){return ye};var Fo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Fo.prototype.isTrivialIntersection=function(a,l,d,g){if(a===d&&1===this._li.getIntersectionNum()){if(Fo.isAdjacentSegments(l,g))return!0;if(a.isClosed()){var y=a.size()-1;if(0===l&&g===y||0===g&&l===y)return!0}}return!1},Fo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Fo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Fo.prototype.getLineIntersector=function(){return this._li},Fo.prototype.hasProperIntersection=function(){return this._hasProper},Fo.prototype.processIntersections=function(a,l,d,g){if(a===d&&l===g)return null;this.numTests++;var y=a.getCoordinates()[l],x=a.getCoordinates()[l+1],S=d.getCoordinates()[g],F=d.getCoordinates()[g+1];this._li.computeIntersection(y,x,S,F),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(a,l,d,g)||(this._hasIntersection=!0,a.addIntersections(this._li,l,0),d.addIntersections(this._li,g,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Fo.prototype.hasIntersection=function(){return this._hasIntersection},Fo.prototype.isDone=function(){return!1},Fo.prototype.hasInteriorIntersection=function(){return this._hasInterior},Fo.prototype.interfaces_=function(){return[ye]},Fo.prototype.getClass=function(){return Fo},Fo.isAdjacentSegments=function(a,l){return 1===Math.abs(a-l)};var fe=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var l=arguments[1],d=arguments[2];this.coord=new k(arguments[0]),this.segmentIndex=l,this.dist=d};fe.prototype.getSegmentIndex=function(){return this.segmentIndex},fe.prototype.getCoordinate=function(){return this.coord},fe.prototype.print=function(a){a.print(this.coord),a.print(" seg # = "+this.segmentIndex),a.println(" dist = "+this.dist)},fe.prototype.compareTo=function(a){return this.compare(a.segmentIndex,a.dist)},fe.prototype.isEndPoint=function(a){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===a},fe.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},fe.prototype.getDistance=function(){return this.dist},fe.prototype.compare=function(a,l){return this.segmentIndex<a?-1:this.segmentIndex>a?1:this.dist<l?-1:this.dist>l?1:0},fe.prototype.interfaces_=function(){return[G]},fe.prototype.getClass=function(){return fe};var ls=function(){this._nodeMap=new Ft,this.edge=null,this.edge=arguments[0]};ls.prototype.print=function(a){a.println("Intersections:");for(var l=this.iterator();l.hasNext();)l.next().print(a)},ls.prototype.iterator=function(){return this._nodeMap.values().iterator()},ls.prototype.addSplitEdges=function(a){this.addEndpoints();for(var l=this.iterator(),d=l.next();l.hasNext();){var g=l.next(),y=this.createSplitEdge(d,g);a.add(y),d=g}},ls.prototype.addEndpoints=function(){var a=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[a],a,0)},ls.prototype.createSplitEdge=function(a,l){var d=l.segmentIndex-a.segmentIndex+2,y=l.dist>0||!l.coord.equals2D(this.edge.pts[l.segmentIndex]);y||d--;var x=new Array(d).fill(null),S=0;x[S++]=new k(a.coord);for(var F=a.segmentIndex+1;F<=l.segmentIndex;F++)x[S++]=this.edge.pts[F];return y&&(x[S]=l.coord),new na(x,new Cn(this.edge._label))},ls.prototype.add=function(a,l,d){var g=new fe(a,l,d),y=this._nodeMap.get(g);return null!==y?y:(this._nodeMap.put(g,g),g)},ls.prototype.isIntersection=function(a){for(var l=this.iterator();l.hasNext();)if(l.next().coord.equals(a))return!0;return!1},ls.prototype.interfaces_=function(){return[]},ls.prototype.getClass=function(){return ls};var cs=function(){};cs.prototype.getChainStartIndices=function(a){var l=0,d=new ue;d.add(new gt(l));do{var g=this.findChainEnd(a,l);d.add(new gt(g)),l=g}while(l<a.length-1);return cs.toIntArray(d)},cs.prototype.findChainEnd=function(a,l){for(var d=fn.quadrant(a[l],a[l+1]),g=l+1;g<a.length&&fn.quadrant(a[g-1],a[g])===d;)g++;return g-1},cs.prototype.interfaces_=function(){return[]},cs.prototype.getClass=function(){return cs},cs.toIntArray=function(a){for(var l=new Array(a.size()).fill(null),d=0;d<l.length;d++)l[d]=a.get(d).intValue();return l};var $o=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new ne,this.env2=new ne;var a=arguments[0];this.e=a,this.pts=a.getCoordinates();var l=new cs;this.startIndex=l.getChainStartIndices(this.pts)};$o.prototype.getCoordinates=function(){return this.pts},$o.prototype.getMaxX=function(a){var l=this.pts[this.startIndex[a]].x,d=this.pts[this.startIndex[a+1]].x;return l>d?l:d},$o.prototype.getMinX=function(a){var l=this.pts[this.startIndex[a]].x,d=this.pts[this.startIndex[a+1]].x;return l<d?l:d},$o.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var a=arguments[0],l=arguments[1],d=arguments[2];this.computeIntersectsForChain(this.startIndex[a],this.startIndex[a+1],l,l.startIndex[d],l.startIndex[d+1],arguments[3])}else if(6===arguments.length){var y=arguments[0],x=arguments[1],S=arguments[2],F=arguments[3],st=arguments[4],Dt=arguments[5],Ht=this.pts[y],$t=this.pts[x],ge=S.pts[F],be=S.pts[st];if(x-y==1&&st-F==1)return Dt.addIntersections(this.e,y,S.e,F),null;if(this.env1.init(Ht,$t),this.env2.init(ge,be),!this.env1.intersects(this.env2))return null;var Oe=Math.trunc((y+x)/2),Xe=Math.trunc((F+st)/2);y<Oe&&(F<Xe&&this.computeIntersectsForChain(y,Oe,S,F,Xe,Dt),Xe<st&&this.computeIntersectsForChain(y,Oe,S,Xe,st,Dt)),Oe<x&&(F<Xe&&this.computeIntersectsForChain(Oe,x,S,F,Xe,Dt),Xe<st&&this.computeIntersectsForChain(Oe,x,S,Xe,st,Dt))}},$o.prototype.getStartIndexes=function(){return this.startIndex},$o.prototype.computeIntersects=function(a,l){for(var d=0;d<this.startIndex.length-1;d++)for(var g=0;g<a.startIndex.length-1;g++)this.computeIntersectsForChain(d,a,g,l)},$o.prototype.interfaces_=function(){return[]},$o.prototype.getClass=function(){return $o};var Ir=function a(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var l=0;l<2;l++)for(var d=0;d<3;d++)this._depth[l][d]=a.NULL_VALUE},qh={NULL_VALUE:{configurable:!0}};Ir.prototype.getDepth=function(a,l){return this._depth[a][l]},Ir.prototype.setDepth=function(a,l,d){this._depth[a][l]=d},Ir.prototype.isNull=function(){if(0===arguments.length){for(var a=0;a<2;a++)for(var l=0;l<3;l++)if(this._depth[a][l]!==Ir.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Ir.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Ir.NULL_VALUE:void 0},Ir.prototype.normalize=function(){for(var a=0;a<2;a++)if(!this.isNull(a)){var l=this._depth[a][1];this._depth[a][2]<l&&(l=this._depth[a][2]),l<0&&(l=0);for(var d=1;d<3;d++){var g=0;this._depth[a][d]>l&&(g=1),this._depth[a][d]=g}}},Ir.prototype.getDelta=function(a){return this._depth[a][Zt.RIGHT]-this._depth[a][Zt.LEFT]},Ir.prototype.getLocation=function(a,l){return this._depth[a][l]<=0?K.EXTERIOR:K.INTERIOR},Ir.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Ir.prototype.add=function(){if(1===arguments.length)for(var a=arguments[0],l=0;l<2;l++)for(var d=1;d<3;d++){var g=a.getLocation(l,d);g!==K.EXTERIOR&&g!==K.INTERIOR||(this.isNull(l,d)?this._depth[l][d]=Ir.depthAtLocation(g):this._depth[l][d]+=Ir.depthAtLocation(g))}else 3===arguments.length&&arguments[2]===K.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.depthAtLocation=function(a){return a===K.EXTERIOR?0:a===K.INTERIOR?1:Ir.NULL_VALUE},qh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Ir,qh);var na=function(a){function l(){if(a.call(this),this.pts=null,this._env=null,this.eiList=new ls(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Ir,this._depthDelta=0,1===arguments.length)l.call(this,arguments[0],null);else if(2===arguments.length){var y=arguments[1];this.pts=arguments[0],this._label=y}}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.getDepth=function(){return this._depth},l.prototype.getCollapsedEdge=function(){var d=new Array(2).fill(null);return d[0]=this.pts[0],d[1]=this.pts[1],new l(d,Cn.toLineLabel(this._label))},l.prototype.isIsolated=function(){return this._isIsolated},l.prototype.getCoordinates=function(){return this.pts},l.prototype.setIsolated=function(d){this._isIsolated=d},l.prototype.setName=function(d){this._name=d},l.prototype.equals=function(d){if(!(d instanceof l))return!1;var g=d;if(this.pts.length!==g.pts.length)return!1;for(var y=!0,x=!0,S=this.pts.length,F=0;F<this.pts.length;F++)if(this.pts[F].equals2D(g.pts[F])||(y=!1),this.pts[F].equals2D(g.pts[--S])||(x=!1),!y&&!x)return!1;return!0},l.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},l.prototype.print=function(d){d.print("edge "+this._name+": "),d.print("LINESTRING (");for(var g=0;g<this.pts.length;g++)g>0&&d.print(","),d.print(this.pts[g].x+" "+this.pts[g].y);d.print(")  "+this._label+" "+this._depthDelta)},l.prototype.computeIM=function(d){l.updateIM(this._label,d)},l.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},l.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},l.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},l.prototype.getDepthDelta=function(){return this._depthDelta},l.prototype.getNumPoints=function(){return this.pts.length},l.prototype.printReverse=function(d){d.print("edge "+this._name+": ");for(var g=this.pts.length-1;g>=0;g--)d.print(this.pts[g]+" ");d.println("")},l.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $o(this)),this._mce},l.prototype.getEnvelope=function(){if(null===this._env){this._env=new ne;for(var d=0;d<this.pts.length;d++)this._env.expandToInclude(this.pts[d])}return this._env},l.prototype.addIntersection=function(d,g,y,x){var S=new k(d.getIntersection(x)),F=g,st=d.getEdgeDistance(y,x),Dt=F+1;Dt<this.pts.length&&S.equals2D(this.pts[Dt])&&(F=Dt,st=0),this.eiList.add(S,F,st)},l.prototype.toString=function(){var d=new at;d.append("edge "+this._name+": "),d.append("LINESTRING (");for(var g=0;g<this.pts.length;g++)g>0&&d.append(","),d.append(this.pts[g].x+" "+this.pts[g].y);return d.append(")  "+this._label+" "+this._depthDelta),d.toString()},l.prototype.isPointwiseEqual=function(d){if(this.pts.length!==d.pts.length)return!1;for(var g=0;g<this.pts.length;g++)if(!this.pts[g].equals2D(d.pts[g]))return!1;return!0},l.prototype.setDepthDelta=function(d){this._depthDelta=d},l.prototype.getEdgeIntersectionList=function(){return this.eiList},l.prototype.addIntersections=function(d,g,y){for(var x=0;x<d.getIntersectionNum();x++)this.addIntersection(d,g,y,x)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.updateIM=function(){if(2!==arguments.length)return a.prototype.updateIM.apply(this,arguments);var d=arguments[0],g=arguments[1];g.setAtLeastIfValid(d.getLocation(0,Zt.ON),d.getLocation(1,Zt.ON),1),d.isArea()&&(g.setAtLeastIfValid(d.getLocation(0,Zt.LEFT),d.getLocation(1,Zt.LEFT),2),g.setAtLeastIfValid(d.getLocation(0,Zt.RIGHT),d.getLocation(1,Zt.RIGHT),2))},l}(Ke),Ri=function(a){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new xs,this._bufParams=a||null};Ri.prototype.setWorkingPrecisionModel=function(a){this._workingPrecisionModel=a},Ri.prototype.insertUniqueEdge=function(a){var l=this._edgeList.findEqualEdge(a);if(null!==l){var d=l.getLabel(),g=a.getLabel();l.isPointwiseEqual(a)||(g=new Cn(a.getLabel())).flip(),d.merge(g);var y=Ri.depthDelta(g),x=l.getDepthDelta()+y;l.setDepthDelta(x)}else this._edgeList.add(a),a.setDepthDelta(Ri.depthDelta(a.getLabel()))},Ri.prototype.buildSubgraphs=function(a,l){for(var d=new ue,g=a.iterator();g.hasNext();){var y=g.next(),x=y.getRightmostCoordinate(),S=new So(d).getDepth(x);y.computeDepth(S),y.findResultEdges(),d.add(y),l.add(y.getDirectedEdges(),y.getNodes())}},Ri.prototype.createSubgraphs=function(a){for(var l=new ue,d=a.getNodes().iterator();d.hasNext();){var g=d.next();if(!g.isVisited()){var y=new zr;y.create(g),l.add(y)}}return $e.sort(l,$e.reverseOrder()),l},Ri.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Ri.prototype.getNoder=function(a){if(null!==this._workingNoder)return this._workingNoder;var l=new ji,d=new kt;return d.setPrecisionModel(a),l.setSegmentIntersector(new Fo(d)),l},Ri.prototype.buffer=function(a,l){var d=this._workingPrecisionModel;null===d&&(d=a.getPrecisionModel()),this._geomFact=a.getFactory();var g=new Qr(d,this._bufParams),y=new uo(a,l,g).getCurves();if(y.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(y,d),this._graph=new zi(new Vs),this._graph.addEdges(this._edgeList.getEdges());var x=this.createSubgraphs(this._graph),S=new oo(this._geomFact);this.buildSubgraphs(x,S);var F=S.getPolygons();return F.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(F)},Ri.prototype.computeNodedEdges=function(a,l){var d=this.getNoder(l);d.computeNodes(a);for(var g=d.getNodedSubstrings().iterator();g.hasNext();){var y=g.next(),x=y.getCoordinates();if(2!==x.length||!x[0].equals2D(x[1])){var S=y.getData(),F=new na(y.getCoordinates(),new Cn(S));this.insertUniqueEdge(F)}}},Ri.prototype.setNoder=function(a){this._workingNoder=a},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Ri.depthDelta=function(a){var l=a.getLocation(0,Zt.LEFT),d=a.getLocation(0,Zt.RIGHT);return l===K.INTERIOR&&d===K.EXTERIOR?1:l===K.EXTERIOR&&d===K.INTERIOR?-1:0},Ri.convertSegStrings=function(a){for(var l=new Ve,d=new ue;a.hasNext();){var g=a.next(),y=l.createLineString(g.getCoordinates());d.add(y)}return l.buildGeometry(d)};var zs=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var l=arguments[1];this._noder=arguments[0],this._scaleFactor=l,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var g=arguments[1],y=arguments[2],x=arguments[3];this._noder=arguments[0],this._scaleFactor=g,this._offsetX=y,this._offsetY=x,this._isScaled=!this.isIntegerPrecision()}};zs.prototype.rescale=function(){if(Lt(arguments[0],Ti))for(var a=arguments[0].iterator();a.hasNext();){var l=a.next();this.rescale(l.getCoordinates())}else if(arguments[0]instanceof Array){for(var d=arguments[0],g=0;g<d.length;g++)d[g].x=d[g].x/this._scaleFactor+this._offsetX,d[g].y=d[g].y/this._scaleFactor+this._offsetY;2===d.length&&d[0].equals2D(d[1])&&jt.out.println(d)}},zs.prototype.scale=function(){if(Lt(arguments[0],Ti)){for(var a=arguments[0],l=new ue,d=a.iterator();d.hasNext();){var g=d.next();l.add(new tr(this.scale(g.getCoordinates()),g.getData()))}return l}if(arguments[0]instanceof Array){for(var y=arguments[0],x=new Array(y.length).fill(null),S=0;S<y.length;S++)x[S]=new k(Math.round((y[S].x-this._offsetX)*this._scaleFactor),Math.round((y[S].y-this._offsetY)*this._scaleFactor),y[S].z);return sn.removeRepeatedPoints(x)}},zs.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},zs.prototype.getNodedSubstrings=function(){var a=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(a),a},zs.prototype.computeNodes=function(a){var l=a;this._isScaled&&(l=this.scale(a)),this._noder.computeNodes(l)},zs.prototype.interfaces_=function(){return[va]},zs.prototype.getClass=function(){return zs};var yr=function(){this._li=new kt,this._segStrings=null,this._segStrings=arguments[0]},ia={fact:{configurable:!0}};yr.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var l=a.next().getCoordinates();this.checkEndPtVertexIntersections(l[0],this._segStrings),this.checkEndPtVertexIntersections(l[l.length-1],this._segStrings)}else if(2===arguments.length)for(var d=arguments[0],g=arguments[1].iterator();g.hasNext();)for(var y=g.next().getCoordinates(),x=1;x<y.length-1;x++)if(y[x].equals(d))throw new O("found endpt/interior pt intersection at index "+x+" :pt "+d)},yr.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();)for(var l=a.next(),d=this._segStrings.iterator();d.hasNext();){var g=d.next();this.checkInteriorIntersections(l,g)}else if(2===arguments.length)for(var y=arguments[0],x=arguments[1],S=y.getCoordinates(),F=x.getCoordinates(),st=0;st<S.length-1;st++)for(var Dt=0;Dt<F.length-1;Dt++)this.checkInteriorIntersections(y,st,x,Dt);else if(4===arguments.length){var Ht=arguments[0],$t=arguments[1],ge=arguments[2],be=arguments[3];if(Ht===ge&&$t===be)return null;var Oe=Ht.getCoordinates()[$t],Xe=Ht.getCoordinates()[$t+1],Ci=ge.getCoordinates()[be],Yr=ge.getCoordinates()[be+1];if(this._li.computeIntersection(Oe,Xe,Ci,Yr),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Oe,Xe)||this.hasInteriorIntersection(this._li,Ci,Yr)))throw new O("found non-noded intersection at "+Oe+"-"+Xe+" and "+Ci+"-"+Yr)}},yr.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},yr.prototype.checkCollapses=function(){if(0===arguments.length)for(var a=this._segStrings.iterator();a.hasNext();){var l=a.next();this.checkCollapses(l)}else if(1===arguments.length)for(var d=arguments[0].getCoordinates(),g=0;g<d.length-2;g++)this.checkCollapse(d[g],d[g+1],d[g+2])},yr.prototype.hasInteriorIntersection=function(a,l,d){for(var g=0;g<a.getIntersectionNum();g++){var y=a.getIntersection(g);if(!y.equals(l)&&!y.equals(d))return!0}return!1},yr.prototype.checkCollapse=function(a,l,d){if(a.equals(d))throw new O("found non-noded collapse at "+yr.fact.createLineString([a,l,d]))},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},ia.fact.get=function(){return new Ve},Object.defineProperties(yr,ia);var Je=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var a=arguments[0],l=arguments[1],d=arguments[2];if(this._originalPt=a,this._pt=a,this._scaleFactor=l,this._li=d,l<=0)throw new Y("Scale factor must be non-zero");1!==l&&(this._pt=new k(this.scale(a.x),this.scale(a.y)),this._p0Scaled=new k,this._p1Scaled=new k),this.initCorners(this._pt)},Al={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Je.prototype.intersectsScaled=function(a,l){var d=Math.min(a.x,l.x),g=Math.max(a.x,l.x),y=Math.min(a.y,l.y),x=Math.max(a.y,l.y),S=this._maxx<d||this._minx>g||this._maxy<y||this._miny>x;if(S)return!1;var F=this.intersectsToleranceSquare(a,l);return R.isTrue(!(S&&F),"Found bad envelope test"),F},Je.prototype.initCorners=function(a){this._minx=a.x-.5,this._maxx=a.x+.5,this._miny=a.y-.5,this._maxy=a.y+.5,this._corner[0]=new k(this._maxx,this._maxy),this._corner[1]=new k(this._minx,this._maxy),this._corner[2]=new k(this._minx,this._miny),this._corner[3]=new k(this._maxx,this._miny)},Je.prototype.intersects=function(a,l){return 1===this._scaleFactor?this.intersectsScaled(a,l):(this.copyScaled(a,this._p0Scaled),this.copyScaled(l,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Je.prototype.scale=function(a){return Math.round(a*this._scaleFactor)},Je.prototype.getCoordinate=function(){return this._originalPt},Je.prototype.copyScaled=function(a,l){l.x=this.scale(a.x),l.y=this.scale(a.y)},Je.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var a=Je.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ne(this._originalPt.x-a,this._originalPt.x+a,this._originalPt.y-a,this._originalPt.y+a)}return this._safeEnv},Je.prototype.intersectsPixelClosure=function(a,l){return this._li.computeIntersection(a,l,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(a,l,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(a,l,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(a,l,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Je.prototype.intersectsToleranceSquare=function(a,l){var d=!1,g=!1;return this._li.computeIntersection(a,l,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(a,l,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(d=!0),this._li.computeIntersection(a,l,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(g=!0),this._li.computeIntersection(a,l,this._corner[3],this._corner[0]),this._li.isProper()||d&&g||a.equals(this._pt)||l.equals(this._pt)))))},Je.prototype.addSnappedNode=function(a,l){var d=a.getCoordinate(l),g=a.getCoordinate(l+1);return!!this.intersects(d,g)&&(a.addIntersection(this.getCoordinate(),l),!0)},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je},Al.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Je,Al);var js=function(){this.tempEnv1=new ne,this.selectedSegment=new Te};js.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js};var hu=function(){this._index=null,this._index=arguments[0]},ra={HotPixelSnapAction:{configurable:!0}};hu.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var l=arguments[0],d=arguments[1],g=arguments[2],y=l.getSafeEnvelope(),x=new Es(l,d,g);return this._index.query(y,{interfaces_:function(){return[Va]},visitItem:function(S){S.select(y,x)}}),x.isNodeAdded()}},hu.prototype.interfaces_=function(){return[]},hu.prototype.getClass=function(){return hu},ra.HotPixelSnapAction.get=function(){return Es},Object.defineProperties(hu,ra);var Es=function(a){function l(){a.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var g=arguments[1],y=arguments[2];this._hotPixel=arguments[0],this._parentEdge=g,this._hotPixelVertexIndex=y}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.isNodeAdded=function(){return this._isNodeAdded},l.prototype.select=function(){if(2!==arguments.length)return a.prototype.select.apply(this,arguments);var g=arguments[1],y=arguments[0].getContext();if(null!==this._parentEdge&&y===this._parentEdge&&g===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(y,g)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(js),Hs=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new ue};Hs.prototype.processIntersections=function(a,l,d,g){if(a===d&&l===g)return null;var y=a.getCoordinates()[l],x=a.getCoordinates()[l+1],S=d.getCoordinates()[g],F=d.getCoordinates()[g+1];if(this._li.computeIntersection(y,x,S,F),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var st=0;st<this._li.getIntersectionNum();st++)this._interiorIntersections.add(this._li.getIntersection(st));a.addIntersections(this._li,l,0),d.addIntersections(this._li,g,1)}},Hs.prototype.isDone=function(){return!1},Hs.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Hs.prototype.interfaces_=function(){return[ye]},Hs.prototype.getClass=function(){return Hs};var hs=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var a=arguments[0];this._pm=a,this._li=new kt,this._li.setPrecisionModel(a),this._scaleFactor=a.getScale()};hs.prototype.checkCorrectness=function(a){var l=tr.getNodedSubstrings(a),d=new yr(l);try{d.checkValid()}catch(g){if(!(g instanceof Wt))throw g;g.printStackTrace()}},hs.prototype.getNodedSubstrings=function(){return tr.getNodedSubstrings(this._nodedSegStrings)},hs.prototype.snapRound=function(a,l){var d=this.findInteriorIntersections(a,l);this.computeIntersectionSnaps(d),this.computeVertexSnaps(a)},hs.prototype.findInteriorIntersections=function(a,l){var d=new Hs(l);return this._noder.setSegmentIntersector(d),this._noder.computeNodes(a),d.getInteriorIntersections()},hs.prototype.computeVertexSnaps=function(){if(Lt(arguments[0],Ti))for(var a=arguments[0].iterator();a.hasNext();){var l=a.next();this.computeVertexSnaps(l)}else if(arguments[0]instanceof tr)for(var d=arguments[0],g=d.getCoordinates(),y=0;y<g.length;y++){var x=new Je(g[y],this._scaleFactor,this._li);this._pointSnapper.snap(x,d,y)&&d.addIntersection(g[y],y)}},hs.prototype.computeNodes=function(a){this._nodedSegStrings=a,this._noder=new ji,this._pointSnapper=new hu(this._noder.getIndex()),this.snapRound(a,this._li)},hs.prototype.computeIntersectionSnaps=function(a){for(var l=a.iterator();l.hasNext();){var d=l.next(),g=new Je(d,this._scaleFactor,this._li);this._pointSnapper.snap(g)}},hs.prototype.interfaces_=function(){return[va]},hs.prototype.getClass=function(){return hs};var br=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Bn,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var d=arguments[1];this._argGeom=arguments[0],this._bufParams=d}},ya={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};br.prototype.bufferFixedPrecision=function(a){var l=new zs(new hs(new _e(1)),a.getScale()),d=new Ri(this._bufParams);d.setWorkingPrecisionModel(a),d.setNoder(l),this._resultGeometry=d.buffer(this._argGeom,this._distance)},br.prototype.bufferReducedPrecision=function(){var a=this;if(0===arguments.length){for(var l=br.MAX_PRECISION_DIGITS;l>=0;l--){try{a.bufferReducedPrecision(l)}catch(x){if(!(x instanceof as))throw x;a._saveException=x}if(null!==a._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var g=br.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),y=new _e(g);this.bufferFixedPrecision(y)}},br.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var a=this._argGeom.getFactory().getPrecisionModel();a.getType()===_e.FIXED?this.bufferFixedPrecision(a):this.bufferReducedPrecision()},br.prototype.setQuadrantSegments=function(a){this._bufParams.setQuadrantSegments(a)},br.prototype.bufferOriginalPrecision=function(){try{var a=new Ri(this._bufParams);this._resultGeometry=a.buffer(this._argGeom,this._distance)}catch(l){if(!(l instanceof O))throw l;this._saveException=l}},br.prototype.getResultGeometry=function(a){return this._distance=a,this.computeGeometry(),this._resultGeometry},br.prototype.setEndCapStyle=function(a){this._bufParams.setEndCapStyle(a)},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br},br.bufferOp=function(){if(2===arguments.length){var l=arguments[1];return new br(arguments[0]).getResultGeometry(l)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof he&&"number"==typeof arguments[1]){var g=arguments[1],y=arguments[2],x=new br(arguments[0]);return x.setQuadrantSegments(y),x.getResultGeometry(g)}if(arguments[2]instanceof Bn&&arguments[0]instanceof he&&"number"==typeof arguments[1]){var F=arguments[1];return new br(arguments[0],arguments[2]).getResultGeometry(F)}}else if(4===arguments.length){var Ht=arguments[1],$t=arguments[2],ge=arguments[3],be=new br(arguments[0]);return be.setQuadrantSegments($t),be.setEndCapStyle(ge),be.getResultGeometry(Ht)}},br.precisionScaleFactor=function(a,l,d){var g=a.getEnvelopeInternal(),y=lt.max(Math.abs(g.getMaxX()),Math.abs(g.getMaxY()),Math.abs(g.getMinX()),Math.abs(g.getMinY()))+2*(l>0?l:0),x=d-Math.trunc(Math.log(y)/Math.log(10)+1);return Math.pow(10,x)},ya.CAP_ROUND.get=function(){return Bn.CAP_ROUND},ya.CAP_BUTT.get=function(){return Bn.CAP_FLAT},ya.CAP_FLAT.get=function(){return Bn.CAP_FLAT},ya.CAP_SQUARE.get=function(){return Bn.CAP_SQUARE},ya.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(br,ya);var Rr=function(){this._pt=[new k,new k],this._distance=j.NaN,this._isNull=!0};Rr.prototype.getCoordinates=function(){return this._pt},Rr.prototype.getCoordinate=function(a){return this._pt[a]},Rr.prototype.setMinimum=function(){if(1===arguments.length){var a=arguments[0];this.setMinimum(a._pt[0],a._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var g=l.distance(d);g<this._distance&&this.initialize(l,d,g)}},Rr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var a=arguments[0],l=arguments[1];this._pt[0].setCoordinate(a),this._pt[1].setCoordinate(l),this._distance=a.distance(l),this._isNull=!1}else if(3===arguments.length){var g=arguments[1],y=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(g),this._distance=y,this._isNull=!1}},Rr.prototype.getDistance=function(){return this._distance},Rr.prototype.setMaximum=function(){if(1===arguments.length){var a=arguments[0];this.setMaximum(a._pt[0],a._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var g=l.distance(d);g>this._distance&&this.initialize(l,d,g)}},Rr.prototype.interfaces_=function(){return[]},Rr.prototype.getClass=function(){return Rr};var Mo=function(){};Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo},Mo.computeDistance=function(){if(arguments[2]instanceof Rr&&arguments[0]instanceof ur&&arguments[1]instanceof k)for(var l=arguments[1],d=arguments[2],g=arguments[0].getCoordinates(),y=new Te,x=0;x<g.length-1;x++){y.setCoordinates(g[x],g[x+1]);var S=y.closestPoint(l);d.setMinimum(S,l)}else if(arguments[2]instanceof Rr&&arguments[0]instanceof Qi&&arguments[1]instanceof k){var F=arguments[0],st=arguments[1],Dt=arguments[2];Mo.computeDistance(F.getExteriorRing(),st,Dt);for(var Ht=0;Ht<F.getNumInteriorRing();Ht++)Mo.computeDistance(F.getInteriorRingN(Ht),st,Dt)}else if(arguments[2]instanceof Rr&&arguments[0]instanceof he&&arguments[1]instanceof k){var $t=arguments[0],ge=arguments[1],be=arguments[2];if($t instanceof ur)Mo.computeDistance($t,ge,be);else if($t instanceof Qi)Mo.computeDistance($t,ge,be);else if($t instanceof Sr)for(var Oe=$t,Xe=0;Xe<Oe.getNumGeometries();Xe++){var Ci=Oe.getGeometryN(Xe);Mo.computeDistance(Ci,ge,be)}else be.setMinimum($t.getCoordinate(),ge)}else if(arguments[2]instanceof Rr&&arguments[0]instanceof Te&&arguments[1]instanceof k){var Jo=arguments[1],du=arguments[2],sl=arguments[0].closestPoint(Jo);du.setMinimum(sl,Jo)}};var qo=function(a){this._maxPtDist=new Rr,this._inputGeom=a||null},il={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};qo.prototype.computeMaxMidpointDistance=function(a){var l=new Ga(this._inputGeom);a.apply(l),this._maxPtDist.setMaximum(l.getMaxPointDistance())},qo.prototype.computeMaxVertexDistance=function(a){var l=new Ua(this._inputGeom);a.apply(l),this._maxPtDist.setMaximum(l.getMaxPointDistance())},qo.prototype.findDistance=function(a){return this.computeMaxVertexDistance(a),this.computeMaxMidpointDistance(a),this._maxPtDist.getDistance()},qo.prototype.getDistancePoints=function(){return this._maxPtDist},qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},il.MaxPointDistanceFilter.get=function(){return Ua},il.MaxMidpointDistanceFilter.get=function(){return Ga},Object.defineProperties(qo,il);var Ua=function(a){this._maxPtDist=new Rr,this._minPtDist=new Rr,this._geom=a||null};Ua.prototype.filter=function(a){this._minPtDist.initialize(),Mo.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ua.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ua.prototype.interfaces_=function(){return[qe]},Ua.prototype.getClass=function(){return Ua};var Ga=function(a){this._maxPtDist=new Rr,this._minPtDist=new Rr,this._geom=a||null};Ga.prototype.filter=function(a,l){if(0===l)return null;var d=a.getCoordinate(l-1),g=a.getCoordinate(l),y=new k((d.x+g.x)/2,(d.y+g.y)/2);this._minPtDist.initialize(),Mo.computeDistance(this._geom,y,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ga.prototype.isDone=function(){return!1},Ga.prototype.isGeometryChanged=function(){return!1},Ga.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ga.prototype.interfaces_=function(){return[jo]},Ga.prototype.getClass=function(){return Ga};var fs=function(a){this._comps=a||null};fs.prototype.filter=function(a){a instanceof Qi&&this._comps.add(a)},fs.prototype.interfaces_=function(){return[os]},fs.prototype.getClass=function(){return fs},fs.getPolygons=function(){if(1===arguments.length)return fs.getPolygons(arguments[0],new ue);if(2===arguments.length){var l=arguments[0],d=arguments[1];return l instanceof Qi?d.add(l):l instanceof Sr&&l.apply(new fs(d)),d}};var to=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var d=arguments[1];this._lines=arguments[0],this._isForcedToLineString=d}};to.prototype.filter=function(a){if(this._isForcedToLineString&&a instanceof Qs){var l=a.getFactory().createLineString(a.getCoordinateSequence());return this._lines.add(l),null}a instanceof ur&&this._lines.add(a)},to.prototype.setForceToLineString=function(a){this._isForcedToLineString=a},to.prototype.interfaces_=function(){return[nn]},to.prototype.getClass=function(){return to},to.getGeometry=function(){if(1===arguments.length){var a=arguments[0];return a.getFactory().buildGeometry(to.getLines(a))}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l.getFactory().buildGeometry(to.getLines(l,d))}},to.getLines=function(){if(1===arguments.length)return to.getLines(arguments[0],!1);if(2===arguments.length){if(Lt(arguments[0],Ti)&&Lt(arguments[1],Ti)){for(var d=arguments[1],g=arguments[0].iterator();g.hasNext();){var y=g.next();to.getLines(y,d)}return d}if(arguments[0]instanceof he&&"boolean"==typeof arguments[1]){var x=arguments[0],S=arguments[1],F=new ue;return x.apply(new to(F,S)),F}if(arguments[0]instanceof he&&Lt(arguments[1],Ti)){var st=arguments[0],Dt=arguments[1];return st instanceof ur?Dt.add(st):st.apply(new to(Dt)),Dt}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Lt(arguments[0],Ti)&&Lt(arguments[1],Ti)){for(var $t=arguments[1],ge=arguments[2],be=arguments[0].iterator();be.hasNext();){var Oe=be.next();to.getLines(Oe,$t,ge)}return $t}if("boolean"==typeof arguments[2]&&arguments[0]instanceof he&&Lt(arguments[1],Ti)){var Ci=arguments[1];return arguments[0].apply(new to(Ci,arguments[2])),Ci}}};var ds=function(){if(this._boundaryRule=dn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var a=arguments[0];if(null===a)throw new Y("Rule must be non-null");this._boundaryRule=a}};ds.prototype.locateInternal=function(){if(arguments[0]instanceof k&&arguments[1]instanceof Qi){var a=arguments[0],l=arguments[1];if(l.isEmpty())return K.EXTERIOR;var d=l.getExteriorRing(),g=this.locateInPolygonRing(a,d);if(g===K.EXTERIOR)return K.EXTERIOR;if(g===K.BOUNDARY)return K.BOUNDARY;for(var y=0;y<l.getNumInteriorRing();y++){var x=l.getInteriorRingN(y),S=this.locateInPolygonRing(a,x);if(S===K.INTERIOR)return K.EXTERIOR;if(S===K.BOUNDARY)return K.BOUNDARY}return K.INTERIOR}if(arguments[0]instanceof k&&arguments[1]instanceof ur){var F=arguments[0],st=arguments[1];if(!st.getEnvelopeInternal().intersects(F))return K.EXTERIOR;var Dt=st.getCoordinates();return st.isClosed()||!F.equals(Dt[0])&&!F.equals(Dt[Dt.length-1])?Ut.isOnLine(F,Dt)?K.INTERIOR:K.EXTERIOR:K.BOUNDARY}if(arguments[0]instanceof k&&arguments[1]instanceof Do){var Ht=arguments[0];return arguments[1].getCoordinate().equals2D(Ht)?K.INTERIOR:K.EXTERIOR}},ds.prototype.locateInPolygonRing=function(a,l){return l.getEnvelopeInternal().intersects(a)?Ut.locatePointInRing(a,l.getCoordinates()):K.EXTERIOR},ds.prototype.intersects=function(a,l){return this.locate(a,l)!==K.EXTERIOR},ds.prototype.updateLocationInfo=function(a){a===K.INTERIOR&&(this._isIn=!0),a===K.BOUNDARY&&this._numBoundaries++},ds.prototype.computeLocation=function(a,l){if(l instanceof Do&&this.updateLocationInfo(this.locateInternal(a,l)),l instanceof ur)this.updateLocationInfo(this.locateInternal(a,l));else if(l instanceof Qi)this.updateLocationInfo(this.locateInternal(a,l));else if(l instanceof ka)for(var d=l,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);this.updateLocationInfo(this.locateInternal(a,y))}else if(l instanceof ss)for(var x=l,S=0;S<x.getNumGeometries();S++){var F=x.getGeometryN(S);this.updateLocationInfo(this.locateInternal(a,F))}else if(l instanceof Sr)for(var st=new ea(l);st.hasNext();){var Dt=st.next();Dt!==l&&this.computeLocation(a,Dt)}},ds.prototype.locate=function(a,l){return l.isEmpty()?K.EXTERIOR:l instanceof ur||l instanceof Qi?this.locateInternal(a,l):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(a,l),this._boundaryRule.isInBoundary(this._numBoundaries)?K.BOUNDARY:this._numBoundaries>0||this._isIn?K.INTERIOR:K.EXTERIOR)},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var Ui=function a(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)a.call(this,arguments[0],a.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var y=arguments[1],x=arguments[2];this._component=arguments[0],this._segIndex=y,this._pt=x}},Yc={INSIDE_AREA:{configurable:!0}};Ui.prototype.isInsideArea=function(){return this._segIndex===Ui.INSIDE_AREA},Ui.prototype.getCoordinate=function(){return this._pt},Ui.prototype.getGeometryComponent=function(){return this._component},Ui.prototype.getSegmentIndex=function(){return this._segIndex},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},Yc.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ui,Yc);var ba=function(a){this._pts=a||null};ba.prototype.filter=function(a){a instanceof Do&&this._pts.add(a)},ba.prototype.interfaces_=function(){return[os]},ba.prototype.getClass=function(){return ba},ba.getPoints=function(){if(1===arguments.length){var a=arguments[0];return a instanceof Do?$e.singletonList(a):ba.getPoints(a,new ue)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l instanceof Do?d.add(l):l instanceof Sr&&l.apply(new ba(d)),d}};var Bo=function(){this._locations=null,this._locations=arguments[0]};Bo.prototype.filter=function(a){(a instanceof Do||a instanceof ur||a instanceof Qi)&&this._locations.add(new Ui(a,0,a.getCoordinate()))},Bo.prototype.interfaces_=function(){return[os]},Bo.prototype.getClass=function(){return Bo},Bo.getLocations=function(a){var l=new ue;return a.apply(new Bo(l)),l};var Tr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new ds,this._minDistanceLocation=null,this._minDistance=j.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=d,this._geom[1]=g,this._terminateDistance=y}};Tr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var a=new Array(2).fill(null);if(this.computeContainmentDistance(0,a),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,a)}else if(2===arguments.length){var l=arguments[0],d=arguments[1],g=1-l,y=fs.getPolygons(this._geom[l]);if(y.size()>0){var x=Bo.getLocations(this._geom[g]);if(this.computeContainmentDistance(x,y,d),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[g]=d[0],this._minDistanceLocation[l]=d[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Lt(arguments[0],Or)&&Lt(arguments[1],Or)){for(var S=arguments[0],F=arguments[1],st=arguments[2],Dt=0;Dt<S.size();Dt++)for(var Ht=S.get(Dt),$t=0;$t<F.size();$t++)if(this.computeContainmentDistance(Ht,F.get($t),st),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ui&&arguments[1]instanceof Qi){var ge=arguments[0],be=arguments[1],Oe=arguments[2],Xe=ge.getCoordinate();if(K.EXTERIOR!==this._ptLocator.locate(Xe,be))return this._minDistance=0,Oe[0]=ge,Oe[1]=new Ui(be,Xe),null}},Tr.prototype.computeMinDistanceLinesPoints=function(a,l,d){for(var g=0;g<a.size();g++)for(var y=a.get(g),x=0;x<l.size();x++){var S=l.get(x);if(this.computeMinDistance(y,S,d),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.computeFacetDistance=function(){var a=new Array(2).fill(null),l=to.getLines(this._geom[0]),d=to.getLines(this._geom[1]),g=ba.getPoints(this._geom[0]),y=ba.getPoints(this._geom[1]);return this.computeMinDistanceLines(l,d,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(l,y,a),this.updateMinDistance(a,!1),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistanceLinesPoints(d,g,a),this.updateMinDistance(a,!0),this._minDistance<=this._terminateDistance?null:(a[0]=null,a[1]=null,this.computeMinDistancePoints(g,y,a),void this.updateMinDistance(a,!1))))},Tr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Tr.prototype.updateMinDistance=function(a,l){if(null===a[0])return null;l?(this._minDistanceLocation[0]=a[1],this._minDistanceLocation[1]=a[0]):(this._minDistanceLocation[0]=a[0],this._minDistanceLocation[1]=a[1])},Tr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Tr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof ur&&arguments[1]instanceof Do){var a=arguments[0],l=arguments[1],d=arguments[2];if(a.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var g=a.getCoordinates(),y=l.getCoordinate(),x=0;x<g.length-1;x++){var S=Ut.distancePointLine(y,g[x],g[x+1]);if(S<this._minDistance){this._minDistance=S;var F=new Te(g[x],g[x+1]).closestPoint(y);d[0]=new Ui(a,x,F),d[1]=new Ui(l,0,y)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ur&&arguments[1]instanceof ur){var st=arguments[0],Dt=arguments[1],Ht=arguments[2];if(st.getEnvelopeInternal().distance(Dt.getEnvelopeInternal())>this._minDistance)return null;for(var $t=st.getCoordinates(),ge=Dt.getCoordinates(),be=0;be<$t.length-1;be++)for(var Oe=0;Oe<ge.length-1;Oe++){var Xe=Ut.distanceLineLine($t[be],$t[be+1],ge[Oe],ge[Oe+1]);if(Xe<this._minDistance){this._minDistance=Xe;var Ci=new Te($t[be],$t[be+1]),Yr=new Te(ge[Oe],ge[Oe+1]),Jo=Ci.closestPoints(Yr);Ht[0]=new Ui(st,be,Jo[0]),Ht[1]=new Ui(Dt,Oe,Jo[1])}if(this._minDistance<=this._terminateDistance)return null}}},Tr.prototype.computeMinDistancePoints=function(a,l,d){for(var g=0;g<a.size();g++)for(var y=a.get(g),x=0;x<l.size();x++){var S=l.get(x),F=y.getCoordinate().distance(S.getCoordinate());if(F<this._minDistance&&(this._minDistance=F,d[0]=new Ui(y,0,y.getCoordinate()),d[1]=new Ui(S,0,S.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Y("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Tr.prototype.computeMinDistanceLines=function(a,l,d){for(var g=0;g<a.size();g++)for(var y=a.get(g),x=0;x<l.size();x++){var S=l.get(x);if(this.computeMinDistance(y,S,d),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.distance=function(a,l){return new Tr(a,l).distance()},Tr.isWithinDistance=function(a,l,d){return new Tr(a,l,d).distance()<=d},Tr.nearestPoints=function(a,l){return new Tr(a,l).nearestPoints()};var lo=function(){this._pt=[new k,new k],this._distance=j.NaN,this._isNull=!0};lo.prototype.getCoordinates=function(){return this._pt},lo.prototype.getCoordinate=function(a){return this._pt[a]},lo.prototype.setMinimum=function(){if(1===arguments.length){var a=arguments[0];this.setMinimum(a._pt[0],a._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var g=l.distance(d);g<this._distance&&this.initialize(l,d,g)}},lo.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var a=arguments[0],l=arguments[1];this._pt[0].setCoordinate(a),this._pt[1].setCoordinate(l),this._distance=a.distance(l),this._isNull=!1}else if(3===arguments.length){var g=arguments[1],y=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(g),this._distance=y,this._isNull=!1}},lo.prototype.toString=function(){return X.toLineString(this._pt[0],this._pt[1])},lo.prototype.getDistance=function(){return this._distance},lo.prototype.setMaximum=function(){if(1===arguments.length){var a=arguments[0];this.setMaximum(a._pt[0],a._pt[1])}else if(2===arguments.length){var l=arguments[0],d=arguments[1];if(this._isNull)return this.initialize(l,d),null;var g=l.distance(d);g>this._distance&&this.initialize(l,d,g)}},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo};var Wo=function(){};Wo.prototype.interfaces_=function(){return[]},Wo.prototype.getClass=function(){return Wo},Wo.computeDistance=function(){if(arguments[2]instanceof lo&&arguments[0]instanceof ur&&arguments[1]instanceof k)for(var a=arguments[0],l=arguments[1],d=arguments[2],g=new Te,y=a.getCoordinates(),x=0;x<y.length-1;x++){g.setCoordinates(y[x],y[x+1]);var S=g.closestPoint(l);d.setMinimum(S,l)}else if(arguments[2]instanceof lo&&arguments[0]instanceof Qi&&arguments[1]instanceof k){var F=arguments[0],st=arguments[1],Dt=arguments[2];Wo.computeDistance(F.getExteriorRing(),st,Dt);for(var Ht=0;Ht<F.getNumInteriorRing();Ht++)Wo.computeDistance(F.getInteriorRingN(Ht),st,Dt)}else if(arguments[2]instanceof lo&&arguments[0]instanceof he&&arguments[1]instanceof k){var $t=arguments[0],ge=arguments[1],be=arguments[2];if($t instanceof ur)Wo.computeDistance($t,ge,be);else if($t instanceof Qi)Wo.computeDistance($t,ge,be);else if($t instanceof Sr)for(var Oe=$t,Xe=0;Xe<Oe.getNumGeometries();Xe++){var Ci=Oe.getGeometryN(Xe);Wo.computeDistance(Ci,ge,be)}else be.setMinimum($t.getCoordinate(),ge)}else if(arguments[2]instanceof lo&&arguments[0]instanceof Te&&arguments[1]instanceof k){var Jo=arguments[1],du=arguments[2],sl=arguments[0].closestPoint(Jo);du.setMinimum(sl,Jo)}};var Yo=function(){this._g0=null,this._g1=null,this._ptDist=new lo,this._densifyFrac=0;var l=arguments[1];this._g0=arguments[0],this._g1=l},fc={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Yo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Yo.prototype.setDensifyFraction=function(a){if(a>1||a<=0)throw new Y("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=a},Yo.prototype.compute=function(a,l){this.computeOrientedDistance(a,l,this._ptDist),this.computeOrientedDistance(l,a,this._ptDist)},Yo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Yo.prototype.computeOrientedDistance=function(a,l,d){var g=new Au(l);if(a.apply(g),d.setMaximum(g.getMaxPointDistance()),this._densifyFrac>0){var y=new Cs(l,this._densifyFrac);a.apply(y),d.setMaximum(y.getMaxPointDistance())}},Yo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Yo.prototype.interfaces_=function(){return[]},Yo.prototype.getClass=function(){return Yo},Yo.distance=function(){if(2===arguments.length)return new Yo(arguments[0],arguments[1]).distance();if(3===arguments.length){var y=arguments[2],x=new Yo(arguments[0],arguments[1]);return x.setDensifyFraction(y),x.distance()}},fc.MaxPointDistanceFilter.get=function(){return Au},fc.MaxDensifiedByFractionDistanceFilter.get=function(){return Cs},Object.defineProperties(Yo,fc);var Au=function(){this._maxPtDist=new lo,this._minPtDist=new lo,this._euclideanDist=new Wo,this._geom=null,this._geom=arguments[0]};Au.prototype.filter=function(a){this._minPtDist.initialize(),Wo.computeDistance(this._geom,a,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Au.prototype.getMaxPointDistance=function(){return this._maxPtDist},Au.prototype.interfaces_=function(){return[qe]},Au.prototype.getClass=function(){return Au};var Cs=function(){this._maxPtDist=new lo,this._minPtDist=new lo,this._geom=null,this._numSubSegs=0;var l=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/l))};Cs.prototype.filter=function(a,l){if(0===l)return null;for(var d=a.getCoordinate(l-1),g=a.getCoordinate(l),y=(g.x-d.x)/this._numSubSegs,x=(g.y-d.y)/this._numSubSegs,S=0;S<this._numSubSegs;S++){var Dt=new k(d.x+S*y,d.y+S*x);this._minPtDist.initialize(),Wo.computeDistance(this._geom,Dt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Cs.prototype.isDone=function(){return!1},Cs.prototype.isGeometryChanged=function(){return!1},Cs.prototype.getMaxPointDistance=function(){return this._maxPtDist},Cs.prototype.interfaces_=function(){return[jo]},Cs.prototype.getClass=function(){return Cs};var Gi=function(a,l,d){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=a||null,this._bufDistance=l||null,this._result=d||null},fu={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Gi.prototype.checkMaximumDistance=function(a,l,d){var g=new Yo(l,a);if(g.setDensifyFraction(.25),this._maxDistanceFound=g.orientedDistance(),this._maxDistanceFound>d){this._isValid=!1;var y=g.getCoordinates();this._errorLocation=y[1],this._errorIndicator=a.getFactory().createLineString(y),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+X.toLineString(y[0],y[1])+")"}},Gi.prototype.isValid=function(){var a=Math.abs(this._bufDistance),l=Gi.MAX_DISTANCE_DIFF_FRAC*a;return this._minValidDistance=a-l,this._maxValidDistance=a+l,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Gi.VERBOSE&&jt.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Gi.prototype.checkNegativeValid=function(){if(!(this._input instanceof Qi||this._input instanceof ss||this._input instanceof Sr))return null;var a=this.getPolygonLines(this._input);if(this.checkMinimumDistance(a,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(a,this._result,this._maxValidDistance)},Gi.prototype.getErrorIndicator=function(){return this._errorIndicator},Gi.prototype.checkMinimumDistance=function(a,l,d){var g=new Tr(a,l,d);if(this._minDistanceFound=g.distance(),this._minDistanceFound<d){this._isValid=!1;var y=g.nearestPoints();this._errorLocation=g.nearestPoints()[1],this._errorIndicator=a.getFactory().createLineString(y),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+X.toLineString(y[0],y[1])+" )"}},Gi.prototype.checkPositiveValid=function(){var a=this._result.getBoundary();if(this.checkMinimumDistance(this._input,a,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,a,this._maxValidDistance)},Gi.prototype.getErrorLocation=function(){return this._errorLocation},Gi.prototype.getPolygonLines=function(a){for(var l=new ue,d=new to(l),g=fs.getPolygons(a).iterator();g.hasNext();)g.next().apply(d);return a.getFactory().buildGeometry(l)},Gi.prototype.getErrorMessage=function(){return this._errMsg},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},fu.VERBOSE.get=function(){return!1},fu.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Gi,fu);var $r=function(a,l,d){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=a||null,this._distance=l||null,this._result=d||null},dc={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};$r.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},$r.prototype.checkEnvelope=function(){if(this._distance<0)return null;var a=this._distance*$r.MAX_ENV_DIFF_FRAC;0===a&&(a=.001);var l=new ne(this._input.getEnvelopeInternal());l.expandBy(this._distance);var d=new ne(this._result.getEnvelopeInternal());d.expandBy(a),d.contains(l)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(d)),this.report("Envelope")},$r.prototype.checkDistance=function(){var a=new Gi(this._input,this._distance,this._result);a.isValid()||(this._isValid=!1,this._errorMsg=a.getErrorMessage(),this._errorLocation=a.getErrorLocation(),this._errorIndicator=a.getErrorIndicator()),this.report("Distance")},$r.prototype.checkArea=function(){var a=this._input.getArea(),l=this._result.getArea();this._distance>0&&a>l&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&a<l&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},$r.prototype.checkPolygonal=function(){this._result instanceof Qi||this._result instanceof ss||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},$r.prototype.getErrorIndicator=function(){return this._errorIndicator},$r.prototype.getErrorLocation=function(){return this._errorLocation},$r.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},$r.prototype.report=function(a){if(!$r.VERBOSE)return null;jt.out.println("Check "+a+": "+(this._isValid?"passed":"FAILED"))},$r.prototype.getErrorMessage=function(){return this._errorMsg},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.isValidMsg=function(a,l,d){var g=new $r(a,l,d);return g.isValid()?null:g.getErrorMessage()},$r.isValid=function(a,l,d){return!!new $r(a,l,d).isValid()},dc.VERBOSE.get=function(){return!1},dc.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties($r,dc);var Dn=function(){this._pts=null,this._data=null;var l=arguments[1];this._pts=arguments[0],this._data=l};Dn.prototype.getCoordinates=function(){return this._pts},Dn.prototype.size=function(){return this._pts.length},Dn.prototype.getCoordinate=function(a){return this._pts[a]},Dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Dn.prototype.getSegmentOctant=function(a){return a===this._pts.length-1?-1:_a.octant(this.getCoordinate(a),this.getCoordinate(a+1))},Dn.prototype.setData=function(a){this._data=a},Dn.prototype.getData=function(){return this._data},Dn.prototype.toString=function(){return X.toLineString(new ln(this._pts))},Dn.prototype.interfaces_=function(){return[us]},Dn.prototype.getClass=function(){return Dn};var Li=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new ue,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};Li.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Li.prototype.setCheckEndSegmentsOnly=function(a){this._isCheckEndSegmentsOnly=a},Li.prototype.getIntersectionSegments=function(){return this._intSegments},Li.prototype.count=function(){return this._intersectionCount},Li.prototype.getIntersections=function(){return this._intersections},Li.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a},Li.prototype.setKeepIntersections=function(a){this._keepIntersections=a},Li.prototype.processIntersections=function(a,l,d,g){if(!this._findAllIntersections&&this.hasIntersection()||a===d&&l===g||this._isCheckEndSegmentsOnly&&!this.isEndSegment(a,l)&&!this.isEndSegment(d,g))return null;var y=a.getCoordinates()[l],x=a.getCoordinates()[l+1],S=d.getCoordinates()[g],F=d.getCoordinates()[g+1];this._li.computeIntersection(y,x,S,F),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=y,this._intSegments[1]=x,this._intSegments[2]=S,this._intSegments[3]=F,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Li.prototype.isEndSegment=function(a,l){return 0===l||l>=a.size()-2},Li.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Li.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Li.prototype.interfaces_=function(){return[ye]},Li.prototype.getClass=function(){return Li},Li.createAllIntersectionsFinder=function(a){var l=new Li(a);return l.setFindAllIntersections(!0),l},Li.createAnyIntersectionFinder=function(a){return new Li(a)},Li.createIntersectionCounter=function(a){var l=new Li(a);return l.setFindAllIntersections(!0),l.setKeepIntersections(!1),l};var Zo=function(){this._li=new kt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};Zo.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Zo.prototype.getIntersections=function(){return this._segInt.getIntersections()},Zo.prototype.isValid=function(){return this.execute(),this._isValid},Zo.prototype.setFindAllIntersections=function(a){this._findAllIntersections=a},Zo.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Li(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var a=new ji;if(a.setSegmentIntersector(this._segInt),a.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Zo.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new as(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Zo.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var a=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+X.toLineString(a[0],a[1])+" and "+X.toLineString(a[2],a[3])},Zo.prototype.interfaces_=function(){return[]},Zo.prototype.getClass=function(){return Zo},Zo.computeIntersections=function(a){var l=new Zo(a);return l.setFindAllIntersections(!0),l.isValid(),l.getIntersections()};var pe=function a(){this._nv=null,this._nv=new Zo(a.toSegmentStrings(arguments[0]))};pe.prototype.checkValid=function(){this._nv.checkValid()},pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},pe.toSegmentStrings=function(a){for(var l=new ue,d=a.iterator();d.hasNext();){var g=d.next();l.add(new Dn(g.getCoordinates(),g))}return l},pe.checkValid=function(a){new pe(a).checkValid()};var wr=function(a){this._mapOp=a};wr.prototype.map=function(a){for(var l=new ue,d=0;d<a.getNumGeometries();d++){var g=this._mapOp.map(a.getGeometryN(d));g.isEmpty()||l.add(g)}return a.getFactory().createGeometryCollection(Ve.toGeometryArray(l))},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr},wr.map=function(a,l){return new wr(l).map(a)};var pn=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new ue,this._resultLineList=new ue;var l=arguments[1],d=arguments[2];this._op=arguments[0],this._geometryFactory=l,this._ptLocator=d};pn.prototype.collectLines=function(a){for(var l=this._op.getGraph().getEdgeEnds().iterator();l.hasNext();){var d=l.next();this.collectLineEdge(d,a,this._lineEdgesList),this.collectBoundaryTouchEdge(d,a,this._lineEdgesList)}},pn.prototype.labelIsolatedLine=function(a,l){var d=this._ptLocator.locate(a.getCoordinate(),this._op.getArgGeometry(l));a.getLabel().setLocation(l,d)},pn.prototype.build=function(a){return this.findCoveredLineEdges(),this.collectLines(a),this.buildLines(a),this._resultLineList},pn.prototype.collectLineEdge=function(a,l,d){var g=a.getLabel(),y=a.getEdge();a.isLineEdge()&&(a.isVisited()||!Qe.isResultOfOp(g,l)||y.isCovered()||(d.add(y),a.setVisitedEdge(!0)))},pn.prototype.findCoveredLineEdges=function(){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();)a.next().getEdges().findCoveredLineEdges();for(var l=this._op.getGraph().getEdgeEnds().iterator();l.hasNext();){var d=l.next(),g=d.getEdge();if(d.isLineEdge()&&!g.isCoveredSet()){var y=this._op.isCoveredByA(d.getCoordinate());g.setCovered(y)}}},pn.prototype.labelIsolatedLines=function(a){for(var l=a.iterator();l.hasNext();){var d=l.next(),g=d.getLabel();d.isIsolated()&&(g.isNull(0)?this.labelIsolatedLine(d,0):this.labelIsolatedLine(d,1))}},pn.prototype.buildLines=function(a){for(var l=this._lineEdgesList.iterator();l.hasNext();){var d=l.next(),g=this._geometryFactory.createLineString(d.getCoordinates());this._resultLineList.add(g),d.setInResult(!0)}},pn.prototype.collectBoundaryTouchEdge=function(a,l,d){var g=a.getLabel();return a.isLineEdge()||a.isVisited()||a.isInteriorAreaEdge()||a.getEdge().isInResult()?null:(R.isTrue(!(a.isInResult()||a.getSym().isInResult())||!a.getEdge().isInResult()),void(Qe.isResultOfOp(g,l)&&l===Qe.INTERSECTION&&(d.add(a.getEdge()),a.setVisitedEdge(!0))))},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn};var nr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new ue;var l=arguments[1];this._op=arguments[0],this._geometryFactory=l};nr.prototype.filterCoveredNodeToPoint=function(a){var l=a.getCoordinate();if(!this._op.isCoveredByLA(l)){var d=this._geometryFactory.createPoint(l);this._resultPointList.add(d)}},nr.prototype.extractNonCoveredResultNodes=function(a){for(var l=this._op.getGraph().getNodes().iterator();l.hasNext();){var d=l.next();if(!(d.isInResult()||d.isIncidentEdgeInResult()||0!==d.getEdges().getDegree()&&a!==Qe.INTERSECTION)){var g=d.getLabel();Qe.isResultOfOp(g,a)&&this.filterCoveredNodeToPoint(d)}}},nr.prototype.build=function(a){return this.extractNonCoveredResultNodes(a),this._resultPointList},nr.prototype.interfaces_=function(){return[]},nr.prototype.getClass=function(){return nr};var jn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};jn.prototype.transformPoint=function(a,l){return this._factory.createPoint(this.transformCoordinates(a.getCoordinateSequence(),a))},jn.prototype.transformPolygon=function(a,l){var d=!0,g=this.transformLinearRing(a.getExteriorRing(),a);null!==g&&g instanceof Qs&&!g.isEmpty()||(d=!1);for(var y=new ue,x=0;x<a.getNumInteriorRing();x++){var S=this.transformLinearRing(a.getInteriorRingN(x),a);null===S||S.isEmpty()||(S instanceof Qs||(d=!1),y.add(S))}if(d)return this._factory.createPolygon(g,y.toArray([]));var F=new ue;return null!==g&&F.add(g),F.addAll(y),this._factory.buildGeometry(F)},jn.prototype.createCoordinateSequence=function(a){return this._factory.getCoordinateSequenceFactory().create(a)},jn.prototype.getInputGeometry=function(){return this._inputGeom},jn.prototype.transformMultiLineString=function(a,l){for(var d=new ue,g=0;g<a.getNumGeometries();g++){var y=this.transformLineString(a.getGeometryN(g),a);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},jn.prototype.transformCoordinates=function(a,l){return this.copy(a)},jn.prototype.transformLineString=function(a,l){return this._factory.createLineString(this.transformCoordinates(a.getCoordinateSequence(),a))},jn.prototype.transformMultiPoint=function(a,l){for(var d=new ue,g=0;g<a.getNumGeometries();g++){var y=this.transformPoint(a.getGeometryN(g),a);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},jn.prototype.transformMultiPolygon=function(a,l){for(var d=new ue,g=0;g<a.getNumGeometries();g++){var y=this.transformPolygon(a.getGeometryN(g),a);null!==y&&(y.isEmpty()||d.add(y))}return this._factory.buildGeometry(d)},jn.prototype.copy=function(a){return a.copy()},jn.prototype.transformGeometryCollection=function(a,l){for(var d=new ue,g=0;g<a.getNumGeometries();g++){var y=this.transform(a.getGeometryN(g));null!==y&&(this._pruneEmptyGeometry&&y.isEmpty()||d.add(y))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ve.toGeometryArray(d)):this._factory.buildGeometry(d)},jn.prototype.transform=function(a){if(this._inputGeom=a,this._factory=a.getFactory(),a instanceof Do)return this.transformPoint(a,null);if(a instanceof ga)return this.transformMultiPoint(a,null);if(a instanceof Qs)return this.transformLinearRing(a,null);if(a instanceof ur)return this.transformLineString(a,null);if(a instanceof ka)return this.transformMultiLineString(a,null);if(a instanceof Qi)return this.transformPolygon(a,null);if(a instanceof ss)return this.transformMultiPolygon(a,null);if(a instanceof Sr)return this.transformGeometryCollection(a,null);throw new Y("Unknown Geometry subtype: "+a.getClass().getName())},jn.prototype.transformLinearRing=function(a,l){var d=this.transformCoordinates(a.getCoordinateSequence(),a);if(null===d)return this._factory.createLinearRing(null);var g=d.size();return g>0&&g<4&&!this._preserveType?this._factory.createLineString(d):this._factory.createLinearRing(d)},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var Io=function a(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Te,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ur&&"number"==typeof arguments[1]){var d=arguments[1];a.call(this,arguments[0].getCoordinates(),d)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var g=arguments[0],y=arguments[1];this._srcPts=g,this._isClosed=a.isClosed(g),this._snapTolerance=y}};Io.prototype.snapVertices=function(a,l){for(var d=this._isClosed?a.size()-1:a.size(),g=0;g<d;g++){var y=a.get(g),x=this.findSnapForVertex(y,l);null!==x&&(a.set(g,new k(x)),0===g&&this._isClosed&&a.set(a.size()-1,new k(x)))}},Io.prototype.findSnapForVertex=function(a,l){for(var d=0;d<l.length;d++){if(a.equals2D(l[d]))return null;if(a.distance(l[d])<this._snapTolerance)return l[d]}return null},Io.prototype.snapTo=function(a){var l=new ks(this._srcPts);return this.snapVertices(l,a),this.snapSegments(l,a),l.toCoordinateArray()},Io.prototype.snapSegments=function(a,l){if(0===l.length)return null;var d=l.length;l[0].equals2D(l[l.length-1])&&(d=l.length-1);for(var g=0;g<d;g++){var y=l[g],x=this.findSegmentIndexToSnap(y,a);x>=0&&a.add(x+1,new k(y),!1)}},Io.prototype.findSegmentIndexToSnap=function(a,l){for(var d=j.MAX_VALUE,g=-1,y=0;y<l.size()-1;y++){if(this._seg.p0=l.get(y),this._seg.p1=l.get(y+1),this._seg.p0.equals2D(a)||this._seg.p1.equals2D(a)){if(this._allowSnappingToSourceVertices)continue;return-1}var x=this._seg.distance(a);x<this._snapTolerance&&x<d&&(d=x,g=y)}return g},Io.prototype.setAllowSnappingToSourceVertices=function(a){this._allowSnappingToSourceVertices=a},Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io},Io.isClosed=function(a){return!(a.length<=1)&&a[0].equals2D(a[a.length-1])};var An=function(a){this._srcGeom=a||null},Zc={SNAP_PRECISION_FACTOR:{configurable:!0}};An.prototype.snapTo=function(a,l){var d=this.extractTargetCoordinates(a);return new pc(l,d).transform(this._srcGeom)},An.prototype.snapToSelf=function(a,l){var d=this.extractTargetCoordinates(this._srcGeom),g=new pc(a,d,!0).transform(this._srcGeom),y=g;return l&&Lt(y,Ks)&&(y=g.buffer(0)),y},An.prototype.computeSnapTolerance=function(a){return this.computeMinimumSegmentLength(a)/10},An.prototype.extractTargetCoordinates=function(a){for(var l=new Rt,d=a.getCoordinates(),g=0;g<d.length;g++)l.add(d[g]);return l.toArray(new Array(0).fill(null))},An.prototype.computeMinimumSegmentLength=function(a){for(var l=j.MAX_VALUE,d=0;d<a.length-1;d++){var g=a[d].distance(a[d+1]);g<l&&(l=g)}return l},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},An.snap=function(a,l,d){var g=new Array(2).fill(null),y=new An(a);g[0]=y.snapTo(l,d);var x=new An(l);return g[1]=x.snapTo(g[0],d),g},An.computeOverlaySnapTolerance=function(){if(1===arguments.length){var a=arguments[0],l=An.computeSizeBasedSnapTolerance(a),d=a.getPrecisionModel();if(d.getType()===_e.FIXED){var g=1/d.getScale()*2/1.415;g>l&&(l=g)}return l}if(2===arguments.length){var x=arguments[1];return Math.min(An.computeOverlaySnapTolerance(arguments[0]),An.computeOverlaySnapTolerance(x))}},An.computeSizeBasedSnapTolerance=function(a){var l=a.getEnvelopeInternal();return Math.min(l.getHeight(),l.getWidth())*An.SNAP_PRECISION_FACTOR},An.snapToSelf=function(a,l,d){return new An(a).snapToSelf(l,d)},Zc.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(An,Zc);var pc=function(a){function l(d,g,y){a.call(this),this._snapTolerance=d||null,this._snapPts=g||null,this._isSelfSnap=void 0!==y&&y}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.snapLine=function(d,g){var y=new Io(d,this._snapTolerance);return y.setAllowSnappingToSourceVertices(this._isSelfSnap),y.snapTo(g)},l.prototype.transformCoordinates=function(d,g){var y=d.toCoordinateArray(),x=this.snapLine(y,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(x)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(jn),Lr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Lr.prototype.getCommon=function(){return j.longBitsToDouble(this._commonBits)},Lr.prototype.add=function(a){var l=j.doubleToLongBits(a);return this._isFirst?(this._commonBits=l,this._commonSignExp=Lr.signExpBits(this._commonBits),this._isFirst=!1,null):Lr.signExpBits(l)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Lr.numCommonMostSigMantissaBits(this._commonBits,l),void(this._commonBits=Lr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Lr.prototype.toString=function(){if(1===arguments.length){var a=arguments[0],l=j.longBitsToDouble(a),d="0000000000000000000000000000000000000000000000000000000000000000"+j.toBinaryString(a),g=d.substring(d.length-64);return g.substring(0,1)+"  "+g.substring(1,12)+"(exp) "+g.substring(12)+" [ "+l+" ]"}},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.getBit=function(a,l){return a&1<<l?1:0},Lr.signExpBits=function(a){return a>>52},Lr.zeroLowerBits=function(a,l){return a&~((1<<l)-1)},Lr.numCommonMostSigMantissaBits=function(a,l){for(var d=0,g=52;g>=0;g--){if(Lr.getBit(a,g)!==Lr.getBit(l,g))return d;d++}return 52};var wa=function(){this._commonCoord=null,this._ccFilter=new ki},gc={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};wa.prototype.addCommonBits=function(a){var l=new xe(this._commonCoord);a.apply(l),a.geometryChanged()},wa.prototype.removeCommonBits=function(a){if(0===this._commonCoord.x&&0===this._commonCoord.y)return a;var l=new k(this._commonCoord);l.x=-l.x,l.y=-l.y;var d=new xe(l);return a.apply(d),a.geometryChanged(),a},wa.prototype.getCommonCoordinate=function(){return this._commonCoord},wa.prototype.add=function(a){a.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},wa.prototype.interfaces_=function(){return[]},wa.prototype.getClass=function(){return wa},gc.CommonCoordinateFilter.get=function(){return ki},gc.Translater.get=function(){return xe},Object.defineProperties(wa,gc);var ki=function(){this._commonBitsX=new Lr,this._commonBitsY=new Lr};ki.prototype.filter=function(a){this._commonBitsX.add(a.x),this._commonBitsY.add(a.y)},ki.prototype.getCommonCoordinate=function(){return new k(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ki.prototype.interfaces_=function(){return[qe]},ki.prototype.getClass=function(){return ki};var xe=function(){this.trans=null,this.trans=arguments[0]};xe.prototype.filter=function(a,l){var d=a.getOrdinate(l,0)+this.trans.x,g=a.getOrdinate(l,1)+this.trans.y;a.setOrdinate(l,0,d),a.setOrdinate(l,1,g)},xe.prototype.isDone=function(){return!1},xe.prototype.isGeometryChanged=function(){return!0},xe.prototype.interfaces_=function(){return[jo]},xe.prototype.getClass=function(){return xe};var ze=function(a,l){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=a,this._geom[1]=l,this.computeSnapTolerance()};ze.prototype.selfSnap=function(a){return new An(a).snapTo(a,this._snapTolerance)},ze.prototype.removeCommonBits=function(a){this._cbr=new wa,this._cbr.add(a[0]),this._cbr.add(a[1]);var l=new Array(2).fill(null);return l[0]=this._cbr.removeCommonBits(a[0].copy()),l[1]=this._cbr.removeCommonBits(a[1].copy()),l},ze.prototype.prepareResult=function(a){return this._cbr.addCommonBits(a),a},ze.prototype.getResultGeometry=function(a){var l=this.snap(this._geom),d=Qe.overlayOp(l[0],l[1],a);return this.prepareResult(d)},ze.prototype.checkValid=function(a){a.isValid()||jt.out.println("Snapped geometry is invalid")},ze.prototype.computeSnapTolerance=function(){this._snapTolerance=An.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ze.prototype.snap=function(a){var l=this.removeCommonBits(a);return An.snap(l[0],l[1],this._snapTolerance)},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze},ze.overlayOp=function(a,l,d){return new ze(a,l).getResultGeometry(d)},ze.union=function(a,l){return ze.overlayOp(a,l,Qe.UNION)},ze.intersection=function(a,l){return ze.overlayOp(a,l,Qe.INTERSECTION)},ze.symDifference=function(a,l){return ze.overlayOp(a,l,Qe.SYMDIFFERENCE)},ze.difference=function(a,l){return ze.overlayOp(a,l,Qe.DIFFERENCE)};var wn=function(a,l){this._geom=new Array(2).fill(null),this._geom[0]=a,this._geom[1]=l};wn.prototype.getResultGeometry=function(a){var l=null,d=!1,g=null;try{l=Qe.overlayOp(this._geom[0],this._geom[1],a),d=!0}catch(y){if(!(y instanceof O))throw y;g=y}if(!d)try{l=ze.overlayOp(this._geom[0],this._geom[1],a)}catch(y){throw y instanceof O?g:y}return l},wn.prototype.interfaces_=function(){return[]},wn.prototype.getClass=function(){return wn},wn.overlayOp=function(a,l,d){return new wn(a,l).getResultGeometry(d)},wn.union=function(a,l){return wn.overlayOp(a,l,Qe.UNION)},wn.intersection=function(a,l){return wn.overlayOp(a,l,Qe.INTERSECTION)},wn.symDifference=function(a,l){return wn.overlayOp(a,l,Qe.SYMDIFFERENCE)},wn.difference=function(a,l){return wn.overlayOp(a,l,Qe.DIFFERENCE)};var Xo=function(){this.mce=null,this.chainIndex=null;var l=arguments[1];this.mce=arguments[0],this.chainIndex=l};Xo.prototype.computeIntersections=function(a,l){this.mce.computeIntersectsForChain(this.chainIndex,a.mce,a.chainIndex,l)},Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo};var f=function a(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var l=arguments[0],d=arguments[1];this._eventType=a.DELETE,this._xValue=l,this._insertEvent=d}else if(3===arguments.length){var g=arguments[0],y=arguments[1],x=arguments[2];this._eventType=a.INSERT,this._label=g,this._xValue=y,this._obj=x}},_={INSERT:{configurable:!0},DELETE:{configurable:!0}};f.prototype.isDelete=function(){return this._eventType===f.DELETE},f.prototype.setDeleteEventIndex=function(a){this._deleteEventIndex=a},f.prototype.getObject=function(){return this._obj},f.prototype.compareTo=function(a){return this._xValue<a._xValue?-1:this._xValue>a._xValue?1:this._eventType<a._eventType?-1:this._eventType>a._eventType?1:0},f.prototype.getInsertEvent=function(){return this._insertEvent},f.prototype.isInsert=function(){return this._eventType===f.INSERT},f.prototype.isSameLabel=function(a){return null!==this._label&&this._label===a._label},f.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},f.prototype.interfaces_=function(){return[G]},f.prototype.getClass=function(){return f},_.INSERT.get=function(){return 1},_.DELETE.get=function(){return 2},Object.defineProperties(f,_);var w=function(){};w.prototype.interfaces_=function(){return[]},w.prototype.getClass=function(){return w};var C=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var l=arguments[1],d=arguments[2];this._li=arguments[0],this._includeProper=l,this._recordIsolated=d};C.prototype.isTrivialIntersection=function(a,l,d,g){if(a===d&&1===this._li.getIntersectionNum()){if(C.isAdjacentSegments(l,g))return!0;if(a.isClosed()){var y=a.getNumPoints()-1;if(0===l&&g===y||0===g&&l===y)return!0}}return!1},C.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},C.prototype.setIsDoneIfProperInt=function(a){this._isDoneWhenProperInt=a},C.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},C.prototype.isBoundaryPointInternal=function(a,l){for(var d=l.iterator();d.hasNext();){var g=d.next().getCoordinate();if(a.isIntersection(g))return!0}return!1},C.prototype.hasProperIntersection=function(){return this._hasProper},C.prototype.hasIntersection=function(){return this._hasIntersection},C.prototype.isDone=function(){return this._isDone},C.prototype.isBoundaryPoint=function(a,l){return!(null===l||!this.isBoundaryPointInternal(a,l[0])&&!this.isBoundaryPointInternal(a,l[1]))},C.prototype.setBoundaryNodes=function(a,l){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=a,this._bdyNodes[1]=l},C.prototype.addIntersections=function(a,l,d,g){if(a===d&&l===g)return null;this.numTests++;var y=a.getCoordinates()[l],x=a.getCoordinates()[l+1],S=d.getCoordinates()[g],F=d.getCoordinates()[g+1];this._li.computeIntersection(y,x,S,F),this._li.hasIntersection()&&(this._recordIsolated&&(a.setIsolated(!1),d.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(a,l,d,g)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(a.addIntersections(this._li,l,0),d.addIntersections(this._li,g,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},C.isAdjacentSegments=function(a,l){return 1===Math.abs(a-l)};var N=function(a){function l(){a.call(this),this.events=new ue,this.nOverlaps=null}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.prepareEvents=function(){$e.sort(this.events);for(var d=0;d<this.events.size();d++){var g=this.events.get(d);g.isDelete()&&g.getInsertEvent().setDeleteEventIndex(d)}},l.prototype.computeIntersections=function(){if(1===arguments.length){var d=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var g=0;g<this.events.size();g++){var y=this.events.get(g);if(y.isInsert()&&this.processOverlaps(g,y.getDeleteEventIndex(),y,d),d.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof C&&Lt(arguments[0],Or)&&Lt(arguments[1],Or)){var x=arguments[0],S=arguments[1],F=arguments[2];this.addEdges(x,x),this.addEdges(S,S),this.computeIntersections(F)}else if("boolean"==typeof arguments[2]&&Lt(arguments[0],Or)&&arguments[1]instanceof C){var st=arguments[0],Dt=arguments[1];arguments[2]?this.addEdges(st,null):this.addEdges(st),this.computeIntersections(Dt)}},l.prototype.addEdge=function(d,g){for(var y=d.getMonotoneChainEdge(),x=y.getStartIndexes(),S=0;S<x.length-1;S++){var F=new Xo(y,S),st=new f(g,y.getMinX(S),F);this.events.add(st),this.events.add(new f(y.getMaxX(S),st))}},l.prototype.processOverlaps=function(d,g,y,x){for(var S=y.getObject(),F=d;F<g;F++){var st=this.events.get(F);if(st.isInsert()){var Dt=st.getObject();y.isSameLabel(st)||(S.computeIntersections(Dt,x),this.nOverlaps++)}}},l.prototype.addEdges=function(){if(1===arguments.length)for(var d=arguments[0].iterator();d.hasNext();){var g=d.next();this.addEdge(g,g)}else if(2===arguments.length)for(var x=arguments[1],S=arguments[0].iterator();S.hasNext();){var F=S.next();this.addEdge(F,x)}},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(w),W=function(){this._min=j.POSITIVE_INFINITY,this._max=j.NEGATIVE_INFINITY},_t={NodeComparator:{configurable:!0}};W.prototype.getMin=function(){return this._min},W.prototype.intersects=function(a,l){return!(this._min>l||this._max<a)},W.prototype.getMax=function(){return this._max},W.prototype.toString=function(){return X.toLineString(new k(this._min,0),new k(this._max,0))},W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},_t.NodeComparator.get=function(){return zt},Object.defineProperties(W,_t);var zt=function(){};zt.prototype.compare=function(a,l){var y=(a._min+a._max)/2,x=(l._min+l._max)/2;return y<x?-1:y>x?1:0},zt.prototype.interfaces_=function(){return[et]},zt.prototype.getClass=function(){return zt};var Yt=function(a){function l(){a.call(this),this._item=null;var g=arguments[1],y=arguments[2];this._min=arguments[0],this._max=g,this._item=y}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.query=function(d,g,y){if(!this.intersects(d,g))return null;y.visitItem(this._item)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(W),se=function(a){function l(){a.call(this),this._node1=null,this._node2=null;var g=arguments[1];this._node1=arguments[0],this._node2=g,this.buildExtent(this._node1,this._node2)}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.buildExtent=function(d,g){this._min=Math.min(d._min,g._min),this._max=Math.max(d._max,g._max)},l.prototype.query=function(d,g,y){if(!this.intersects(d,g))return null;null!==this._node1&&this._node1.query(d,g,y),null!==this._node2&&this._node2.query(d,g,y)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(W),ce=function(){this._leaves=new ue,this._root=null,this._level=0};ce.prototype.buildTree=function(){$e.sort(this._leaves,new W.NodeComparator);for(var a=this._leaves,l=null,d=new ue;;){if(this.buildLevel(a,d),1===d.size())return d.get(0);l=a,a=d,d=l}},ce.prototype.insert=function(a,l,d){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Yt(a,l,d))},ce.prototype.query=function(a,l,d){this.init(),this._root.query(a,l,d)},ce.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},ce.prototype.printNode=function(a){jt.out.println(X.toLineString(new k(a._min,this._level),new k(a._max,this._level)))},ce.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},ce.prototype.buildLevel=function(a,l){this._level++,l.clear();for(var d=0;d<a.size();d+=2){var g=a.get(d);if(null===(d+1<a.size()?a.get(d):null))l.add(g);else{var y=new se(a.get(d),a.get(d+1));l.add(y)}}},ce.prototype.interfaces_=function(){return[]},ce.prototype.getClass=function(){return ce};var Ze=function(){this._items=new ue};Ze.prototype.visitItem=function(a){this._items.add(a)},Ze.prototype.getItems=function(){return this._items},Ze.prototype.interfaces_=function(){return[Va]},Ze.prototype.getClass=function(){return Ze};var cn=function(){this._index=null;var a=arguments[0];if(!Lt(a,Ks))throw new Y("Argument must be Polygonal");this._index=new eo(a)},ir={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};cn.prototype.locate=function(a){var l=new Xt(a),d=new Yi(l);return this._index.query(a.y,a.y,d),l.getLocation()},cn.prototype.interfaces_=function(){return[cu]},cn.prototype.getClass=function(){return cn},ir.SegmentVisitor.get=function(){return Yi},ir.IntervalIndexedGeometry.get=function(){return eo},Object.defineProperties(cn,ir);var Yi=function(){this._counter=null,this._counter=arguments[0]};Yi.prototype.visitItem=function(a){var l=a;this._counter.countSegment(l.getCoordinate(0),l.getCoordinate(1))},Yi.prototype.interfaces_=function(){return[Va]},Yi.prototype.getClass=function(){return Yi};var eo=function(){this._index=new ce,this.init(arguments[0])};eo.prototype.init=function(a){for(var l=to.getLines(a).iterator();l.hasNext();){var d=l.next().getCoordinates();this.addLine(d)}},eo.prototype.addLine=function(a){for(var l=1;l<a.length;l++){var d=new Te(a[l-1],a[l]),g=Math.min(d.p0.y,d.p1.y),y=Math.max(d.p0.y,d.p1.y);this._index.insert(g,y,d)}},eo.prototype.query=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1],d=new Ze;return this._index.query(a,l,d),d.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},eo.prototype.interfaces_=function(){return[]},eo.prototype.getClass=function(){return eo};var cr=function(a){function l(){if(a.call(this),this._parentGeom=null,this._lineEdgeMap=new Nl,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new ds,2===arguments.length){var g=arguments[1],y=dn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=g,this._boundaryNodeRule=y,null!==g&&this.add(g)}else if(3===arguments.length){var S=arguments[1],F=arguments[2];this._argIndex=arguments[0],this._parentGeom=S,this._boundaryNodeRule=F,null!==S&&this.add(S)}}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.insertBoundaryPoint=function(d,g){var y=this._nodes.addNode(g).getLabel(),x=1;y.getLocation(d,Zt.ON)===K.BOUNDARY&&x++;var S=l.determineBoundary(this._boundaryNodeRule,x);y.setLocation(d,S)},l.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var x=arguments[1],S=arguments[2],F=new C(arguments[0],!0,!1);return F.setIsDoneIfProperInt(S),this.createEdgeSetIntersector().computeIntersections(this._edges,F,x||!(this._parentGeom instanceof Qs||this._parentGeom instanceof Qi||this._parentGeom instanceof ss)),this.addSelfIntersectionNodes(this._argIndex),F}},l.prototype.computeSplitEdges=function(d){for(var g=this._edges.iterator();g.hasNext();)g.next().eiList.addSplitEdges(d)},l.prototype.computeEdgeIntersections=function(d,g,y){var x=new C(g,y,!0);return x.setBoundaryNodes(this.getBoundaryNodes(),d.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,d._edges,x),x},l.prototype.getGeometry=function(){return this._parentGeom},l.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},l.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},l.prototype.addPoint=function(){if(arguments[0]instanceof Do){var d=arguments[0].getCoordinate();this.insertPoint(this._argIndex,d,K.INTERIOR)}else arguments[0]instanceof k&&this.insertPoint(this._argIndex,arguments[0],K.INTERIOR)},l.prototype.addPolygon=function(d){this.addPolygonRing(d.getExteriorRing(),K.EXTERIOR,K.INTERIOR);for(var g=0;g<d.getNumInteriorRing();g++){var y=d.getInteriorRingN(g);this.addPolygonRing(y,K.INTERIOR,K.EXTERIOR)}},l.prototype.addEdge=function(d){this.insertEdge(d);var g=d.getCoordinates();this.insertPoint(this._argIndex,g[0],K.BOUNDARY),this.insertPoint(this._argIndex,g[g.length-1],K.BOUNDARY)},l.prototype.addLineString=function(d){var g=sn.removeRepeatedPoints(d.getCoordinates());if(g.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=g[0],null;var y=new na(g,new Cn(this._argIndex,K.INTERIOR));this._lineEdgeMap.put(d,y),this.insertEdge(y),R.isTrue(g.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,g[0]),this.insertBoundaryPoint(this._argIndex,g[g.length-1])},l.prototype.getInvalidPoint=function(){return this._invalidPoint},l.prototype.getBoundaryPoints=function(){for(var d=this.getBoundaryNodes(),g=new Array(d.size()).fill(null),y=0,x=d.iterator();x.hasNext();){var S=x.next();g[y++]=S.getCoordinate().copy()}return g},l.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},l.prototype.addSelfIntersectionNode=function(d,g,y){if(this.isBoundaryNode(d,g))return null;y===K.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(d,g):this.insertPoint(d,g,y)},l.prototype.addPolygonRing=function(d,g,y){if(d.isEmpty())return null;var x=sn.removeRepeatedPoints(d.getCoordinates());if(x.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=x[0],null;var S=g,F=y;Ut.isCCW(x)&&(S=y,F=g);var st=new na(x,new Cn(this._argIndex,K.BOUNDARY,S,F));this._lineEdgeMap.put(d,st),this.insertEdge(st),this.insertPoint(this._argIndex,x[0],K.BOUNDARY)},l.prototype.insertPoint=function(d,g,y){var x=this._nodes.addNode(g),S=x.getLabel();null===S?x._label=new Cn(d,y):S.setLocation(d,y)},l.prototype.createEdgeSetIntersector=function(){return new N},l.prototype.addSelfIntersectionNodes=function(d){for(var g=this._edges.iterator();g.hasNext();)for(var y=g.next(),x=y.getLabel().getLocation(d),S=y.eiList.iterator();S.hasNext();){var F=S.next();this.addSelfIntersectionNode(d,F.coord,x)}},l.prototype.add=function(){if(1!==arguments.length)return a.prototype.add.apply(this,arguments);var d=arguments[0];if(d.isEmpty())return null;if(d instanceof ss&&(this._useBoundaryDeterminationRule=!1),d instanceof Qi)this.addPolygon(d);else if(d instanceof ur)this.addLineString(d);else if(d instanceof Do)this.addPoint(d);else if(d instanceof ga)this.addCollection(d);else if(d instanceof ka)this.addCollection(d);else if(d instanceof ss)this.addCollection(d);else{if(!(d instanceof Sr))throw new Error(d.getClass().getName());this.addCollection(d)}},l.prototype.addCollection=function(d){for(var g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);this.add(y)}},l.prototype.locate=function(d){return Lt(this._parentGeom,Ks)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new cn(this._parentGeom)),this._areaPtLocator.locate(d)):this._ptLocator.locate(d,this._parentGeom)},l.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):a.prototype.findEdge.apply(this,arguments)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l.determineBoundary=function(d,g){return d.isInBoundary(g)?K.BOUNDARY:K.INTERIOR},l}(zi),co=function(){if(this._li=new kt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var a=arguments[0];this.setComputationPrecision(a.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new cr(0,a)}else if(2===arguments.length){var l=arguments[0],d=arguments[1],g=dn.OGC_SFS_BOUNDARY_RULE;l.getPrecisionModel().compareTo(d.getPrecisionModel())>=0?this.setComputationPrecision(l.getPrecisionModel()):this.setComputationPrecision(d.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new cr(0,l,g),this._arg[1]=new cr(1,d,g)}else if(3===arguments.length){var y=arguments[0],x=arguments[1],S=arguments[2];y.getPrecisionModel().compareTo(x.getPrecisionModel())>=0?this.setComputationPrecision(y.getPrecisionModel()):this.setComputationPrecision(x.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new cr(0,y,S),this._arg[1]=new cr(1,x,S)}};co.prototype.getArgGeometry=function(a){return this._arg[a].getGeometry()},co.prototype.setComputationPrecision=function(a){this._resultPrecisionModel=a,this._li.setPrecisionModel(this._resultPrecisionModel)},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var Us=function(){};Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us},Us.map=function(){if(arguments[0]instanceof he&&Lt(arguments[1],Us.MapOp)){for(var a=arguments[0],l=arguments[1],d=new ue,g=0;g<a.getNumGeometries();g++){var y=l.map(a.getGeometryN(g));null!==y&&d.add(y)}return a.getFactory().buildGeometry(d)}if(Lt(arguments[0],Ti)&&Lt(arguments[1],Us.MapOp)){for(var x=arguments[0],S=arguments[1],F=new ue,st=x.iterator();st.hasNext();){var Dt=st.next(),Ht=S.map(Dt);null!==Ht&&F.add(Ht)}return F}},Us.MapOp=function(){};var Qe=function(a){function l(){var d=arguments[0];a.call(this,d,arguments[1]),this._ptLocator=new ds,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new xs,this._resultPolyList=new ue,this._resultLineList=new ue,this._resultPointList=new ue,this._graph=new zi(new Vs),this._geomFact=d.getFactory()}return a&&(l.__proto__=a),(l.prototype=Object.create(a&&a.prototype)).constructor=l,l.prototype.insertUniqueEdge=function(d){var g=this._edgeList.findEqualEdge(d);if(null!==g){var y=g.getLabel(),x=d.getLabel();g.isPointwiseEqual(d)||(x=new Cn(d.getLabel())).flip();var S=g.getDepth();S.isNull()&&S.add(y),S.add(x),y.merge(x)}else this._edgeList.add(d)},l.prototype.getGraph=function(){return this._graph},l.prototype.cancelDuplicateResultEdges=function(){for(var d=this._graph.getEdgeEnds().iterator();d.hasNext();){var g=d.next(),y=g.getSym();g.isInResult()&&y.isInResult()&&(g.setInResult(!1),y.setInResult(!1))}},l.prototype.isCoveredByLA=function(d){return!!this.isCovered(d,this._resultLineList)||!!this.isCovered(d,this._resultPolyList)},l.prototype.computeGeometry=function(d,g,y,x){var S=new ue;return S.addAll(d),S.addAll(g),S.addAll(y),S.isEmpty()?l.createEmptyResult(x,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(S)},l.prototype.mergeSymLabels=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();)d.next().getEdges().mergeSymLabels()},l.prototype.isCovered=function(d,g){for(var y=g.iterator();y.hasNext();){var x=y.next();if(this._ptLocator.locate(d,x)!==K.EXTERIOR)return!0}return!1},l.prototype.replaceCollapsedEdges=function(){for(var d=new ue,g=this._edgeList.iterator();g.hasNext();){var y=g.next();y.isCollapsed()&&(g.remove(),d.add(y.getCollapsedEdge()))}this._edgeList.addAll(d)},l.prototype.updateNodeLabelling=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();){var g=d.next(),y=g.getEdges().getLabel();g.getLabel().merge(y)}},l.prototype.getResultGeometry=function(d){return this.computeOverlay(d),this._resultGeom},l.prototype.insertUniqueEdges=function(d){for(var g=d.iterator();g.hasNext();){var y=g.next();this.insertUniqueEdge(y)}},l.prototype.computeOverlay=function(d){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var g=new ue;this._arg[0].computeSplitEdges(g),this._arg[1].computeSplitEdges(g),this.insertUniqueEdges(g),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),pe.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(d),this.cancelDuplicateResultEdges();var y=new oo(this._geomFact);y.add(this._graph),this._resultPolyList=y.getPolygons();var x=new pn(this,this._geomFact,this._ptLocator);this._resultLineList=x.build(d);var S=new nr(this,this._geomFact,this._ptLocator);this._resultPointList=S.build(d),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,d)},l.prototype.labelIncompleteNode=function(d,g){var y=this._ptLocator.locate(d.getCoordinate(),this._arg[g].getGeometry());d.getLabel().setLocation(g,y)},l.prototype.copyPoints=function(d){for(var g=this._arg[d].getNodeIterator();g.hasNext();){var y=g.next();this._graph.addNode(y.getCoordinate()).setLabel(d,y.getLabel().getLocation(d))}},l.prototype.findResultAreaEdges=function(d){for(var g=this._graph.getEdgeEnds().iterator();g.hasNext();){var y=g.next(),x=y.getLabel();x.isArea()&&!y.isInteriorAreaEdge()&&l.isResultOfOp(x.getLocation(0,Zt.RIGHT),x.getLocation(1,Zt.RIGHT),d)&&y.setInResult(!0)}},l.prototype.computeLabelsFromDepths=function(){for(var d=this._edgeList.iterator();d.hasNext();){var g=d.next(),y=g.getLabel(),x=g.getDepth();if(!x.isNull()){x.normalize();for(var S=0;S<2;S++)y.isNull(S)||!y.isArea()||x.isNull(S)||(0===x.getDelta(S)?y.toLine(S):(R.isTrue(!x.isNull(S,Zt.LEFT),"depth of LEFT side has not been initialized"),y.setLocation(S,Zt.LEFT,x.getLocation(S,Zt.LEFT)),R.isTrue(!x.isNull(S,Zt.RIGHT),"depth of RIGHT side has not been initialized"),y.setLocation(S,Zt.RIGHT,x.getLocation(S,Zt.RIGHT))))}}},l.prototype.computeLabelling=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();)d.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},l.prototype.labelIncompleteNodes=function(){for(var d=this._graph.getNodes().iterator();d.hasNext();){var g=d.next(),y=g.getLabel();g.isIsolated()&&(y.isNull(0)?this.labelIncompleteNode(g,0):this.labelIncompleteNode(g,1)),g.getEdges().updateLabelling(y)}},l.prototype.isCoveredByA=function(d){return!!this.isCovered(d,this._resultPolyList)},l.prototype.interfaces_=function(){return[]},l.prototype.getClass=function(){return l},l}(co);Qe.overlayOp=function(a,l,d){return new Qe(a,l).getResultGeometry(d)},Qe.intersection=function(a,l){if(a.isEmpty()||l.isEmpty())return Qe.createEmptyResult(Qe.INTERSECTION,a,l,a.getFactory());if(a.isGeometryCollection()){var d=l;return wr.map(a,{interfaces_:function(){return[Us.MapOp]},map:function(g){return g.intersection(d)}})}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(l),wn.overlayOp(a,l,Qe.INTERSECTION)},Qe.symDifference=function(a,l){if(a.isEmpty()||l.isEmpty()){if(a.isEmpty()&&l.isEmpty())return Qe.createEmptyResult(Qe.SYMDIFFERENCE,a,l,a.getFactory());if(a.isEmpty())return l.copy();if(l.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(l),wn.overlayOp(a,l,Qe.SYMDIFFERENCE)},Qe.resultDimension=function(a,l,d){var g=l.getDimension(),y=d.getDimension(),x=-1;switch(a){case Qe.INTERSECTION:x=Math.min(g,y);break;case Qe.UNION:x=Math.max(g,y);break;case Qe.DIFFERENCE:x=g;break;case Qe.SYMDIFFERENCE:x=Math.max(g,y)}return x},Qe.createEmptyResult=function(a,l,d,g){var y=null;switch(Qe.resultDimension(a,l,d)){case-1:y=g.createGeometryCollection(new Array(0).fill(null));break;case 0:y=g.createPoint();break;case 1:y=g.createLineString();break;case 2:y=g.createPolygon()}return y},Qe.difference=function(a,l){return a.isEmpty()?Qe.createEmptyResult(Qe.DIFFERENCE,a,l,a.getFactory()):l.isEmpty()?a.copy():(a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(l),wn.overlayOp(a,l,Qe.DIFFERENCE))},Qe.isResultOfOp=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1],d=a.getLocation(0),g=a.getLocation(1);return Qe.isResultOfOp(d,g,l)}if(3===arguments.length){var y=arguments[0],x=arguments[1];switch(y===K.BOUNDARY&&(y=K.INTERIOR),x===K.BOUNDARY&&(x=K.INTERIOR),arguments[2]){case Qe.INTERSECTION:return y===K.INTERIOR&&x===K.INTERIOR;case Qe.UNION:return y===K.INTERIOR||x===K.INTERIOR;case Qe.DIFFERENCE:return y===K.INTERIOR&&x!==K.INTERIOR;case Qe.SYMDIFFERENCE:return y===K.INTERIOR&&x!==K.INTERIOR||y!==K.INTERIOR&&x===K.INTERIOR}return!1}},Qe.INTERSECTION=1,Qe.UNION=2,Qe.DIFFERENCE=3,Qe.SYMDIFFERENCE=4;var gn=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new ds,this._seg=new Te;var a=arguments[0],l=arguments[1];this._g=a,this._boundaryDistanceTolerance=l,this._linework=this.extractLinework(a)};gn.prototype.isWithinToleranceOfBoundary=function(a){for(var l=0;l<this._linework.getNumGeometries();l++)for(var d=this._linework.getGeometryN(l).getCoordinateSequence(),g=0;g<d.size()-1;g++)if(d.getCoordinate(g,this._seg.p0),d.getCoordinate(g+1,this._seg.p1),this._seg.distance(a)<=this._boundaryDistanceTolerance)return!0;return!1},gn.prototype.getLocation=function(a){return this.isWithinToleranceOfBoundary(a)?K.BOUNDARY:this._ptLocator.locate(a,this._g)},gn.prototype.extractLinework=function(a){var l=new rl;a.apply(l);var d=l.getLinework(),g=Ve.toLineStringArray(d);return a.getFactory().createMultiLineString(g)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn};var rl=function(){this._linework=null,this._linework=new ue};rl.prototype.getLinework=function(){return this._linework},rl.prototype.filter=function(a){if(a instanceof Qi){var l=a;this._linework.add(l.getExteriorRing());for(var d=0;d<l.getNumInteriorRing();d++)this._linework.add(l.getInteriorRingN(d))}},rl.prototype.interfaces_=function(){return[os]},rl.prototype.getClass=function(){return rl};var xa=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};xa.prototype.extractPoints=function(a,l,d){for(var g=a.getCoordinates(),y=0;y<g.length-1;y++)this.computeOffsetPoints(g[y],g[y+1],l,d)},xa.prototype.setSidesToGenerate=function(a,l){this._doLeft=a,this._doRight=l},xa.prototype.getPoints=function(a){for(var l=new ue,d=to.getLines(this._g).iterator();d.hasNext();){var g=d.next();this.extractPoints(g,a,l)}return l},xa.prototype.computeOffsetPoints=function(a,l,d,g){var y=l.x-a.x,x=l.y-a.y,S=Math.sqrt(y*y+x*x),F=d*y/S,st=d*x/S,Dt=(l.x+a.x)/2,Ht=(l.y+a.y)/2;if(this._doLeft){var $t=new k(Dt-st,Ht+F);g.add($t)}if(this._doRight){var ge=new k(Dt+st,Ht-F);g.add(ge)}},xa.prototype.interfaces_=function(){return[]},xa.prototype.getClass=function(){return xa};var To=function a(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=a.TOLERANCE,this._testCoords=new ue;var l=arguments[0],d=arguments[1],g=arguments[2];this._boundaryDistanceTolerance=a.computeBoundaryDistanceTolerance(l,d),this._geom=[l,d,g],this._locFinder=[new gn(this._geom[0],this._boundaryDistanceTolerance),new gn(this._geom[1],this._boundaryDistanceTolerance),new gn(this._geom[2],this._boundaryDistanceTolerance)]},Ni={TOLERANCE:{configurable:!0}};To.prototype.reportResult=function(a,l,d){jt.out.println("Overlay result invalid - A:"+K.toLocationSymbol(l[0])+" B:"+K.toLocationSymbol(l[1])+" expected:"+(d?"i":"e")+" actual:"+K.toLocationSymbol(l[2]))},To.prototype.isValid=function(a){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(a)},To.prototype.checkValid=function(){if(1===arguments.length){for(var a=arguments[0],l=0;l<this._testCoords.size();l++){var d=this._testCoords.get(l);if(!this.checkValid(a,d))return this._invalidLocation=d,!1}return!0}if(2===arguments.length){var g=arguments[0],y=arguments[1];return this._location[0]=this._locFinder[0].getLocation(y),this._location[1]=this._locFinder[1].getLocation(y),this._location[2]=this._locFinder[2].getLocation(y),!!To.hasLocation(this._location,K.BOUNDARY)||this.isValidResult(g,this._location)}},To.prototype.addTestPts=function(a){var l=new xa(a);this._testCoords.addAll(l.getPoints(5*this._boundaryDistanceTolerance))},To.prototype.isValidResult=function(a,l){var d=Qe.isResultOfOp(l[0],l[1],a),g=!(d^l[2]===K.INTERIOR);return g||this.reportResult(a,l,d),g},To.prototype.getInvalidLocation=function(){return this._invalidLocation},To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.hasLocation=function(a,l){for(var d=0;d<3;d++)if(a[d]===l)return!0;return!1},To.computeBoundaryDistanceTolerance=function(a,l){return Math.min(An.computeSizeBasedSnapTolerance(a),An.computeSizeBasedSnapTolerance(l))},To.isValid=function(a,l,d,g){return new To(a,l,g).isValid(d)},Ni.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(To,Ni);var qr=function a(l){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=a.extractFactory(l),this._inputGeoms=l};qr.prototype.extractElements=function(a,l){if(null===a)return null;for(var d=0;d<a.getNumGeometries();d++){var g=a.getGeometryN(d);this._skipEmpty&&g.isEmpty()||l.add(g)}},qr.prototype.combine=function(){for(var a=new ue,l=this._inputGeoms.iterator();l.hasNext();){var d=l.next();this.extractElements(d,a)}return 0===a.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(a)},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.combine=function(){return 1===arguments.length?new qr(arguments[0]).combine():2===arguments.length?new qr(qr.createList(arguments[0],arguments[1])).combine():3===arguments.length?new qr(qr.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},qr.extractFactory=function(a){return a.isEmpty()?null:a.iterator().next().getFactory()},qr.createList=function(){if(2===arguments.length){var a=arguments[0],l=arguments[1],d=new ue;return d.add(a),d.add(l),d}if(3===arguments.length){var g=arguments[0],y=arguments[1],x=arguments[2],S=new ue;return S.add(g),S.add(y),S.add(x),S}};var Fi=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new ue)},ol={STRTREE_NODE_CAPACITY:{configurable:!0}};Fi.prototype.reduceToGeometries=function(a){for(var l=new ue,d=a.iterator();d.hasNext();){var g=d.next(),y=null;Lt(g,Or)?y=this.unionTree(g):g instanceof he&&(y=g),l.add(y)}return l},Fi.prototype.extractByEnvelope=function(a,l,d){for(var g=new ue,y=0;y<l.getNumGeometries();y++){var x=l.getGeometryN(y);x.getEnvelopeInternal().intersects(a)?g.add(x):d.add(x)}return this._geomFactory.buildGeometry(g)},Fi.prototype.unionOptimized=function(a,l){var d=a.getEnvelopeInternal(),g=l.getEnvelopeInternal();if(!d.intersects(g))return qr.combine(a,l);if(a.getNumGeometries()<=1&&l.getNumGeometries()<=1)return this.unionActual(a,l);var y=d.intersection(g);return this.unionUsingEnvelopeIntersection(a,l,y)},Fi.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var a=new Ei(Fi.STRTREE_NODE_CAPACITY),l=this._inputPolys.iterator();l.hasNext();){var d=l.next();a.insert(d.getEnvelopeInternal(),d)}this._inputPolys=null;var g=a.itemsTree();return this.unionTree(g)},Fi.prototype.binaryUnion=function(){if(1===arguments.length){var a=arguments[0];return this.binaryUnion(a,0,a.size())}if(3===arguments.length){var l=arguments[0],d=arguments[1],g=arguments[2];if(g-d<=1){var y=Fi.getGeometry(l,d);return this.unionSafe(y,null)}if(g-d==2)return this.unionSafe(Fi.getGeometry(l,d),Fi.getGeometry(l,d+1));var x=Math.trunc((g+d)/2),S=this.binaryUnion(l,d,x),F=this.binaryUnion(l,x,g);return this.unionSafe(S,F)}},Fi.prototype.repeatedUnion=function(a){for(var l=null,d=a.iterator();d.hasNext();){var g=d.next();l=null===l?g.copy():l.union(g)}return l},Fi.prototype.unionSafe=function(a,l){return null===a&&null===l?null:null===a?l.copy():null===l?a.copy():this.unionOptimized(a,l)},Fi.prototype.unionActual=function(a,l){return Fi.restrictToPolygons(a.union(l))},Fi.prototype.unionTree=function(a){var l=this.reduceToGeometries(a);return this.binaryUnion(l)},Fi.prototype.unionUsingEnvelopeIntersection=function(a,l,d){var g=new ue,y=this.extractByEnvelope(d,a,g),x=this.extractByEnvelope(d,l,g),S=this.unionActual(y,x);return g.add(S),qr.combine(g)},Fi.prototype.bufferUnion=function(){if(1===arguments.length){var a=arguments[0];return a.get(0).getFactory().buildGeometry(a).buffer(0)}if(2===arguments.length){var l=arguments[0],d=arguments[1];return l.getFactory().createGeometryCollection([l,d]).buffer(0)}},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},Fi.restrictToPolygons=function(a){if(Lt(a,Ks))return a;var l=fs.getPolygons(a);return 1===l.size()?l.get(0):a.getFactory().createMultiPolygon(Ve.toPolygonArray(l))},Fi.getGeometry=function(a,l){return l>=a.size()?null:a.get(l)},Fi.union=function(a){return new Fi(a).union()},ol.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Fi,ol);var Wr=function(){};Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr},Wr.union=function(a,l){if(a.isEmpty()||l.isEmpty()){if(a.isEmpty()&&l.isEmpty())return Qe.createEmptyResult(Qe.UNION,a,l,a.getFactory());if(a.isEmpty())return l.copy();if(l.isEmpty())return a.copy()}return a.checkNotGeometryCollection(a),a.checkNotGeometryCollection(l),wn.overlayOp(a,l,Qe.UNION)},$.GeoJSONReader=Ba,$.GeoJSONWriter=Ku,$.OverlayOp=Qe,$.UnionOp=Wr,$.BufferOp=br,Object.defineProperty($,"__esModule",{value:!0})}(Pt)},2614:()=>{"use strict";const te=":";const yn=function(Tt,...X){if(yn.translate){const P=yn.translate(Tt,X);Tt=P[0],X=P[1]}let O=Be(Tt[0],Tt.raw[0]);for(let P=1;P<Tt.length;P++)O+=X[P-1]+Be(Tt[P],Tt.raw[P]);return O},En=":";function Be(Tt,X){return X.charAt(0)===En?Tt.substring(function Et(Tt,X){for(let O=1,P=1;O<Tt.length;O++,P++)if("\\"===X[P])P++;else if(Tt[O]===te)return O;throw new Error(`Unterminated $localize metadata block in "${X}".`)}(Tt,X)+1):Tt}globalThis.$localize=yn}},te=>{var Pt=J=>te(te.s=J);Pt(2614),Pt(4514)}]);