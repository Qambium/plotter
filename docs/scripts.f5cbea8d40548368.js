!function(y,p){"object"==typeof exports&&typeof module<"u"?module.exports=p():"function"==typeof define&&define.amd?define(p):y.pattern=p()}(this,function(){"use strict";var O="round",h=(function(){function r(i){this.value=i}function t(i){var e,n;function a(g,_){try{var m=i[g](_),x=m.value;x instanceof r?Promise.resolve(x.value).then(function(d){a("next",d)},function(d){a("throw",d)}):s(m.done?"return":"normal",m.value)}catch(d){s("throw",d)}}function s(g,_){switch(g){case"return":e.resolve({value:_,done:!0});break;case"throw":e.reject(_);break;default:e.resolve({value:_,done:!1})}(e=e.next)?a(e.key,e.arg):n=null}this._invoke=function o(g,_){return new Promise(function(m,x){var d={key:g,arg:_,resolve:m,reject:x,next:null};n?n=n.next=d:(e=n=d,a(g,_))})},"function"!=typeof i.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(i){return this._invoke("next",i)},t.prototype.throw=function(i){return this._invoke("throw",i)},t.prototype.return=function(i){return this._invoke("return",i)}}(),function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}),u=function(){function r(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&r(t.prototype,i),e&&r(t,e),t}}(),q=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(r[e]=i[e])}return r},l=function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)},c=function(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?r:t},f=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(100, 100, 100, 0.7)",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 0.8)";return h(this,r),this._canvas=document.createElement("canvas"),this._context=this._canvas.getContext("2d"),this._canvas.width=t,this._canvas.height=t,this._context.fillStyle=i,this._context.fillRect(0,0,this._canvas.width,this._canvas.height),this._size=t,this._patternColor=e,this}return u(r,[{key:"setStrokeProps",value:function(){this._context.strokeStyle=this._patternColor,this._context.lineWidth=this._size/10,this._context.lineJoin=O,this._context.lineCap=O}},{key:"setFillProps",value:function(){this._context.fillStyle=this._patternColor}}]),r}(),R=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawPlus(),this.drawPlus(e,e),this._context.stroke(),this._canvas}},{key:"drawPlus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._size,a=o/2,s=o/4;this._context.moveTo(s+e,0+n),this._context.lineTo(s+e,a+n),this._context.moveTo(0+e,s+n),this._context.lineTo(a+e,s+n),this._context.closePath()}}]),t}(f),D=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawCross(),this.drawCross(e,e),this._context.stroke(),this._canvas}},{key:"drawCross",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this._size/2;this._context.moveTo(e+2,n+2),this._context.lineTo(a-2+e,a-2+n),this._context.moveTo(e+2,a-2+n),this._context.lineTo(a-2+e,n+2),this._context.closePath()}}]),t}(f),z=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDash(),this.drawDash(e,e),this._context.stroke(),this._canvas}},{key:"drawDash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this._size/2;this._context.moveTo(e+2,n+2),this._context.lineTo(a-2+e,a-2+n),this._context.closePath()}}]),t}(f),Y=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new D).drawCross.call(this),(new z).drawDash.call(this,e,e),this._context.stroke(),this._canvas}}]),t}(f),w=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDot(),this.drawDot(e,e),this._context.fill(),this._canvas}},{key:"drawDot",value:function(){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._size/10,s=this._size/4,g=s+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0),_=s+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);this._context.moveTo(g+s,_),this._context.arc(g,_,o,0,2*Math.PI),this._context.closePath()}}]),t}(f),X=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),(new z).drawDash.call(this,e,e),this._context.closePath(),this._context.stroke(),this.setFillProps(),(new w).drawDot.call(this),this._context.fill(),this._canvas}}]),t}(f),B=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2,n=this._size/5;return this._context.beginPath(),this.setFillProps(),this.drawDot(0,0,n),this.drawDot(e,e,n),this._context.fill(),this._canvas}}]),t}(w),I=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2,n=this._size/5;return this._context.beginPath(),this.setStrokeProps(),this.drawDot(0,0,n),this.drawDot(e,e,n),this._context.stroke(),this._canvas}}]),t}(w),T=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawLine(),this.drawLine(e,e),this._context.stroke(),this._canvas}},{key:"drawLine",value:function(){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this._size/4;this._context.moveTo(0,a+n),this._context.lineTo(this._size,a+n),this._context.closePath()}}]),t}(f),E=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),T.prototype.drawTile.call(this),this._canvas}}]),t}(T),F=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawWeave(0,0),this._context.stroke(),this._canvas}},{key:"drawWeave",value:function(e,n){var o=this._size,a=o/2;this._context.moveTo(e+1,n+1),this._context.lineTo(a-1,a-1),this._context.moveTo(a+1,o-1),this._context.lineTo(o-1,a+1),this._context.closePath()}}]),t}(f),P=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){return this._context.beginPath(),this.setStrokeProps(),this.drawZigzag(),this.drawZigzag(this._size/2),this._context.stroke(),this._canvas}},{key:"drawZigzag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this._size,o=n/4,a=n/2,s=n/10;this._context.moveTo(0,s+e),this._context.lineTo(o,a-s+e),this._context.lineTo(a,s+e),this._context.lineTo(n-o,a-s+e),this._context.lineTo(n,s+e)}}]),t}(f),Z=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),P.prototype.drawTile.call(this),this._canvas}}]),t}(P),k=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiagonalLine(),this.drawDiagonalLine(e,e),this._context.stroke(),this._canvas}},{key:"drawDiagonalLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._size,a=o/2;this._context.moveTo(a-1-e,-1+n),this._context.lineTo(o+1-e,a+1+n),this._context.closePath()}}]),t}(f),M=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){return this._context.translate(this._size,0),this._context.rotate(90*Math.PI/180),k.prototype.drawTile.call(this),this._canvas}}]),t}(k),V=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawSquare(),this.drawSquare(e,e),this._context.fill(),this._canvas}},{key:"drawSquare",value:function(){var o=this._size,a=o/2,s=o/20;this._context.fillRect((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+s,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+s,a-2*s,a-2*s),this._context.closePath()}}]),t}(f),W=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawBox(),this.drawBox(e,e),this._context.stroke(),this._canvas}},{key:"drawBox",value:function(){var o=this._size,a=o/2,s=o/20;this._context.strokeRect((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+s,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+s,a-4*s,a-4*s),this._context.closePath()}}]),t}(f),S=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawTriangle(),this.drawTriangle(e,e),this._context.fill(),this._canvas}},{key:"drawTriangle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._size,a=o/2;this._context.moveTo(o/4+e,n),this._context.lineTo(a+e,a+n),this._context.lineTo(e,a+n),this._context.closePath()}}]),t}(f),A=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size;return this._context.translate(e,e),this._context.rotate(180*Math.PI/180),S.prototype.drawTile.call(this),this._canvas}}]),t}(S),j=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setFillProps(),this.drawDiamond(),this.drawDiamond(e,e),this._context.fill(),this._canvas}},{key:"drawDiamond",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._size,a=o/2,s=o/4;this._context.moveTo(s+e,n),this._context.lineTo(a+e,s+n),this._context.lineTo(s+e,a+n),this._context.lineTo(e,s+n),this._context.closePath()}}]),t}(f),G=function(r){function t(){return h(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,r),u(t,[{key:"drawTile",value:function(){var e=this._size/2;return this._context.beginPath(),this.setStrokeProps(),this.drawDiamond(),this.drawDiamond(e,e),this._context.stroke(),this._canvas}},{key:"drawDiamond",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this._size,a=o/2-1,s=o/4;this._context.moveTo(s+e,n+1),this._context.lineTo(a+e,s+n),this._context.lineTo(s+e,a+n),this._context.lineTo(e+1,s+n),this._context.closePath()}}]),t}(j),v={plus:R,cross:D,dash:z,"cross-dash":Y,dot:w,"dot-dash":X,disc:B,ring:I,line:T,"line-vertical":E,weave:F,zigzag:P,"zigzag-vertical":Z,diagonal:k,"diagonal-right-left":M,square:V,box:W,triangle:S,"triangle-inverted":A,diamond:j,"diamond-box":G},L=[];function b(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.keys(v);r.forEach(function(e){t.splice(t.indexOf(e),1)});var i=Math.floor(Math.random()*t.length);return t[i]}function C(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"square",t=arguments[1],i=arguments[2],e=arguments[3],n=document.createElement("canvas"),o=n.getContext("2d"),a=2*e,g=new(0,L[r])(e,t,i),_=o.createPattern(g.drawTile(),"repeat");return n.width=a,n.height=a,_.shapeType=r,_}return q(L,v,{circle:v.disc,"triangle-vertical":v["triangle-inverted"],"line-horizontal":v.line,"line-diagonal-lr":v.diagonal,"line-diagonal-rl":v["diagonal-right-left"],"zigzag-horizontal":v.zigzag,"diamond-outline":v["diamond-box"]}),{draw:C,generate:function J(r){var t=void 0,i=void 0;return r.map(function(e,n,o){var a=void 0;return 0===n?(a=b(),t=i=a):n===o.length-1?a=b([i,t]):(a=b([i]),i=a),C(a,e)})}}});